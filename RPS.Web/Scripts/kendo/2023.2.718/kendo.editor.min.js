/**
 * Kendo UI v2023.2.718 (http://www.telerik.com/kendo-ui)
 * Copyright 2023 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("kendo.combobox.js"),require("kendo.dropdownlist.js"),require("kendo.resizable.js"),require("kendo.window.js"),require("kendo.colorpicker.js"),require("kendo.imagebrowser.js"),require("kendo.numerictextbox.js"),require("kendo.textarea.js"),require("kendo.core.js"),require("kendo.toolbar.js"),require("kendo.icons.js"),require("kendo.form.js"),require("kendo.filebrowser.js"),require("kendo.draganddrop.js"),require("kendo.html.button.js"),require("kendo.tabstrip.js")):"function"==typeof define&&define.amd?define(["kendo.combobox.min","kendo.dropdownlist.min","kendo.resizable.min","kendo.window.min","kendo.colorpicker.min","kendo.imagebrowser.min","kendo.numerictextbox.min","kendo.textarea.min","kendo.core.min","kendo.toolbar.min","kendo.icons.min","kendo.form.min","kendo.filebrowser.min","kendo.draganddrop.min","kendo.html.button.min","kendo.tabstrip.min"],t):((e="undefined"!=typeof globalThis?globalThis:e||self).kendoeditor=e.kendoeditor||{},e.kendoeditor.js=t())}(this,(function(){var e,t,n,i,o,r,a,s,l,d;!function(e){var t=e.Observable.extend({init:function(t){e.Observable.fn.init.call(this,t),this.clear()},events:["undo","redo"],push:function(e){this.stack=this.stack.slice(0,this.currentCommandIndex+1),this.currentCommandIndex=this.stack.push(e)-1},undo:function(){if(this.canUndo()){var e=this.stack[this.currentCommandIndex--];e.undo(),this.trigger("undo",{command:e})}},redo:function(){if(this.canRedo()){var e=this.stack[++this.currentCommandIndex];e.redo(),this.trigger("redo",{command:e})}},clear:function(){this.stack=[],this.currentCommandIndex=-1},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});e.deepExtend(e,{util:{UndoRedoStack:t}})}(kendo),function(e,t){var n=window.kendo,i=n.Class,o=n.ui.Widget,r=n.support.mobileOS,a=n.support.browser,s=e.extend,l=n.deepExtend,d=n.keys,c=n._outerWidth,u=n._outerHeight,p="select",f="select.k-select-overlay",h="k-placeholder",m=["insertLineBreak","insertParagraph","redo","undo","autoLink"],g={editorWrapperTemplate:function(){return'<div class="k-editor"><div class="k-editor-toolbar" role="toolbar"></div><div class="k-editable-area k-editor-content"></div></div>'},formatByName:function(t,n){for(var i=0;i<n.length;i++)if(e.inArray(t,n[i].tags)>=0)return n[i]},getToolCssClass:function(e,t){var n={superscript:"supscript",subscript:"subscript",justifyLeft:"align-left",justifyCenter:"align-center",justifyRight:"align-right",justifyFull:"align-justify",insertUnorderedList:"list-unordered",insertOrderedList:"list-ordered",insertUpperRomanList:"list-roman-upper",insertLowerRomanList:"list-roman-lower",import:"import",indent:"indent",outdent:"outdent",createLink:"link",unlink:"unlink",insertImage:"image",insertFile:"file-add",viewHtml:"code",foreColor:"foreground-color",backColor:"droplet",createTable:"table-add",addColumnLeft:"table-column-insert-left",addColumnRight:"table-column-insert-right",addRowAbove:"table-row-insert-above",addRowBelow:"table-row-insert-below",deleteRow:"table-row-delete",deleteColumn:"table-column-delete",mergeCellsHorizontally:"cells-merge-horizontally",mergeCellsVertically:"cells-merge-vertically",splitCellHorizontally:"cell-split-horizontally",splitCellVertically:"cell-split-vertically",tableProperties:"table-properties",tableCellProperties:"table-cell-properties",tableWizardInsert:"table-wizard",tableAlignLeft:"table-position-start",tableAlignCenter:"table-position-center",tableAlignRight:"table-position-end",cleanFormatting:"clear-css",copyFormat:"copy-format",applyFormat:"apply-format"}[e];return n||(t||g.nameToKebab(e))},nameToKebab:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()},registerTool:function(e,t){t.name||(t.options.name=e,t.name=e.toLowerCase()),t.options.ui||(t.options.ui={}),t.options.ui.command=e,y.defaultTools[e]=t},registerFormat:function(e,t){y.fn.options.formats[e]=t},cacheComments:function(e,t){for(var n in t)e=e.replace(t[n],"{"+n+"}");return e},retrieveComments:function(e,t){for(var n in t)e=e.replace("{"+n+"}",t[n]);return e}},b=void 0!==document.documentElement.contentEditable,v={basic:["bold","italic","underline","strikethrough"],undo:["undo","redo"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","insertUpperRomanList","insertLowerRomanList"],dent:["indent","outdent"],tablesWizard:["tableProperties","tableCellProperties"],tablesInsert:["createTable"],tablesAddDelete:["addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],tablesMerge:["mergeCellsHorizontally","mergeCellsVertically","splitCellHorizontally","splitCellVertically"],tablesPosition:["tableAlignLeft","tableAlignCenter","tableAlignRight"],formatPainter:["copyFormat","applyFormat"]},y=o.extend({init:function(e,i){var r,a,s,d=this,c=n.ui.editor,u=c.Dom;b&&(o.fn.init.call(d,e,i),d.options=l({},d.options,i),s=(e=d.element)[0],a=u.name(s),this._registerHandler(e.closest("form"),"submit",d.update.bind(d,t)),r=d._setupType(e),d._initToolbar(r),d._setupHeight(a),d._resizable(),d._initializeContentElement(d),d._setupKeyboard(),d.clipboard=new c.Clipboard(this),d.undoRedoStack=new n.util.UndoRedoStack,d._populateValue(i,s),d._registerHandler(document,{mousedown:function(){d._endTyping()},mouseup:function(e){d._mouseup(e)}}),d._initializeImmutables(),"textarea"==a&&d._ariaLabel(d.wrapper.find("iframe")),d.toolbar.resize(),n.notify(d))},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:{auto:"Auto",bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",fitToCell:"Fit to cell",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",editAreaTitle:"Editable area. Press F10 for toolbar.",uploadFile:"Upload",overflowAnchor:"More tools",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",fileText:"Text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogOk:"Confirm",dialogCancel:"Cancel",cleanFormatting:"Clean formatting",createTable:"Create a table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column",mergeCellsHorizontally:"Merge cells horizontally",mergeCellsVertically:"Merge cells vertically",splitCellHorizontally:"Split cells horizontally",splitCellVertically:"Split cells vertically",tableAlignLeft:"Table Align Left",tableAlignCenter:"Table Align Center",tableAlignRight:"Table Align Right",tableWizard:"Table Wizard",tableProperties:"Table Properties",tableCellProperties:"Cell Properties",tableTab:"General",cellTab:"Cell",accessibilityTab:"Advanced",caption:"Caption",summary:"Summary",width:"Width",height:"Height",units:"Units",cellSpacing:"Cell Spacing",cellPadding:"Cell Padding",cellMargin:"Cell Margin",alignment:"Alignment",captionAlignment:"Caption alignment",position:"Position",background:"Background",tableBackground:"Table background",cssClass:"CSS Class",id:"ID",border:"Border",borderStyle:"Border Style",borderWidth:"Border Width",borderColor:"Border Color",collapseBorders:"Collapse borders",wrapText:"Wrap text",associateCellsWithHeaders:"Associate headers",alignLeft:"Align Left",alignCenter:"Align Center",alignRight:"Align Right",alignLeftTop:"Align Left Top",alignCenterTop:"Align Center Top",alignRightTop:"Align Right Top",alignLeftMiddle:"Align Left Middle",alignCenterMiddle:"Align Center Middle",alignRightMiddle:"Align Right Middle",alignLeftBottom:"Align Left Bottom",alignCenterBottom:"Align Center Bottom",alignRightBottom:"Align Right Bottom",alignRemove:"Remove Alignment",columns:"Columns",rows:"Rows",selectAllCells:"Apply to all cells",applyToColumn:"apply to column",applyToRow:"apply to row",exportAs:"Export As",import:"Import",print:"Print",headerRows:"Header Rows",headerColumns:"Header Cols",tableSummaryPlaceholder:"Summary attribute is not HTML5 compatible.",associateNone:"None",associateScope:"Associate using 'scope' attribute",associateIds:"Associate using Ids",copyFormat:"Copy format",applyFormat:"Apply format",borderNone:"None",undo:"Undo",redo:"Redo"},placeholder:"",formats:{},encoded:!0,domain:null,resizable:!1,deserialization:{custom:null},serialization:{entities:!0,semantic:!0,scripts:!1,optimizeTags:!1,keepEOL:!1},pasteCleanup:{all:!1,css:!1,custom:null,keepNewLines:!1,msAllFormatting:!1,msConvertLists:!0,msTags:!0,none:!1,span:!1},stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},imageBrowser:null,fileBrowser:null,navigateOnTab:!1,fontName:[{text:"Arial",value:"Arial, Helvetica, sans-serif"},{text:"Courier New",value:'"Courier New", Courier, monospace'},{text:"Georgia",value:"Georgia, serif"},{text:"Impact",value:"Impact, Charcoal, sans-serif"},{text:"Lucida Console",value:'"Lucida Console", Monaco, monospace'},{text:"Tahoma",value:"Tahoma, Geneva, sans-serif"},{text:"Times New Roman",value:'"Times New Roman", Times, serif'},{text:"Trebuchet MS",value:'"Trebuchet MS", Helvetica, sans-serif'},{text:"Verdana",value:"Verdana, Geneva, sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:["formatting","bold","italic","underline","undo","redo","justifyLeft","justifyCenter","justifyRight","copyFormat","applyFormat","insertUnorderedList","insertOrderedList","indent","outdent","createLink","unlink","insertImage","tableProperties","tableCellProperties","createTable","addRowAbove","addRowBelow","addColumnLeft","addColumnRight","deleteRow","deleteColumn","mergeCellsHorizontally","mergeCellsVertically","splitCellHorizontally","splitCellVertically","tableAlignLeft","tableAlignCenter","tableAlignRight"]},destroy:function(){o.fn.destroy.call(this),this._endTyping(!0),this._deregisterHandlers(),clearTimeout(this._spellCorrectTimeout),this._focusOutside(),this.toolbar.destroy(),this.windowInstance&&this.windowInstance.destroy(),this.tablePopup&&this.tablePopup.destroy(),this._destroyUploadWidget(),this._destroyResizings(),n.destroy(this.wrapper)},setOptions:function(e){o.fn.setOptions.call(this,e),e.tools&&this._setOptionsTools(e.tools),this._initializePlaceholder()},createRange:function(e){return n.ui.editor.RangeUtils.createRange(e||this.document)},encodedValue:function(){return n.ui.editor.Dom.encode(this.value())},exec:function(e,t){var i,o,r=this,a=null,l=n.ui.Editor.defaultTools;if(!e)throw new Error("kendoEditor.exec(): `name` parameter cannot be empty");if("true"!==r.body.getAttribute("contenteditable")&&"print"!==e&&"pdf"!==e&&"exportAs"!==e)return!1;if(r.keyboard.isTypingInProgress()||(r._focusBody(),r.selectRange(r._range||r.getRange())),(o=r.tools[e]||l[e])||Object.keys(l).map((function(t){t.toLowerCase()===e&&(o=l[t])})),o){if(i=r.getRange(),o.command&&(a=o.command(s({range:i,body:r.body,immutables:!!r.immutables},t))),r.trigger("execute",{name:e,command:a}))return;if(/^(undo|redo)$/i.test(e))r.undoRedoStack[e]();else if(a&&(r.execCommand(a),a.async))return void(a.change=r._selectionChange.bind(r));r._selectionChange()}},execCommand:function(e){e.managesUndoRedo||this.undoRedoStack.push(e),e.editor=this,e.exec()},focus:function(){this.restoreSelection()},getRange:function(){var e=this.getSelection(),t=e&&e.rangeCount>0?e.getRangeAt(0):this.createRange(),n=this.document;return t.startContainer!=n||t.endContainer!=n||t.startOffset||t.endOffset||(t.setStart(this.body,0),t.collapse(!0)),t},getSelection:function(){return n.ui.editor.SelectionUtils.selectionFromDocument(this.document)},paste:function(t,i){this.focus();var o=new n.ui.editor.InsertHtmlCommand(e.extend({range:this.getRange(),html:t},i));o.editor=this,o.exec()},refresh:function(){var e=this;if(e.textarea){e._destroyResizings();var t=e.value();e.textarea.val(t),e.wrapper.find("iframe").remove(),e._initializeContentElement(e),e.value(t)}},restoreSelection:function(){this._focusBody(),this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange())},saveSelection:function(t){var i=(t=t||this.getRange()).commonAncestorContainer,o=this.body;(i==o||e.contains(o,i))&&(this.selectionRestorePoint=new n.ui.editor.RestorePoint(t,o))},selectedHtml:function(){return n.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},selectRange:function(e){this._focusBody();var t=this.getSelection();t.removeAllRanges(),t.addRange(e),this.saveSelection(e)},state:function(e){var t,i,o=n.ui.Editor.defaultTools[e],r=o&&(o.options.finder||o.finder),a=n.ui.editor.RangeUtils;return!!r&&(t=this.getRange(),!(i=a.textNodes(t)).length&&t.collapsed&&(i=[t.startContainer]),r.getFormat?r.getFormat(i):r.isFormatted(i))},update:function(e){e=e||this.options.encoded?this.encodedValue():this.value(),this.textarea?(this.textarea.val(e),this._togglePlaceholder(!e.trim())):this._oldValue=e},value:function(e){var i=this.body,o=n.ui.editor,r=this.options,a=o.Serializer.domToXhtml(i,r.serialization);if(e===t)return a;e!=a&&(o.Serializer.htmlToDom(e,i,r.deserialization),this.selectionRestorePoint=null,this.update(),this._refreshTools())},_bindTools:function(){var t=this,n=this.tools;t.unbind("select",t.toolbar.resize.bind(t.toolbar)),t.toolbar.element.find("[data-command]").filter((function(t,n){return 0===e(n).find("[data-command]").length})).each((function(i,o){var r=o.getAttribute("data-command"),a=n[r];a&&a.initialize&&a.initialize(e(o),t)})),t.bind("select",t.toolbar.resize.bind(t.toolbar))},_blur:function(){var e=this.textarea,t=e?e.val():this._oldValue,n=this.options.encoded?this.encodedValue():this.value();this.update(),e&&e.trigger("blur"),n!=t&&(this.trigger("change"),e&&e.trigger("change"))},_containsRange:function(e){var t=n.ui.editor.Dom,i=this.body;return e&&t.isAncestorOrSelf(i,e.startContainer)&&t.isAncestorOrSelf(i,e.endContainer)},_createContentElement:function(t){var i,o,s,l,d=this,c=d.textarea,u=d.options.domain,p=u||document.domain,f="",h='javascript:""';return c.hide(),i=e("<iframe />",{title:d.options.messages.editAreaTitle,frameBorder:"0"})[0],e(i).css("display","").addClass("k-content k-iframe").attr("tabindex",c[0].tabIndex).insertBefore(c),(u||p!=location.hostname)&&(h="javascript:document.write('"+(f='<script>document.domain="'+p+'"<\/script>')+"')",i.src=h),i.src||(i.src=""),o=i.contentWindow||i,s=o.document||i.contentDocument,e(i).one("load",(function(){d._decorateFormatting(s.body)})),l=document.getElementsByTagName("html")[0].getAttribute("lang")||"en",s.open(),s.write("<!DOCTYPE html><html lang='"+l+"'><head><meta charset='utf-8' /><title>Kendo UI Editor content</title><style>html{padding:0;margin:0;height:100%;min-height:100%;cursor:text;}body{padding:0;margin:0;}body{box-sizing:border-box;font-size:12px;font-family:Verdana,Geneva,sans-serif;margin-top:-1px;padding:5px .4em 0;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(n.support.isRtl(c)?"direction:rtl;":"")+(r.ios?"word-break:keep-all;":"")+(a.edge||a.chrome?"height:100%;":"")+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table th{outline:0;border: 1px dotted #999;}.k-table p{margin:0;padding:0;}.k-column-resize-handle-wrapper {position: absolute; height: 10px; width:10px; cursor: col-resize; z-index: 2;}.k-column-resize-handle {width: 100%; height: 100%;}.k-column-resize-handle > .k-column-resize-marker {width:2px; height:100%; margin:0 auto; background-color:#00b0ff; display:none; opacity:0.8;}.k-row-resize-handle-wrapper {position: absolute; cursor: row-resize; z-index:2; width: 10px; height: 10px;}.k-row-resize-handle {display: table; width: 100%; height: 100%;}.k-row-resize-marker-wrapper{display: table-cell; height:100%; width:100%; margin:0; padding:0; vertical-align: middle;}.k-row-resize-marker{margin: 0; padding:0; width:100%; height:2px; background-color: #00b0ff; opacity:0.8; display:none;}.k-element-resize-handle-wrapper {position: absolute; background-color: #fff; border: 1px solid #000; z-index: 100; width: 5px; height: 5px;}.k-element-resize-handle {width: 100%; height: 100%;}.k-element-resize-handle.k-resize-east{cursor:e-resize;}.k-element-resize-handle.k-resize-north{cursor:n-resize;}.k-element-resize-handle.k-resize-northeast{cursor:ne-resize;}.k-element-resize-handle.k-resize-northwest{cursor:nw-resize;}.k-element-resize-handle.k-resize-south{cursor:s-resize;}.k-element-resize-handle.k-resize-southeast{cursor:se-resize;}.k-element-resize-handle.k-resize-southwest{cursor:sw-resize;}.k-element-resize-handle.k-resize-west{cursor:w-resize;}.k-table.k-element-resizing{opacity:0.6;}.k-placeholder{color:grey}k\\:script{display:none;}</style>"+f+e.map(t,(function(e){return"<link rel='stylesheet' href='"+e+"'>"})).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),s.close(),o},_deleteSavedRange:function(){"_range"in this&&delete this._range},_decorateFormatting:function(t){var i,o,r,a,s,l,d,c=this.toolbar.element.find("input[data-command=formatting]"),u=n.ui.editor.Dom;if(c.length){if(!(i=c.getKendoDropDownList()))return;for(r=(o=i.dataSource).data(),t&&i.list.css("background-color",u.getEffectiveBackground(e(t))),a=0;a<r.length;a++)s=r[a].tag||"span",l=r[a].className,d=(d=u.inlineStyle(t,s,{className:l})).replace(/"/g,"'"),r[a].style=d+";display:inline-block";o.trigger("change")}},_deregisterHandlers:function(){for(var e=this._handlers,t=0;t<e.length;t++){var n=e[t];n.element.off(n.type,n.handler)}this._handlers=[]},_destroyUploadWidget:function(){var e=this;e._uploadWidget&&(e._uploadWidget.destroy(),e._uploadWidget=null)},_endTyping:function(){var e=this.keyboard;try{e.isTypingInProgress()&&(e.endTyping(!0),this.saveSelection())}catch(e){}},_focusBody:function(){var e,t=this.body,i=this.wrapper&&this.wrapper.find("iframe")[0],o=this.document.documentElement,r=n._activeElement();!i&&t.scrollHeight>t.clientHeight?(e=t.scrollTop,t.focus(),t.scrollTop=e):r!=t&&r!=i&&(e=o.scrollTop,t.focus(),o.scrollTop=e)},_focusOutside:function(){n.support.browser.msie&&this.textarea&&e("<input style='position:fixed;left:1px;top:1px;width:1px;height:1px;font-size:0;border:0;opacity:0' />").appendTo(document.body).trigger("focus").trigger("blur").remove()},_handleToolbarClick:function(e){var t=e.target.data("command");t&&"createTable"!==t&&this.exec(t)},_immutablesContext:function(e){var t=n.ui.editor;if(this.options.immutables)return e.collapsed?t.Immutables.immutablesContext(e):0===t.RangeUtils.editableTextNodes(e).length},_initializeContentElement:function(){var i,o,r,a=this;if(a.textarea){if(a.window=a._createContentElement(a.options.stylesheets),!(i=a.document=a.window.contentDocument||a.window.document).body){var s=i.createElement("body");s.setAttribute("contenteditable","true"),s.setAttribute("autocorrect","off"),i.getElementsByTagName("html")[0].appendChild(s);var l=setInterval((function(){e(a.document).find("body").length>1&&(e(a.document).find("body").last().remove(),window.clearInterval(l))}),10)}a.body=i.body,o=a.window,r=i,this._registerHandler(i,"mouseup",this._mouseup.bind(this))}else a.window=window,i=a.document=document,a.body=a.element[0],o=a.body,r=a.body,setTimeout((function(){a._decorateFormatting(a.body)}));this._registerHandler(o,"blur",this._blur.bind(this)),a._registerHandler(r,"down",a._mousedown.bind(a));try{i.execCommand("enableInlineTableEditing",null,!1)}catch(e){}n.support.touch&&this._registerHandler(i,{keydown:function(){n._activeElement()!=i.body&&a.window.focus()}}),this._initializePlaceholder(),this._spellCorrect(a),this._registerHandler(a.document,{"mouseover dragenter":function(t){var n=e(a.body).height();e(a.body.parentElement).height()>n&&"html"===t.target.nodeName.toLowerCase()&&(a._cachedHeight=""+a.body.style.height,a.body.style.height="100%")},"mouseout dragleave drop contextmenu":function(e){var n=function(){a._cachedHeight!==t&&e.target===a.body&&(a.body.style.height=a._cachedHeight,delete a._cachedHeight)};"contextmenu"===e.type?setTimeout((function(){n()}),10):n()}}),this._registerHandler(a.body,{keydown:function(e){var t;if((e.keyCode===d.BACKSPACE||e.keyCode===d.DELETE)&&"true"!==a.body.getAttribute("contenteditable"))return!1;if(e.keyCode===d.F10)return a.toolbar.element.find("[tabindex=0]").first().trigger("focus"),a.toolbar.preventPopupHide=!0,void e.preventDefault();if(e.keyCode==d.LEFT||e.keyCode==d.RIGHT){t=a.getRange();var n=e.keyCode==d.LEFT,i=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],r=o+(n?-1:1),s=n?r:o;3==i.nodeType&&"\ufeff"==i.nodeValue[s]&&(t.setStart(i,r),t.collapse(!0),a.selectRange(t))}var l=a.tools,c=a.keyboard.toolFromShortcut(l,e),u=c?l[c].options:{};if(c&&!u.keyPressCommand)return e.preventDefault(),/^(undo|redo)$/.test(c)||a.keyboard.endTyping(!0),a.trigger("keydown",e),a.exec(c),a._runPostContentKeyCommands(e),!1;a.keyboard.clearTimeout(),a.keyboard.keydown(e)},keypress:function(e){setTimeout((function(){a._runPostContentKeyCommands(e),a._showElementResizeHandles()}),0)},keyup:function(t){var n=[d.BACKSPACE,d.TAB,d.PAGEUP,d.PAGEDOWN,d.END,d.HOME,d.LEFT,d.UP,d.RIGHT,d.DOWN,d.INSERT,d.DELETE];(e.inArray(t.keyCode,n)>-1||65==t.keyCode&&t.ctrlKey&&!t.altKey&&!t.shiftKey)&&(window.clearTimeout(this._refreshInterval),this._refreshInterval=window.setTimeout((function(){a._selectionChange()}),200)),a.keyboard.keyup(t)},click:function(e){var t;"img"===n.ui.editor.Dom.name(e.target)&&((t=a.createRange()).selectNode(e.target),a.selectRange(t))},"cut copy paste drop dragover":function(e){a.clipboard["on"+e.type](e)},focusin:function(){a.body.hasAttribute("contenteditable")&&(e(this).addClass("k-active"),a._showWindow(),a._togglePlaceholder(!1))},focusout:function(){setTimeout((function(){var t=n._activeElement(),i=a.body,o=a.toolbar;if(o.options.popup){var r=a.windowInstance.element.get(0);r&&!e.contains(r,t)&&r!=t&&(o.preventPopupHide=!1)}t==i||e.contains(i,t)||a._toolbarFocused()||o.preventPopupHide||e(t).hasClass("k-context-menu")||(e(i).removeClass("k-active"),a._hideWindow()),a._togglePlaceholder(!a.value().trim())}),10)}}),a._initializeColumnResizing(),a._initializeRowResizing(),a._initializeElementResizing()},_initializeImmutables:function(){var e=this,t=n.ui.editor;e.options.immutables&&(e.immutables=new t.Immutables(e))},_initializePlaceholder:function(){var t,n,i=this,o=i.options.placeholder;i.textarea&&o&&(t="<style id='placeholder'>.k-placeholder:before { content: '"+o+"'; }</style>",(n=e(i.document.head)).find("#placeholder").remove(),n.append(t),i._togglePlaceholder(!i.value().trim()))},_initToolbar:function(e){var t,i,o,r,a=this;a.tools=[],i=(t=a._processToolbarItems(a.options.tools))[0],o=t[1],a._setNativeTools(),r={tools:i,defaultTools:o,parentMessages:a.options.messages,resizable:a.options.resizable&&a.options.resizable.toolbar,toggle:a._handleToolbarClick.bind(this),click:a._handleToolbarClick.bind(this),navigateOnTab:a.options.navigateOnTab},a.toolbar=new n.ui.ToolBar(e,r),a._bindTools(),a.bind("select",a._refreshTools.bind(a)),e.on("mousedown.kendoEditor",".k-toolbar-tool",(function(e){e.preventDefault()})),a.textarea||a._initToolbarWindow(e)},_initToolbarWindow:function(t){var i=this;this.windowInstance=t.wrap("<div class='editorToolbarWindow k-editor-window' />").parent().prepend("<span class='k-editortoolbar-dragHandle'>"+n.ui.icon("handle-drag")+"</span>").kendoWindow({title:!1,resizable:!1,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:!1,autoFocus:!1,actions:[],dragend:function(){this._moved=!0}}).on("mousedown",(function(t){e(t.target).is(".k-icon,.k-svg-icon,svg")||(i.toolbar.preventPopupHide=!0)})).on("focusout",(function(){i.element.focusout()})).data("kendoWindow")},_mousedown:function(t){var n=this;if(n._selectionStarted=!0,e(n.body).parents(".k-window").length&&t.stopPropagation(),!a.gecko){var i=e(t.target).closest("a[href]");(2==t.which||1==t.which&&t.ctrlKey)&&i&&i.is("a[href]")&&window.open(i.attr("href"),"_new"),t.target.tagName&&"html"===t.target.tagName.toLowerCase()&&setTimeout((function(){n.body.focus()}),0)}},_mouseup:function(t){var i=this;n.support.mobileOS.ios&&t&&e(t.target).is(f)||i._selectionStarted&&setTimeout((function(){i._selectionChange()}),1)},_populateValue:function(t,i){var o,r,a=this,s=n.ui.editor,l=s.Dom;if(t&&t.value)o=t.value;else if(a.textarea){(o=i.value).replace(/\s/g,"").length||(o=o.replace(/\s/g,"")),a.options.encoded&&i.defaultValue&&i.defaultValue.trim().length&&(o=i.defaultValue);var d=s.Serializer.htmlToDom(o,e("<div></div>")[0],a.options.deserialization);r=l.getAllComments(d),o=(o=g.cacheComments(o,r)).replace(/[\r\n\v\f\t ]+/gi," "),o=g.retrieveComments(o,r)}else o=i.innerHTML;a.value(o||"\ufeff")},_resetGroups:function(e){var t={};return Object.keys(e).map((function(n){t[n+"_"]=e[n]})),t},_processToolbarItems:function(i){var o,r,a,s,l,d,c,u={},p={},f=e.extend(!0,{},v);for(a=0;a<i.length;a++)if(l=i[a],Array.isArray(l))for(c=n.guid(),s=0;s<l.length;s++)o=this._processToolOptions(l[s],u),u=o[0],(d=o[1])&&(u[d].gr=c);else{if(r=this._processToolOptions(l,u),u=r[0],!(d=r[1]))continue;"separator"===d&&(f=this._resetGroups(f)),Object.keys(f).map((function(e){f[e].includes(d)&&(u[d].gr=e)}))}return Object.values(u).map((function(e){var n=e.gr;delete e.gr,n===t?p[e.name]=e:(p[n]||(p[n]=[]),p[n].push(e))})),[Object.values(p).map((function(e){var t;return 1===(t=e.length?e.map((function(e){return e.name})):e.name).length&&(t=t[0]),t})),u]},_processDefaultTool:function(t,n){var i,o=t.name,r={};if(e.isPlainObject(t))o&&n[o]?(r=s({},n[o]),s(r.options,t)):((i=s({icon:"gear",type:"button"},t)).name||(i.name="custom"),i.cssClass="k-"+i.name,r={options:i},o=i.name);else{if(!n[t])return null;r=n[o=t]}return this.tools[o]=r,r},_processToolOptions:function(i,o){var r,a,s,l,d,c,u,p,f,h=this,m=n.deepExtend({},n.ui.Editor.defaultTools);return(r=this._processDefaultTool(i,m))?(a=(d=r.options).name,c=d.ui||{},u=g.getToolCssClass(d.name,d.icon),p=e.extend({name:d.name,command:d.command,template:d.template,type:"button",icon:u,showText:"overflow",showIcon:"both"},c),d.tooltip&&(p.attributes||(p.attributes={}),p.attributes.title=d.tooltip),d.exec&&(p.click=d.exec.bind(h),delete p.exec),"ColorPicker"===p.component&&(d.palette===t&&c.palette===n.ui.editor.ColorTool.fn.options.palette||(f=d.palette||n.ui.editor.ColorTool.fn.options.palette,s=d.palette===t||d.palette?"palette":"gradient",p.componentOptions.palette="palette"===s?f:t,p.componentOptions.views=[s],p.componentOptions.preview="gradient"===s,p.componentOptions.input="gradient"===s,p.componentOptions.buttons="gradient"===s,"gradient"===s&&delete p.componentOptions.columns),"palette"===s&&d.columns&&(p.componentOptions.columns=d.columns)),"DropDownList"!==p.component&&"ComboBox"!==p.component||(p.componentOptions||(p.componentOptions={}),p.componentOptions.dataSource||(h.options[a]&&Array.isArray(h.options[a])?p.componentOptions.dataSource=h.options[a]:p.componentOptions.dataSource=d.items)),p.template&&delete p.type,""!==(l=this._shortcutSequence(a))&&(p.attributes||(p.attributes={}),p.attributes["aria-keyshortcuts"]=l),o[a]=p,[o,a]):[o,null]},_refreshTools:function(){var t=this,i=t.getRange(),o=n.ui.editor,r=o.RangeUtils.textNodes(i),a=t.options.immutables,s=t._immutablesContext(i),l=t.tools;(r=o.Dom.filterBy(r,o.Dom.htmlIndentSpace,!0)).length||(r=[i.startContainer]),t.toolbar.element.find("[data-command]").filter((function(t,n){return 0===e(n).find("[data-command]").length})).each((function(){var n,i=this.getAttribute("data-command"),o=l[i];o&&(n=e(this),o.update&&o.update(n,r,t.undoRedoStack),a&&t._updateImmutablesState(o,n,s))}))},_registerHandler:function(t,i,o){var r,a,s=".kendoEditor";if(t=e(t),this._handlers||(this._handlers=[]),t.length)if(e.isPlainObject(i))for(var l in i)i.hasOwnProperty(l)&&this._registerHandler(t,l,i[l]);else for(r=n.applyEventMap(i).split(" "),a=0;a<r.length;a++)this._handlers.push({element:t,type:r[a]+s,handler:o}),t.on(r[a]+s,o)},_runPostContentKeyCommands:function(e){for(var t=this.getRange(),n=this.keyboard.toolsFromShortcut(this.tools,e),i=0;i<n.length;i++){var o=n[i],r=o.options;if(r.keyPressCommand)new r.command({range:t}).changesContent()&&(this.keyboard.endTyping(!0),this.exec(o.name))}},_selectionChange:function(){this._selectionStarted=!1,this.saveSelection(),this.trigger("select",{})},_setOptionsTools:function(e){var t,i,o,r,a=this,s=a.toolbar,l=s.element;s.destroy(),l.empty(),a.tools=[],i=(t=a._processToolbarItems(e))[0],o=t[1],a._setNativeTools(),r={tools:i,defaultTools:o,parentMessages:a.options.messages,resizable:a.options.resizable&&a.options.resizable.toolbar,toggle:a._handleToolbarClick.bind(this),click:a._handleToolbarClick.bind(this)},a.toolbar=new n.ui.ToolBar(l,r),a._bindTools()},_setNativeTools:function(){var e,t=n.deepExtend({},n.ui.Editor.defaultTools);for(e=0;e<m.length;e++)this.tools[m[e]]||(this.tools[m[e]]=t[m[e]])},_setupHeight:function(e){var t=this;"textarea"==e&&setTimeout((function(){var e=t.wrapper[0].style.height,n=parseInt(e,10),i=t.wrapper.height();e.indexOf("px")>0&&!isNaN(n)&&i>n&&t.wrapper.height(n-(i-n))}))},_setupKeyboard:function(){var e=this,t=n.ui.editor;e.keyboard=new t.Keyboard([new t.BackspaceHandler(e),new t.TypingHandler(e),new t.SystemHandler(e),new t.SelectAllHandler(e)])},_setupType:function(t){var i,o=t[0],r=n.ui.editor.Dom.name(o),a=o.id;return"textarea"==r?(this._wrapTextarea(),i=this.wrapper.find(".k-editor-toolbar"),a||(a=n.guid(),o.setAttribute("id",a)),i.attr("aria-controls",a)):(this.element.attr("contenteditable",!0).addClass("k-widget k-editor k-editor-inline"),i=e('<div class="k-editor-toolbar"/>').insertBefore(t)),i},_shortcutSequence:function(e){var t,i=n.ui.Editor.defaultTools[e],o="";return i&&i.options?((t=i.options).ctrl&&(o+="Ctrl+"),t.shift&&(o+="Shift+"),t.alt&&(o+="Alt+"),t.key&&(o+=t.key),o):o},_spellCorrect:function(e){var t,i=!1;this._registerHandler(e.body,{contextmenu:function(){e.one("select",(function(){t=null})),e._spellCorrectTimeout=setTimeout((function(){t=new n.ui.editor.RestorePoint(e.getRange(),e.body),i=!1}),10)},input:function(){t&&(!n.support.browser.mozilla||i?n.ui.editor._finishUpdate(e,t):i=!0)}})},_togglePlaceholder:function(t){var n=this,i=n.body,o=e(i),r=n.options.placeholder;n.textarea&&r&&(o.attr("aria-label",(function(){return t?r:""})),o.toggleClass(h,t))},_toolbarFocused:function(){var t=n._activeElement(),i=this.windowInstance,o=this.overflowPopup;return i&&e(t).closest(i.wrapper).length||o&&o.visible()},_updateImmutablesState:function(i,o,r){var a=this.toolbar,s=i.name,l=o.closest(".k-toolbar-tool"),d=i.options.trackImmutables,c=n.ui.editor;d===t&&(d=e.inArray(s,c.Immutables.toolsToBeUpdated)>-1),d&&(r?a.hide(l):a.show(l))},_wrapTextarea:function(){var t=this,n=t.element,i=n[0].style.width,o=n[0].style.height,r=g.editorWrapperTemplate(),a=e(r).insertBefore(n),s=a.find(".k-editable-area");a.css({width:i,height:o}),n.attr("autocomplete","off").appendTo(s).addClass("k-content k-raw-content").css("display","none"),t.textarea=n,t.wrapper=a},_resizable:function(){var i=this.options.resizable;if((e.isPlainObject(i)?i.content===t||!0===i.content:i)&&this.textarea){var o=e("<div class='k-resize-handle'>"+n.ui.icon("caret-br")+"</div>").insertAfter(this.textarea);if(this.wrapper.addClass("k-resizable"),this.wrapper.kendoResizable(s({},this.options.resizable,{draggableElement:o,start:function(t){var n=this.editor=e(t.currentTarget).closest(".k-editor");this.initialSize=n.height(),n.find(".k-editable-area").last().append("<div class='k-overlay' />")},resize:function(e){var t=e.y.initialDelta,n=this.initialSize+t,i=this.options.min||0,o=this.options.max||1/0;n=Math.min(o,Math.max(i,n)),this.editor.height(n)},resizeend:function(){this.editor.find(".k-overlay").remove(),this.editor=null}})),n.support.mobileOS.ios)this.wrapper.getKendoResizable().draggable.options.ignore=f}},_destroyResizings:function(){var e=this;e._destroyElementResizing(),n.ui.editor.ElementResizingFactory.current.dispose(e),e._destroyRowResizing(),n.ui.editor.RowResizing.dispose(e),e._destroyColumnResizing(),n.ui.editor.ColumnResizing.dispose(e)},_initializeElementResizing:function(){var e=this;n.ui.editor.ElementResizingFactory.current.create(e),e._showElementResizeHandlesProxy=e._showElementResizeHandles.bind(e),e.bind(p,e._showElementResizeHandlesProxy)},_destroyElementResizing:function(){var e=this,t=e.elementResizing;t&&(t.destroy(),e.elementResizing=null),e._showElementResizeHandlesProxy&&e.unbind(p,e._showElementResizeHandlesProxy)},_showElementResizeHandles:function(){var e=this.elementResizing;e&&e.element&&e.element.parentNode?e.showResizeHandles():!e||e.element&&e.element.parentNode||this._destroyElementResizing()},_initializeColumnResizing:function(){n.ui.editor.ColumnResizing.create(this)},_destroyColumnResizing:function(){var e=this;e.columnResizing&&(e.columnResizing.destroy(),e.columnResizing=null)},_initializeRowResizing:function(){n.ui.editor.RowResizing.create(this)},_destroyRowResizing:function(){var e=this;e.rowResizing&&(e.rowResizing.destroy(),e.rowResizing=null)},_getWindowWidth:function(){var e=this.windowInstance.wrapper,t=this.element;return c(t)-parseInt(e.css("border-left-width"),10)-parseInt(e.css("border-right-width"),10)},_hideWindow:function(){this.windowInstance&&this.windowInstance.close()},_overlapsWindow:function(e){var t=this.windowInstance.wrapper,n=t.offset(),i=n.left,o=n.top,r=e.offset(),a=r.left,s=r.top;return!(a+e.width()<i||a>i+t.width()||s+e.height()<o||s>o+t.height())},_showWindow:function(){var e,t,i,o=this,r=o.windowInstance,a=n.support.browser;r&&(e=r.wrapper,t=o.element,e.is(":visible")&&o.windowInstance.options.visible||(e[0].style.width||e.width(this._getWindowWidth()),r._moved||(i=t.offset(),e.css({top:Math.max(0,parseInt(i.top,10)-u(e)-parseInt(o.windowInstance.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(i.left,10))})),(a.msie||a.edge)&&o._overlapsWindow(t)?setTimeout((function(){r.open()}),0):r.open()))}});y.defaultTools={},n.ui.plugin(y);var w=i.extend({init:function(e){this.options=e},command:function(e){return new this.options.command(e)},update:e.noop});w.exec=function(e,t,n){e.exec(t,{value:n})};var C=w.extend({command:e.noop,update:function(e,t,n){var i=this.options.name,o=e.closest(".k-toolbar").data("kendoToolBar");switch(i){case"undo":o.enable(e,n.canUndo());break;case"redo":o.enable(e,n.canRedo())}e.removeAttr("disabled")}});g.registerTool("separator",new w({ui:{type:"separator"}})),g.registerTool("undo",new C({key:"Z",ctrl:!0})),g.registerTool("redo",new C({key:"Y",ctrl:!0}));var k="\ufeff",x=k;(a.msie||a.edge)&&(x=k="&nbsp;"),s(n.ui,{editor:{EditorUtils:g,Tool:w,emptyElementContent:k,emptyTableCellContent:x}}),n.PDFMixin&&(n.PDFMixin.extend(y.prototype),y.prototype._drawPDF=function(){return n.drawing.drawDOM(this.body,this.options.pdf)},y.prototype.saveAsPDF=function(){var t=new e.Deferred,i=t.promise(),o={promise:i};if(!this.trigger("pdfExport",o)){var r=this.options.pdf;return this._drawPDF(t).then((function(e){return n.drawing.exportPDF(e,r)})).done((function(e){n.saveAs({dataURI:e,fileName:r.fileName,proxyURL:r.proxyURL,proxyTarget:r.proxyTarget,forceProxy:r.forceProxy}),t.resolve()})).fail((function(e){t.reject(e)})),i}})}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.map,i=e.extend,o=t.support.browser,r="style",a="float",s="cssFloat",l="styleFloat",d="class",c="k-marker";function u(e){var t,n,i={};for(t=0,n=e.length;t<n;t++)i[e[t]]=!0;return i}var p=u("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),f="p,div,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),h=f.concat(["ul","ol","li"]),m=u(h),g=u("area,base,br,col,command,embed,hr,img,input,keygen,link,menuitem,meta,param,source,track,wbr".split(",")),b="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),v=u(b),y=u("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),w=["hgroup","ol","ul","dl","object","video","audio","table","colgroup","tbody","thead","tfoot","tr","select","optgroup"],C=function(e){1==e.nodeType&&e.normalize()};o.msie&&o.version>=8&&(C=function(e){if(1==e.nodeType&&e.firstChild){var t=e.firstChild,n=t;for(C(n);n=n.nextSibling;)C(n),3==n.nodeType&&3==t.nodeType&&(n.nodeValue=t.nodeValue+n.nodeValue,D.remove(t)),t=n}});var k,x=/^\s+$/,_=/^[\n\r\t]+$/,T=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,N=/\ufeff/g,S=/^(\s+|\ufeff)$/,R="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),A=/[<>\&]/g,z=/[\u00A0-\u2666<>\&]/g,E={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},D={block:m,inline:v,findNodeIndex:function(e,t){var n=0;if(!e)return-1;for(;e=e.previousSibling;)t&&3==e.nodeType||n++;return n},isDataNode:function(e){return e&&null!==e.nodeValue&&null!==e.data},isAncestorOf:function(t,n){try{return!D.isDataNode(t)&&(e.contains(t,D.isDataNode(n)?n.parentNode:n)||n.parentNode==t)}catch(e){return!1}},isAncestorOrSelf:function(e,t){return D.isAncestorOf(e,t)||e==t},findClosestAncestor:function(e,t){if(D.isAncestorOf(e,t))for(;t&&t.parentNode!=e;)t=t.parentNode;return t},getAllComments:function(e){for(var t=[],n=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,(function(){return NodeFilter.FILTER_ACCEPT}),!1),i=n.nextNode();i;)t.push(i.nodeValue),i=n.nextNode();return t},getNodeLength:function(e){return D.isDataNode(e)?e.length:e.childNodes.length},splitDataNode:function(e,t){for(var n,i=e.cloneNode(!1),o="",r=e.nextSibling;r&&3==r.nodeType&&r.nodeValue;)o+=r.nodeValue,n=r,r=r.nextSibling,D.remove(n);e.deleteData(t,e.length),i.deleteData(0,t),i.nodeValue+=o,D.insertAfter(i,e)},attrEquals:function(e,n){for(var i in n){var o=e[i];if(i==a&&(o=e[t.support.cssFloat?s:l]),"object"==typeof o){if(!D.attrEquals(o,n[i]))return!1}else if(o!=n[i])return!1}return!0},blockParentOrBody:function(e){return D.parentOfType(e,h)||e.ownerDocument.body},blockParents:function(t){var n,i,o=[];for(n=0,i=t.length;n<i;n++){var r=D.parentOfType(t[n],D.blockElements);r&&e.inArray(r,o)<0&&o.push(r)}return o},windowFromDocument:function(e){return e.defaultView||e.parentWindow},normalize:C,blockElements:h,nonListBlockElements:f,inlineElements:b,empty:p,fillAttrs:y,nodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},toHex:function(e){var t=T.exec(e);return t?"#"+n(t.slice(1),(function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e})).join(""):e},encode:function(e,t){var n=!t||t.entities?z:A;return e.replace(n,(function(e){var t=e.charCodeAt(0),n=E[t];return n?"&"+n+";":e}))},isBom:function(e){return e&&3===e.nodeType&&/^[\ufeff]+$/.test(e.nodeValue)},stripBom:function(e){return(e||"").replace(N,"")},stripBomNode:function(e){D.isBom(e)&&e.parentNode.removeChild(e)},insignificant:function(e){var t=e.attributes;return"k-marker"==e.className||D.is(e,"br")&&("k-br"==e.className||t._moz_dirty||t._moz_editor_bogus_node)||D.is(e,"span")&&"k-br"==e.className},tableCell:function(e){return D.is(e,"td")||D.is(e,"th")},significantNodes:function(t){return e.grep(t,(function(e){var t=D.name(e);return"br"!=t&&(!D.insignificant(e)&&(!D.emptyTextNode(e)&&!(1==e.nodeType&&!p[t]&&D.emptyNode(e))))}))},emptyTextNode:function(e){return e&&3==e.nodeType&&S.test(e.nodeValue)},emptyNode:function(e){return 1==e.nodeType&&!D.significantNodes(e.childNodes).length},name:function(e){return e.nodeName.toLowerCase()},significantChildNodes:function(t){return e.grep(t.childNodes,(function(e){return 3!=e.nodeType||!D.isWhitespace(e)}))},lastTextNode:function(e){var t=null;if(3==e.nodeType)return e;for(var n=e.lastChild;n;n=n.previousSibling)if(t=D.lastTextNode(n))return t;return t},is:function(e,t){return e&&D.name(e)==t},isMarker:function(e){return e.className==c},isWhitespace:function(e){return x.test(e.nodeValue)},allowsTextContent:function(e){var t=!0;return w.every((function(n){return!D.is(e,n)||(t=!1,!1)})),t},allWhitespaceContent:function(e){for(var t=e.firstChild;t&&D.isWhitespace(t);)t=t.nextSibling;return!t},isEmptyspace:function(e){return _.test(e.nodeValue)},htmlIndentSpace:function(t){if(!D.isDataNode(t)||!D.isWhitespace(t))return!1;if(_.test(t.nodeValue))return!0;var n=function(e,t){for(;e[t];)if(e=e[t],D.significantNodes([e]).length>0)return e},i=t.parentNode,o=n(t,"previousSibling"),r=n(t,"nextSibling");if(N.test(t.nodeValue))return!(!o&&!r);if(e(i).is("tr,tbody,thead,tfoot,table,ol,ul"))return!0;if(D.isBlock(i)||D.is(i,"body")){var a=o&&D.isBlock(o),s=r&&D.isBlock(r);if(!r&&a||!o&&s||a&&s)return!0}return!1},isBlock:function(e){return m[D.name(e)]},isSelfClosing:function(e){return g[D.name(e)]},isEmpty:function(e){return p[D.name(e)]},isInline:function(e){return v[D.name(e)]},isBr:function(e){return"br"==D.name(e)},list:function(e){var t=e?D.name(e):"";return"ul"==t||"ol"==t||"dl"==t},scrollContainer:function(e){var t=D.windowFromDocument(e),n=(t.contentWindow||t).document||t.ownerDocument||t;return n="BackCompat"==n.compatMode?n.body:n.scrollingElement||n.documentElement},scrollTo:function(t,n){var i,o,r,a,s=t.ownerDocument,l=D.windowFromDocument(s).innerHeight,d=D.scrollContainer(s);D.isDataNode(t)?n?(a=D.create(s,"span",{innerHTML:"&#xfeff;"}),D.insertBefore(a,t),i=e(a)):i=e(t.parentNode):i=e(t),o=i.offset().top,r=i[0].offsetHeight,!n&&r||(r=parseInt(i.css("line-height"),10)||Math.ceil(1.2*parseInt(i.css("font-size"),10))||15),a&&D.remove(a),r+o>d.scrollTop+l&&(d.scrollTop=r+o-l)},persistScrollTop:function(e){k=D.scrollContainer(e).scrollTop},offset:function(e,t){for(var n={top:e.offsetTop,left:e.offsetLeft},i=e.offsetParent;i&&(!t||D.isAncestorOf(t,i));)n.top+=i.offsetTop,n.left+=i.offsetLeft,i=i.offsetParent;return n},restoreScrollTop:function(e){"number"==typeof k&&(D.scrollContainer(e).scrollTop=k,k=void 0)},insertAt:function(e,t,n){e.insertBefore(t,e.childNodes[n]||null)},insertBefore:function(e,t){return t.parentNode?t.parentNode.insertBefore(e,t):t},insertAfter:function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},remove:function(e){e.parentNode&&e.parentNode.removeChild(e)},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},removeTextSiblings:function(e){for(var t=e.parentNode;e.nextSibling&&3==e.nextSibling.nodeType;)t.removeChild(e.nextSibling);for(;e.previousSibling&&3==e.previousSibling.nodeType;)t.removeChild(e.previousSibling)},trim:function(e){for(var t=e.childNodes.length-1;t>=0;t--){var n=e.childNodes[t];D.isDataNode(n)?D.stripBom(n.nodeValue).length||D.remove(n):n.className!=c&&(D.trim(n),(!D.isEmpty(n)&&0===n.childNodes.length||D.isBlock(n)&&D.allWhitespaceContent(n))&&D.remove(n))}return e},closest:function(e,t){for("string"==typeof t&&(t=[t]);e&&t.indexOf(D.name(e))<0;)e=e.parentNode;return e},closestBy:function(e,t,n){for(;e&&!t(e);){if(n&&n(e))return null;e=e.parentNode}return e},sibling:function(e,t){do{e=e[t]}while(e&&1!=e.nodeType);return e},next:function(e){return D.sibling(e,"nextSibling")},prev:function(e){return D.sibling(e,"previousSibling")},parentOfType:function(e,t){do{e=e.parentNode}while(e&&!D.ofType(e,t));return e},ofType:function(t,n){return e.inArray(D.name(t),n)>=0},changeTag:function(e,t,n){var i,o,a,s,l,c=D.create(e.ownerDocument,t),u=e.attributes;if(!n)for(i=0,o=u.length;i<o;i++)(l=u[i]).specified&&(a=l.nodeName,s=l.nodeValue,a==d?c.className=s:a==r?c.style.cssText=e.style.cssText:c.setAttribute(a,s));for(;e.firstChild;)c.appendChild(e.firstChild);return D.insertBefore(c,e),D.remove(e),c},editableParent:function(e){for(;e&&(3==e.nodeType||"true"!==e.contentEditable);)e=e.parentNode;return e},wrap:function(e,t){return D.insertBefore(t,e),t.appendChild(e),t},unwrap:function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},wrapper:function(t){var n=D.closestBy(t,(function(e){return e.parentNode&&D.significantNodes(e.parentNode.childNodes).length>1}));return e(n).is("body,.k-editor")?void 0:n},create:function(e,t,n){return D.attr(e.createElement(t),n)},createEmptyNode:function(e,t,n){var i=D.attr(e.createElement(t),n);return i.innerHTML="\ufeff",i},attr:function(e,t){for(var n in(t=i({},t))&&r in t&&(D.style(e,t.style),delete t.style),t)null===t[n]?(e.removeAttribute(n),delete t[n]):"className"==n&&(e[n]=t[n]);return i(e,t)},mergeAttributes:function(t,n,i){t.attributes.length&&e.each(t.attributes,(function(){"contenteditable"===this.name||i&&this.name===r||e(n).attr(this.name,this.value),i&&this.name===r&&e.each(t.style,(function(){n.style[this]=t.style[this]}))}))},style:function(t,n){e(t).css(n||{})},unstyle:function(e,n){for(var i in n)i==a&&(i=t.support.cssFloat?s:l),e.style[i]="";""===e.style.cssText&&e.removeAttribute(r)},inlineStyle:function(t,i,r){var a,s=e(D.create(t.ownerDocument,i,r));return t.appendChild(s[0]),a=n(R,(function(e){return o.msie&&"line-height"==e&&"1px"==s.css(e)?"line-height:1.5":e+":"+s.css(e)})).join(";"),s.remove(),a},getEffectiveBackground:function(e){var t=e.css("background-color")||"";return t.indexOf("rgba(0, 0, 0, 0")<0&&"transparent"!==t?t:"html"===e[0].tagName.toLowerCase()?"Window":D.getEffectiveBackground(e.parent())},innerText:function(e){var t=e.innerHTML;return t=(t=t.replace(/<!--(.|\s)*?-->/gi,"")).replace(/<\/?[^>]+?\/?>/gm,"")},removeClass:function(e,n){var i,o,r=" "+e.className+" ",a=n.split(" ");for(i=0,o=a.length;i<o;i++)r=r.replace(" "+a[i]+" "," ");(r=t.trim(r)).length?e.className=r:e.removeAttribute(d)},commonAncestor:function(){var e,t,n,i,o,r=arguments,a=arguments.length,s=[],l=1/0,d=null;if(!a)return null;if(1==a)return arguments[0];for(e=0;e<a;e++){for(t=[],n=r[e];n;)t.push(n),n=n.parentNode;s.push(t.reverse()),l=Math.min(l,t.length)}if(1==a)return s[0][0];for(e=0;e<l;e++){for(i=s[0][e],o=1;o<a;o++)if(i!=s[o][e])return d;d=i}return d},closestSplittableParent:function(t){var i;(i=1==t.length?D.parentOfType(t[0],["ul","ol"]):D.commonAncestor.apply(null,t))||(i=D.parentOfType(t[0],["p","td"])||t[0].ownerDocument.body),D.isInline(i)&&(i=D.blockParentOrBody(i));var o=n(t,D.editableParent),r=D.commonAncestor(o)[0];return e.contains(i,r)&&(i=r),i},closestEditable:function(t,n){var i,o=D.editableParent(t);return((i=D.ofType(t,n)?t:D.parentOfType(t,n))&&o&&e.contains(i,o)||!i&&o)&&(i=o),i},closestEditableOfType:function(t,n){var i=D.closestEditable(t,n);if(i&&D.ofType(i,n)&&!e(i).is(".k-editor"))return i},filter:function(e,t,n){return D.filterBy(t,(function(t){return D.name(t)==e}),n)},filterBy:function(e,t,n){for(var i,o=0,r=e.length,a=[];o<r;o++)((i=t(e[o]))&&!n||!i&&n)&&a.push(e[o]);return a},ensureTrailingBreaks:function(t){var n=e(t).find("p,td,th"),i=n.length,o=0;if(i)for(;o<i;o++)D.ensureTrailingBreak(n[o]);else D.ensureTrailingBreak(t)},removeTrailingBreak:function(t){e(t).find("br[type=_moz],.k-br").remove()},ensureTrailingBreak:function(e){D.removeTrailingBreak(e);var t,n=e.lastChild,i=n&&D.name(n);(!i||"br"!=i&&"img"!=i||"br"==i&&"k-br"!=n.className)&&((t=e.ownerDocument.createElement("br")).className="k-br",e.appendChild(t))},reMapTableColumns:function(e,t){D._mapColIndices(e,t)},clearTableMappings:function(t,n){e(t).find("["+n+"]").removeAttr(n)},_mapColIndices:function(e,t){for(var n={},i=0;i<e.rows.length;i++)for(var o=e.rows[i].cells,r=0,a=0;a<o.length;a++,r++){var s=o[a];if(s.rowSpan>1&&this._mapColspan(s,i,r,n),n[i])for(;n[i][r];)r++;s.setAttribute(t,r),s.colSpan>1&&(r=r+s.colSpan-1)}},_mapColspan:function(e,t,n,i){for(var o,r=e.rowSpan,a=e.colSpan,s=0;s<a;s++){o=n+s;for(var l=t+1;l<t+r;l++){if(i[l]||(i[l]={},i[l].length=0),i[t])for(;i[t][o];)o++;i[l][o]=!0,i[l].length++}}},associateWithIds:function(e){var t,n,i=this,o=0,r=e.rows,a=r.length,s=[],l=[];if(e.tHead)o=(t=e.tHead.rows).length;else for(o=i._getNumberOfHeaderRows(e),t=[],n=0;n<o;n++)t.push(r[n]);for(n=0;n<o;n++)s.push([]);for(n=0;n<a;n++)l.push([]);i._generateIdsForColumns(s,t),i._generateIdsForRows(s,l,o,r),i._assignIds(s,l,o,r)},_generateIdsForColumns:function(e,t){var n,i,o,r,a,s,l,d,c,u,p=(new Date).getTime(),f=t?t.length:0;for(l=0;l<f;l++)for(n=t[l].cells,o=0,d=0;d<n.length;d++){for(r="table"+l+d+ ++p,(i=n[d]).setAttribute("id",r),a=i.getAttribute("colspan")||1,s=i.getAttribute("rowspan")||1;e[l][d+o];)o+=1;for(c=0;c<s;c++)for(u=0;u<a;u++)e[l+c][d+o+u]=r}},_generateIdsForRows:function(t,n,i,o){var r,a,s,l,d,c,u,p,f,h,m,g,b,v=(new Date).getTime(),y=o.length,w=function(e){b.push(e[g])};for(p=i;p<y;p++)for(r=o[p],a=e(r.cells).filter("th"),l=0,f=0;f<a.length;f++){for(d="table"+p+f+ ++v,(s=a[f]).setAttribute("id",d),c=s.getAttribute("colspan")||1,u=s.getAttribute("rowspan")||1;n[p][f+l];)l+=1;for(h=0;h<u;h++)for(m=0;m<c;m++)n[p+h][f+l+m]=d;g=s.getAttribute("col-index"),b=[],t.forEach(w),b=b.filter(this._onlyUnique),s.setAttribute("headers",b.join(" ").trim())}},_assignIds:function(t,n,i,o){var r,a,s,l,d,c,u,p=o.length,f=function(e){u.push(e[c])};for(l=i;l<p;l++)for(r=o[l],a=e(r.cells).filter("td"),d=0;d<a.length;d++)s=a[d],c=s.getAttribute("col-index"),u=n[l].slice(),t.forEach(f),u=u.filter(this._onlyUnique),s.setAttribute("headers",u.join(" ").trim())},_getNumberOfColumns:function(t){var n,i,o,r=e(t).find("th, td"),a=0;for(i=0;i<r.length;i++)n=r[i],(o=Number(n.getAttribute("col-index"))+1)>a&&(a=o);return a},_getNumberOfHeaderColumns:function(e,t){var n,i,o,r,a,s=e.rows,l=0;for(o=t;o<s.length;o++)for(i=s[o],r=0;r<i.cells.length;r++)a=i.cells[r],this.is(a,"th")&&(n=Number(a.getAttribute("col-index"))+1)>l&&(l=n);return l},_getNumberOfHeaderRows:function(e){var t,n,i,o,r=e.rows,a=e.tHead&&e.tHead.rows?e.tHead.rows.length:0;if(0===a)for(o=(n=r[0]).cells&&n.cells.length;n&&o&&this.is(n.cells[0],"th");){for(t=0;t<o;t++)i=n?n.cells[t]:null,this.is(i,"th")||(n=null);n&&(a+=1,o=(n=this.next(n))&&n.cells&&n.cells.length)}return a},_onlyUnique:function(e,t,n){return n.indexOf(e)===t}};t.ui.editor.Dom=D}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui.editor,o=i.Dom,r=e.extend,a="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),s=/"/g,l=/<br[^>]*>/i,d=/^\d+(\.\d*)?(px)?$/i,c=/<p>(?:&nbsp;)?<\/p>/i,u=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/g,p=/^sizzle-\d+/i,f=/^k-script-/i,h=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,m='<br class="k-br">',g="<span class='k-br'>\ufeff</span>",b=document.createElement("div");b.innerHTML=" <hr>";var v=3===b.firstChild.nodeType;b=null;var y=n.isFunction,w={toEditableHtml:function(e){return(e||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"\x3c!--[CDATA[$1]]--\x3e").replace(/<(\/?)script([^>]*)>/gi,"<$1k:script$2>").replace(/<img([^>]*)>/gi,(function(e){return e.replace(h,"")})).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1").replace(/^<(table|blockquote)/i,m+"<$1").replace(/^[\s]*(&nbsp;|\u00a0)/i,"$1").replace(/<\/(table|blockquote)>$/i,"</$1>"+m)},_toEditableImmutables:function(t){for(var n=i.Immutables.immutable,r=o.emptyTextNode,a=t.firstChild,s=t.lastChild;r(a);)a=a.nextSibling;for(;r(s);)s=s.previousSibling;a&&n(a)&&e(g).prependTo(t),s&&n(s)&&e(g).appendTo(t)},_fillEmptyElements:function(t){e(t).find("p,td").each((function(){var t=e(this);if(/^\s*$/g.test(t.text())&&!t.find("img,input").length){for(var i=this;i.children[0]&&3!=i.children[0].nodeType;)i=i.children[0];1!=i.nodeType||o.empty[o.name(i)]||(o.is(i,"td")?i.innerHTML=n.ui.editor.emptyTableCellContent:i.innerHTML=n.ui.editor.emptyElementContent)}}))},_removeSystemElements:function(t){e(".k-paste-container",t).remove()},_resetOrderedLists:function(e){var t,n,i,o=e.getElementsByTagName("ol");for(t=0;t<o.length;t++)i=(n=o[t]).getAttribute("start"),n.setAttribute("start",1),i?n.setAttribute("start",i):n.removeAttribute(i)},_preventScriptExecution:function(t){e(t).find("*").each((function(){var e,t,n,i,o=this.attributes,r=[];for(t=0,n=o.length;t<n;t++)i=(e=o[t]).nodeName,e.specified&&/^on/i.test(i)&&(this.setAttribute("k-script-"+i,e.value),r.push(i));for(t=0,n=r.length;t<n;t++)this.removeAttribute(r[t])}))},htmlToDom:function(t,i,r){var a=n.support.browser.msie,s=r||{},l=s.immutables;return t=w.toEditableHtml(t),y(s.custom)&&(t=s.custom(t)||t),i.innerHTML=t,l&&l.deserialize(i),a&&(o.normalize(i),w._resetOrderedLists(i)),w._preventScriptExecution(i),w._fillEmptyElements(i),w._removeSystemElements(i),w._toEditableImmutables(i),e("table",i).addClass("k-table"),i},domToXhtml:function(r,h){var m=[],g=h&&h.immutables;function b(t){return e.grep(t,(function(e){return"style"!=e.name}))}function y(e,t){m.push("<"+t),x(e),m.push(">")}var w={iframe:{start:function(e){y(e,"iframe")},end:function(){m.push("</iframe>")}},"k:script":{start:function(e){y(e,"script")},end:function(){m.push("<\/script>")},skipEncoding:!0},span:{canOptimize:!0,semantic:!0,start:function(t){var n=t.style,i=b(k(t));i.length&&(m.push("<span"),x(t,i),m.push(">")),"underline"==n.textDecoration&&m.push("<u>");var r=[];if(n.color&&r.push('color="'+o.toHex(n.color)+'"'),n.fontFamily&&r.push('face="'+n.fontFamily+'"'),n.fontSize){var s=e.inArray(n.fontSize,a);r.push('size="'+s+'"')}for(var l=[],d=["text-decoration","color","font"],c=0;c<n.length;c++){var u=n[c];d.filter((function(e){return u.startsWith(e)})).length<=0&&l.push(u+": "+n[u])}l.length&&r.push('style="'+l.join(";")+'"'),r.length&&m.push("<font "+r.join(" ")+">")},end:function(e){var t=e.style;(t.color||t.fontFamily||t.fontSize)&&m.push("</font>"),"underline"==t.textDecoration&&m.push("</u>"),b(k(e)).length&&m.push("</span>")}},strong:{semantic:!0,start:function(e){y(e,"b")},end:function(){m.push("</b>")}},em:{semantic:!0,start:function(e){y(e,"i")},end:function(){m.push("</i>")}},b:{semantic:!1,start:function(e){y(e,"strong")},end:function(){m.push("</strong>")}},i:{semantic:!1,start:function(e){y(e,"em")},end:function(){m.push("</em>")}},u:{semantic:!1,start:function(t){m.push("<span");var n=k(t),i=e(n).filter((function(e,t){return"style"==t.name}))[0],o={nodeName:"style",value:"text-decoration:underline;"};i&&(o.value=i.value,/text-decoration/i.test(o.value)||(o.value="text-decoration:underline;"+o.value),n.splice(e.inArray(i,n),1)),n.push(o),x(t,n),m.push(">")},end:function(){m.push("</span>")}},font:{canOptimize:!0,semantic:!1,start:function(e){m.push('<span style="');var t=e.getAttribute("color"),n=a[e.getAttribute("size")],i=e.getAttribute("face");t&&(m.push("color:"),m.push(o.toHex(t)),m.push(";")),i&&(m.push("font-family:"),m.push(i),m.push(";")),n&&(m.push("font-size:"),m.push(n),m.push(";")),m.push('">')},end:function(){m.push("</span>")}}};function C(e){var t,i=function(e){var t,i,r,a=n.trim,l=a(e),d=[];for(u.lastIndex=0;t=u.exec(l);)i=a(t[1].toLowerCase()),r=a(t[2]),"font-size-adjust"!=i&&"font-stretch"!=i&&(i.indexOf("color")>=0?r=o.toHex(r):i.indexOf("font")>=0?r=r.replace(s,"'"):/\burl\(/g.test(r)&&(r=r.replace(s,"")),d.push({property:i,value:r}));return d}(e);for(t=0;t<i.length;t++)m.push(i[t].property),m.push(":"),m.push(i[t].value),m.push(";")}function k(e){var t,n,i,r,a,s,l=[],d=e.attributes;for(n=0,i=d.length;n<i;n++)r=(t=d[n]).nodeName,a=t.value,s=t.specified,"value"==r&&"value"in e&&e.value||"type"==r&&"text"==a?s=!0:"class"!=r||a?p.test(r)||"complete"==r||"altHtml"==r||"start"==r&&o.is(e,"ul")||"start"==r&&o.is(e,"ol")&&"1"==a||r.indexOf("_moz")>=0?s=!1:f.test(r)?s=!!h.scripts:"data-role"==r&&"resizable"==a&&(o.is(e,"tr")||o.is(e,"td"))&&(s=!1):s=!1,s&&l.push(t);return l}function x(i,r){var a,s,l,c,u;if(r=r||k(i),o.is(i,"img")){var p=i.style.width,h=i.style.height,g=e(i);p&&d.test(p)&&(g.attr("width",parseInt(p,10)),o.unstyle(i,{width:t})),h&&d.test(h)&&(g.attr("height",parseInt(h,10)),o.unstyle(i,{height:t}))}if(r.length)for(a=0,s=r.length;a<s;a++)c=(l=r[a]).nodeName,u=l.value,"class"==c&&"k-table"==u||(c=c.replace(f,""),m.push(" "),m.push(c),m.push('="'),"style"==c?C(u||i.style.cssText):"src"==c||"href"==c?m.push(n.htmlEncode(i.getAttribute(c,2))):m.push(o.fillAttrs[c]?c:u),m.push('"'))}function _(e,t,n){for(var i=e.firstChild;i;i=i.nextSibling)N(i,t,n)}function T(e){return e.nodeValue.replace(/\ufeff/g,"")}function N(t,n,r){var a,s,l,d,c,u,p=t.nodeType;if(g&&i.Immutables.immutable(t))m.push(g.serialize(t));else if(1==p){if(a=o.name(t),(u=e(t)).hasClass("k-element-resize-handle-wrapper")||u.hasClass("k-column-resize-handle-wrapper")||u.hasClass("k-row-resize-handle-wrapper"))return;if(!a||o.insignificant(t))return;if(!h.scripts&&("script"==a||"k:script"==a))return;if(s=w[a]){if(s.canOptimize&&h.optimizeTags&&function(e){return 0===e.attributes.length}(t))return void _(t,!1,s.skipEncoding);if(void 0===s.semantic||h.semantic^s.semantic)return s.start(t),_(t,!1,s.skipEncoding),void s.end(t)}m.push("<"),m.push(a),x(t),o.empty[a]?m.push(" />"):(m.push(">"),_(t,n||o.is(t,"pre")),m.push("</"),m.push(a),m.push(">"))}else if(3==p){if(function(e){if(o.isBom(e)){do{if(e=e.parentNode,o.is(e,"td")&&1===e.childNodes.length)return!0;if(1!==e.childNodes.length)return!1}while(!o.isBlock(e));return!0}return!1}(t))return void m.push("&nbsp;");d=T(t),!n&&v&&(l=t.parentNode,(c=t.previousSibling)||(c=(o.isInline(l)?l:t).previousSibling),c&&""!==c.innerHTML&&!o.isBlock(c)||(d=h.keepEOL?d.replace(/[\r\n\v\f\t ]+/," "):d.replace(/^[\r\n\v\f\t ]+/,"")),d=d.replace(/ +/," ")),m.push(r?d:o.encode(d,h))}else 4==p?(m.push("<![CDATA["),m.push(t.data),m.push("]]>")):8==p&&(t.data.indexOf("[CDATA[")<0?(m.push("\x3c!--"),m.push(t.data),m.push("--\x3e")):(m.push("<!"),m.push(t.data),m.push(">")))}function S(){n.isFunction(h.custom)&&(m=h.custom(m)||m)}return w.script=w["k:script"],void 0===(h=h||{}).semantic&&(h.semantic=!0),function(e){var t=e.childNodes.length;return t&&3==e.firstChild.nodeType&&(1==t||2==t&&o.insignificant(e.lastChild))}(r)?(m=o.encode(T(r.firstChild).replace(/[\r\n\v\f\t ]+/," "),h),S(),m):(_(r),m=m.join(""),S(),""===m.replace(l,"").replace(c,"")?"":m)}};r(i,{Serializer:w})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,o=t.ui.editor,r=t.support.browser,a=o.Dom,s=a.findNodeIndex,l=a.isDataNode,d=a.findClosestAncestor,c=a.getNodeLength,u=a.normalize,p={selectionFromWindow:function(e){if(e)return"getSelection"in e?e.getSelection():new b(e.document)},selectionFromRange:function(e){var t=N.documentFromRange(e);return p.selectionFromDocument(t)},selectionFromDocument:function(e){return p.selectionFromWindow(a.windowFromDocument(e))}},f=n.extend({init:function(t){e.extend(this,{ownerDocument:t,startContainer:t,endContainer:t,commonAncestorContainer:t,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(e,t){this.startContainer=e,this.startOffset=t,m(this),h(this,!0)},setEnd:function(e,t){this.endContainer=e,this.endOffset=t,m(this),h(this,!1)},setStartBefore:function(e){this.setStart(e.parentNode,s(e))},setStartAfter:function(e){this.setStart(e.parentNode,s(e)+1)},setEndBefore:function(e){this.setEnd(e.parentNode,s(e))},setEndAfter:function(e){this.setEnd(e.parentNode,s(e)+1)},selectNode:function(e){this.setStartBefore(e),this.setEndAfter(e)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e[1===e.nodeType?"childNodes":"nodeValue"].length)},collapse:function(e){var t=this;e?t.setEnd(t.startContainer,t.startOffset):t.setStart(t.endContainer,t.endOffset)},deleteContents:function(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(d(e.commonAncestorContainer,e.startContainer)),e.collapse(!0),function e(t){for(;t.next();)t.hasPartialSubtree()?e(t.getSubtreeIterator()):t.remove()}(new g(t))},cloneContents:function(){var e=N.documentFromRange(this);return function t(n){for(var i,o=e.createDocumentFragment();i=n.next();)i=i.cloneNode(!n.hasPartialSubtree()),n.hasPartialSubtree()&&i.appendChild(t(n.getSubtreeIterator())),o.appendChild(i);return o}(new g(this))},extractContents:function(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(d(e.commonAncestorContainer,e.startContainer)),e.collapse(!0);var n=N.documentFromRange(e);return function t(i){for(var o,r=n.createDocumentFragment();o=i.next();)i.hasPartialSubtree()?(o=o.cloneNode(!1)).appendChild(t(i.getSubtreeIterator())):i.remove(e.originalRange),r.appendChild(o);return r}(new g(t))},insertNode:function(e){var t=this;l(t.startContainer)?(t.startOffset!=t.startContainer.nodeValue.length&&a.splitDataNode(t.startContainer,t.startOffset),a.insertAfter(e,t.startContainer)):a.insertAt(t.startContainer,e,t.startOffset),t.setStart(t.startContainer,t.startOffset)},cloneRange:function(){return e.extend(new f(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var e=this.startContainer.nodeName,t=this.endContainer.nodeName;return["#text"==e?this.startContainer.nodeValue:e,"(",this.startOffset,") : ","#text"==t?this.endContainer.nodeValue:t,"(",this.endOffset,")"].join("")}});function h(e,t){(function(e){try{return function(e,t,n,i){if(e==t)return i-n;for(var o=t;o&&o.parentNode!=e;)o=o.parentNode;if(o)return s(o)-n;for(o=e;o&&o.parentNode!=t;)o=o.parentNode;if(o)return i-s(o)-1;for(var r=a.commonAncestor(e,t),l=e;l&&l.parentNode!=r;)l=l.parentNode;l||(l=r);for(var d=t;d&&d.parentNode!=r;)d=d.parentNode;return d||(d=r),l==d?0:s(d)-s(l)}(e.startContainer,e.endContainer,e.startOffset,e.endOffset)<0}catch(e){return!0}})(e)&&(t?(e.commonAncestorContainer=e.endContainer=e.startContainer,e.endOffset=e.startOffset):(e.commonAncestorContainer=e.startContainer=e.endContainer,e.startOffset=e.endOffset),e.collapsed=!0)}function m(e){e.collapsed=e.startContainer==e.endContainer&&e.startOffset==e.endOffset;for(var t=e.startContainer;t&&t!=e.endContainer&&!a.isAncestorOf(t,e.endContainer);)t=t.parentNode;e.commonAncestorContainer=t}f.fromNode=function(e){return new f(e.ownerDocument)};var g=n.extend({init:function(t){if(e.extend(this,{range:t,_current:null,_next:null,_end:null}),!t.collapsed){var n=t.commonAncestorContainer;this._next=t.startContainer!=n||l(t.startContainer)?d(n,t.startContainer):t.startContainer.childNodes[t.startOffset],this._end=t.endContainer!=n||l(t.endContainer)?d(n,t.endContainer).nextSibling:t.endContainer.childNodes[t.endOffset]}},hasNext:function(){return!!this._next},next:function(){var e=this,t=e._current=e._next;return e._next=e._current&&e._current.nextSibling!=e._end?e._current.nextSibling:null,l(e._current)&&(e.range.endContainer==e._current&&(t=t.cloneNode(!0)).deleteData(e.range.endOffset,t.length-e.range.endOffset),e.range.startContainer==e._current&&(t=t.cloneNode(!0)).deleteData(0,e.range.startOffset)),t},traverse:function(e){var t,n=this;for(;n._current=n._next,n._next=n._current&&n._current.nextSibling!=n._end?n._current.nextSibling:null,t=n._current;)n.hasPartialSubtree()?n.getSubtreeIterator().traverse(e):e(t);return t},remove:function(e){var t,n,i,o=this,r=o.range.startContainer==o._current,d=o.range.endContainer==o._current;if(l(o._current)&&(r||d))t=r?o.range.startOffset:0,i=(n=d?o.range.endOffset:o._current.length)-t,e&&(r||d)&&(o._current==e.startContainer&&t<=e.startOffset&&(e.startOffset-=i),o._current==e.endContainer&&n<=e.endOffset&&(e.endOffset-=i)),o._current.deleteData(t,i);else{var c=o._current.parentNode;if(e&&(o.range.startContainer==c||o.range.endContainer==c)){var u=s(o._current);c==e.startContainer&&u<=e.startOffset&&(e.startOffset-=1),c==e.endContainer&&u<e.endOffset&&(e.endOffset-=1)}a.remove(o._current)}},hasPartialSubtree:function(){return!l(this._current)&&(a.isAncestorOrSelf(this._current,this.range.startContainer)||a.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){return new g(this.getSubRange())},getSubRange:function(){var e=this,t=e.range.cloneRange();return t.selectNodeContents(e._current),a.isAncestorOrSelf(e._current,e.range.startContainer)&&t.setStart(e.range.startContainer,e.range.startOffset),a.isAncestorOrSelf(e._current,e.range.endContainer)&&t.setEnd(e.range.endContainer,e.range.endOffset),t}}),b=n.extend({init:function(e){this.ownerDocument=e,this.rangeCount=1},addRange:function(e){var t=this.ownerDocument.body.createTextRange();v(t,e,!1),v(t,e,!0),t.select()},removeAllRanges:function(){var e=this.ownerDocument.selection;"None"!=e.type&&e.empty()},getRangeAt:function(){var e,t,n=new f(this.ownerDocument),i=this.ownerDocument.selection;try{if(((e=i.createRange()).item?e.item(0):e.parentElement()).ownerDocument!=this.ownerDocument)return n}catch(e){return n}if("Control"==i.type)n.selectNode(e.item(0));else{t=function(e){var t=e.duplicate(),n=e.duplicate();return t.collapse(!0),n.collapse(!1),a.commonAncestor(e.parentElement(),t.parentElement(),n.parentElement())}(e),y(e,n,t,!0),y(e,n,t,!1),9==n.startContainer.nodeType&&n.setStart(n.endContainer,n.startOffset),9==n.endContainer.nodeType&&n.setEnd(n.startContainer,n.endOffset),0===e.compareEndPoints("StartToEnd",e)&&n.collapse(!1);var o=n.startContainer,r=n.endContainer,d=this.ownerDocument.body;if(!(n.collapsed||0!==n.startOffset||n.endOffset!=c(n.endContainer)||o==r&&l(o)&&o.parentNode==d)){for(var u=!1,p=!1;0===s(o)&&o==o.parentNode.firstChild&&o!=d;)o=o.parentNode,u=!0;for(;s(r)==c(r.parentNode)-1&&r==r.parentNode.lastChild&&r!=d;)r=r.parentNode,p=!0;o==d&&r==d&&u&&p&&(n.setStart(o,0),n.setEnd(r,c(d)))}}return n}});function v(e,t,n){var i,o=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],s=0,d=l(o),c=d?o:o.childNodes[r]||null,u=d?o.parentNode:o,p=t.ownerDocument,f=p.body.createTextRange();3!=o.nodeType&&4!=o.nodeType||(s=r),u||(u=p.body),"img"==u.nodeName.toLowerCase()?(f.moveToElementText(u),f.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",f)):(i=u.insertBefore(a.create(p,"a"),c),f.moveToElementText(i),a.remove(i),f[n?"moveStart":"moveEnd"]("character",s),f.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",f))}function y(e,t,n,i){var o,r,d,c,u,p,f,h=a.create(t.ownerDocument,"a"),m=e.duplicate(),g=i?"StartToStart":"StartToEnd",b=!1;h.innerHTML="\ufeff",m.collapse(i),r=m.parentElement(),a.isAncestorOrSelf(n,r)||(r=n);do{b?r.insertBefore(h,h.previousSibling):(r.appendChild(h),b=!0),m.moveToElementText(h)}while((o=m.compareEndPoints(g,e))>0&&h.previousSibling);d=h.nextSibling,-1==o&&l(d)?(m.setEndPoint(i?"EndToStart":"EndToEnd",e),a.remove(h),p=[d,m.text.length]):(c=!i&&h.previousSibling,u=i&&h.nextSibling,l(u)?p=[u,0]:l(c)?p=[c,c.length]:(f=s(h),p=r.nextSibling&&f==r.childNodes.length-1?[r.nextSibling,0]:[r,f]),a.remove(h)),t[i?"setStart":"setEnd"].apply(t,p)}var w=n.extend({init:function(e){this.enumerate=function(){var t=[];return new g(e).traverse((function e(n){if(a.is(n,"img")||3==n.nodeType&&(!a.isEmptyspace(n)||"\ufeff"==n.nodeValue))t.push(n);else for(n=n.firstChild;n;)e(n),n=n.nextSibling})),t}}}),C=g.extend({hasPartialSubtree:function(){var e=o.Immutables&&o.Immutables.immutable;return e&&!e(this._current)&&g.fn.hasPartialSubtree.call(this)},getSubtreeIterator:function(){return new C(this.getSubRange())}}),k=n.extend({init:function(e){this.enumerate=function(){var t=[],n=o.Immutables&&o.Immutables.immutable;return new C(e).traverse((function e(i){if(n&&!n(i))if(a.is(i,"img")||3==i.nodeType&&(!a.isEmptyspace(i)||"\ufeff"==i.nodeValue))t.push(i);else for(i=i.firstChild;i;)e(i),i=i.nextSibling})),t}}}),x=n.extend({init:function(e,t,n){var i=this;i.range=e,i.rootNode=N.documentFromRange(e),i.body=t||i.getEditable(e),"body"!=a.name(i.body)&&(i.rootNode=i.body),i.startContainer=i.nodeToPath(e.startContainer),i.endContainer=i.nodeToPath(e.endContainer),i.startOffset=i.offset(e.startContainer,e.startOffset),i.endOffset=i.offset(e.endContainer,e.endOffset),i.immutables=n&&n.immutables,i.immutables&&(i.serializedImmutables=o.Immutables.removeImmutables(i.body)),i.html=i.body.innerHTML,i.immutables&&!i.serializedImmutables.empty&&o.Immutables.restoreImmutables(i.body,i.serializedImmutables)},index:function(e){for(var t=0,n=e.nodeType;e=e.previousSibling;){var i=e.nodeType;3==i&&n==i||t++,n=i}return t},getEditable:function(e){for(var t=e.commonAncestorContainer;t&&(3==t.nodeType||t.attributes&&(!t.attributes.contentEditable||"false"==t.attributes.contentEditable.nodeValue.toLowerCase()));)t=t.parentNode;return t},restoreHtml:function(){var e=this;a.removeChildren(e.body),e.body.innerHTML=e.html,e.immutables&&!e.serializedImmutables.empty&&o.Immutables.restoreImmutables(e.body,e.serializedImmutables)},offset:function(e,t){if(3==e.nodeType)for(;(e=e.previousSibling)&&3==e.nodeType;)t+=e.nodeValue.length;return t},nodeToPath:function(e){for(var t=[];e!=this.rootNode;)t.push(this.index(e)),e=e.parentNode;return t},toRangePoint:function(e,t,n,i){for(var o=this.rootNode,r=n.length,a=i;r--&&o;)o=o.childNodes[n[r]];for(;o&&3==o.nodeType&&o.nodeValue.length<a;)a-=o.nodeValue.length,o=o.nextSibling;o&&a>=0&&e[t?"setStart":"setEnd"](o,a)},toRange:function(){var e=this,t=e.range.cloneRange();return e.toRangePoint(t,!0,e.startContainer,e.startOffset),e.toRangePoint(t,!1,e.endContainer,e.endOffset),t}}),_=n.extend({init:function(){this.caret=null},addCaret:function(e){var t=this.caret=a.create(N.documentFromRange(e),"span",{className:"k-marker"});return e.insertNode(t),a.stripBomNode(t.previousSibling),a.stripBomNode(t.nextSibling),e.selectNode(t),t},removeCaret:function(e){var t=this,n=t.caret.previousSibling,i=0;n&&(i=l(n)?n.nodeValue.length:s(n));var o=t.caret.parentNode,d=n?s(n):0;a.remove(t.caret),u(o);var c=o.childNodes[d];if(l(c))e.setStart(c,i);else if(c){var p=a.lastTextNode(c);p?e.setStart(p,p.nodeValue.length):e[n?"setStartAfter":"setStartBefore"](c)}else r.msie||o.innerHTML||(o.innerHTML='<br _moz_dirty="" />'),e.selectNodeContents(o);e.collapse(!0)},add:function(e,t){var n=this,i=e.collapsed&&!N.isExpandable(e),o=N.documentFromRange(e);t&&e.collapsed&&(n.addCaret(e),e=N.expand(e));var r=e.cloneRange();if(r.collapse(!1),n.end=a.create(o,"span",{className:"k-marker"}),r.insertNode(n.end),(r=e.cloneRange()).collapse(!0),n.start=n.end.cloneNode(!0),r.insertNode(n.start),n._removeDeadMarkers(n.start,n.end),i){var s=o.createTextNode("\ufeff");a.insertAfter(s.cloneNode(),n.start),a.insertBefore(s,n.end)}return u(e.commonAncestorContainer),e.setStartBefore(n.start),e.setEndAfter(n.end),e},_removeDeadMarkers:function(e,t){e.previousSibling&&"\ufeff"==e.previousSibling.nodeValue&&a.remove(e.previousSibling),t.nextSibling&&"\ufeff"==t.nextSibling.nodeValue&&a.remove(t.nextSibling)},_normalizedIndex:function(e){for(var t=s(e),n=e;n.previousSibling;)3==n.nodeType&&3==n.previousSibling.nodeType&&t--,n=n.previousSibling;return t},remove:function(e){var t,n,i=this,o=i.start,r=i.end;for(u(e.commonAncestorContainer);!o.nextSibling&&o.parentNode;)o=o.parentNode;for(;!r.previousSibling&&r.parentNode;)r=r.parentNode;t=o.previousSibling&&3==o.previousSibling.nodeType&&o.nextSibling&&3==o.nextSibling.nodeType,n=r.previousSibling&&3==r.previousSibling.nodeType&&r.nextSibling&&3==r.nextSibling.nodeType;var s=(o=o.nextSibling)===(r=r.previousSibling)&&a.isBom(o);s&&o.length>1&&(o.nodeValue=o.nodeValue.charAt(0));var d=s,c=!1;if(o==i.end&&(c=!!i.start.previousSibling,o=r=i.start.previousSibling||i.end.nextSibling,d=!0),a.remove(i.start),a.remove(i.end),!o||!r)return e.selectNodeContents(e.commonAncestorContainer),void e.collapse(!0);var p=d?l(o)?o.nodeValue.length:o.childNodes.length:0,f=l(r)?r.nodeValue.length:r.childNodes.length;if(3==o.nodeType)for(;o.previousSibling&&3==o.previousSibling.nodeType;)p+=(o=o.previousSibling).nodeValue.length;if(3==r.nodeType)for(;r.previousSibling&&3==r.previousSibling.nodeType;)f+=(r=r.previousSibling).nodeValue.length;var h=o.parentNode,m=r.parentNode,g=this._normalizedIndex(o),b=this._normalizedIndex(r);u(h),3==o.nodeType&&(o=h.childNodes[g]),u(m),3==r.nodeType&&(r=m.childNodes[b]),d?(3==o.nodeType?e.setStart(o,p):e[c?"setStartAfter":"setStartBefore"](o),e.collapse(!0)):(3==o.nodeType?e.setStart(o,p):e.setStartBefore(o),3==r.nodeType?e.setEnd(r,f):e.setEndAfter(r)),i.caret&&i.removeCaret(e)}}),T=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,N={nodes:function(e){var t=N.textNodes(e);return t.length||(e.selectNodeContents(e.commonAncestorContainer),(t=N.textNodes(e)).length||(t=a.significantChildNodes(e.commonAncestorContainer))),t},textNodes:function(e){return new w(e).enumerate().filter((function(e){return a.allowsTextContent(e.parentElement)}))},editableTextNodes:function(e){var t=o.Immutables&&o.Immutables.immutableParent,n=[];return t&&!t(e.commonAncestorContainer)&&(n=new k(e).enumerate().filter((function(e){return a.allowsTextContent(e.parentElement)}))),n},documentFromRange:function(e){var t=e.startContainer;return 9==t.nodeType?t:t.ownerDocument},createRange:function(e){return e.createRange()},selectRange:function(e){var t=N.image(e);t&&(e.setStartAfter(t),e.setEndAfter(t));var n=p.selectionFromRange(e);n.removeAllRanges(),n.addRange(e)},stringify:function(e){return t.format("{0}:{1} - {2}:{3}",a.name(e.startContainer),e.startOffset,a.name(e.endContainer),e.endOffset)},split:function(e,t,n){function i(i){var o=e.cloneRange();o.collapse(i),o[i?"setStartBefore":"setEndAfter"](t);var r=o.extractContents();n&&(r=a.trim(r)),a[i?"insertBefore":"insertAfter"](r,t)}i(!0),i(!1)},mapAll:function(t,n){var i=[];return new g(t).traverse((function(t){var o=n(t);o&&e.inArray(o,i)<0&&i.push(o)})),i},getAll:function(e,t){var n=t;return"string"==typeof t&&(t=function(e){return a.is(e,n)}),N.mapAll(e,(function(e){if(t(e))return e}))},getMarkers:function(e){return N.getAll(e,(function(e){return"k-marker"==e.className}))},image:function(e){var t=N.getAll(e,"img");if(1==t.length)return t[0]},isStartOf:function(e,t){if(0!==e.startOffset)return!1;for(var n=e.cloneRange();0===n.startOffset&&n.startContainer!=t;){for(var i=a.findNodeIndex(n.startContainer),o=n.startContainer.parentNode;i>0&&o[i-1]&&a.insignificant(o[i-1]);)i--;n.setStart(o,i)}return 0===n.startOffset&&n.startContainer==t},isEndOf:function(e,t){var n=e.cloneRange();n.collapse(!1);var i=n.startContainer;a.isDataNode(i)&&n.startOffset==a.getNodeLength(i)&&(n.setStart(i.parentNode,a.findNodeIndex(i)+1),n.collapse(!0)),n.setEnd(t,a.getNodeLength(t));var o=[];return new g(n).traverse((function(e){a.insignificant(e)||a.isDataNode(e)&&/^[\ufeff]*$/.test(e.nodeValue)||o.push(e)})),!o.length},wrapSelectedElements:function(e){for(var t=a.editableParent(e.startContainer),n=a.editableParent(e.endContainer);0===e.startOffset&&e.startContainer!=t;)e.setStart(e.startContainer.parentNode,a.findNodeIndex(e.startContainer));function i(e,t){var n=a.getNodeLength(t);if(e==n)return!0;for(var i=e;i<n;i++)if(!a.insignificant(t.childNodes[i]))return!1;return!0}for(;i(e.endOffset,e.endContainer)&&e.endContainer!=n;)e.setEnd(e.endContainer.parentNode,a.findNodeIndex(e.endContainer)+1);return e},expand:function(e){var t=e.cloneRange(),n=t.startContainer.childNodes[0===t.startOffset?0:t.startOffset-1],i=t.endContainer.childNodes[t.endOffset];if(!l(n)||!l(i))return t;var o=n.nodeValue,r=i.nodeValue;if(!o||!r)return t;var a=o.split("").reverse().join("").search(T),s=r.search(T);return a&&s?(s=-1==s?r.length:s,a=-1==a?0:o.length-a,t.setStart(n,a),t.setEnd(i,s),t):t},isExpandable:function(e){var t=e.startContainer,n=N.documentFromRange(e);if(t==n||t==n.body)return!1;var i=e.cloneRange(),o=t.nodeValue;if(!o)return!1;var r=o.substring(0,i.startOffset),a=o.substring(i.startOffset),s=0,l=0;return r&&(s=r.split("").reverse().join("").search(T)),a&&(l=a.search(T)),s&&l}};i(o,{SelectionUtils:p,W3CRange:f,RangeIterator:g,W3CSelection:b,RangeEnumerator:w,RestorePoint:x,Marker:_,RangeUtils:N})}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.Class,o=n.ui.editor,r=o.Dom,a=n.template,s=o.RangeUtils,l=["ul","ol","tbody","thead","table"],d="k-immutable",c="[k-immutable]",u=function(t){return e(t).is("body,.k-editor")},p=function(e){return e.getAttribute&&"false"==e.getAttribute("contenteditable")},f=function(e){return r.closestBy(e,p,u)},h=function(e){return!!f(e.commonAncestorContainer)||!(!f(e.startContainer)&&!f(e.endContainer)||0!==s.editableTextNodes(e).length)},m=function(e){for(var t="",n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i=e||10;i>0;--i)t+=n.charAt(Math.round(Math.random()*(n.length-1)));return t},g=function(e){var t=e?e.options:undefined;t&&t.finder&&t.finder._initOptions({immutables:!0})},b=i.extend({init:function(t){this.editor=t,this.serializedImmutables={},this.options=e.extend({},t&&t.options&&t.options.immutables);var i=n.ui.Editor.defaultTools;g(i.justifyLeft),g(i.justifyCenter),g(i.justifyRight),g(i.justifyFull)},serialize:function(e){var t,n=this._toHtml(e);return-1===n.indexOf(d)?(t=this.randomId(),n=n.replace(/>/,' k-immutable="'+t+'">')):t=n.match(/k-immutable\s*=\s*['"](.*)['"]/)[1],this.serializedImmutables[t]=e,n},_toHtml:function(e){var t,n=this.options.serialization;switch(typeof n){case"string":return a(n)(e);case"function":return n(e);default:return"<"+(t=r.name(e))+"></"+t+">"}},deserialize:function(t){var i=this,o=this.options.deserialization;e(c,t).each((function(){var t=this.getAttribute(d),r=i.serializedImmutables[t];n.isFunction(o)&&o(this,r),e(this).replaceWith(r)})),i.serializedImmutables={}},randomId:function(e){return m(e)},keydown:function(e,t){var i,o,r=(i=e.keyCode,o=n.keys,i===o.BACKSPACE||i==o.DELETE);if(r&&this._cancelDeleting(e,t)||!r&&this._cancelTyping(e,t))return e.preventDefault(),!0},_cancelTyping:function(e,t){var n=this.editor.keyboard;return t.collapsed&&!n.typingInProgress&&n.isTypingKey(e)&&h(t)},_cancelDeleting:function(e,t){var i=n.keys,o=e.keyCode===i.BACKSPACE,a=e.keyCode==i.DELETE;if(!o&&!a)return!1;var s=!1;if(t.collapsed){if(h(t))return!0;var d=this.nextImmutable(t,a);if(d&&o){var c=r.closest(t.commonAncestorContainer,"li");if(c){var u=r.closest(d,"li");if(u&&u!==c)return s}}if(d&&!r.tableCell(d)){if(r.parentOfType(d,l)===r.parentOfType(t.commonAncestorContainer,l)){for(;d&&1==d.parentNode.childNodes.length;)d=d.parentNode;if(r.tableCell(d))return s;this._removeImmutable(d,t)}s=!0}}return s},nextImmutable:function(e,t){var n=e.commonAncestorContainer;if(r.isBom(n)||t&&s.isEndOf(e,n)||!t&&s.isStartOf(e,n)){var i=this._nextNode(n,t);if(i&&r.isBlock(i)&&!f(i))for(;i&&i.children&&i.children[t?0:i.children.length-1];)i=i.children[t?0:i.children.length-1];return f(i)}},_removeImmutable:function(e,t){var n=this.editor,i=new o.RestorePoint(t,n.body);r.remove(e),o._finishUpdate(n,i)},_nextNode:function(e,t){for(var n,i=t?"nextSibling":"previousSibling",o=e;o&&!n;)(n=o[i])&&r.isDataNode(n)&&/^\s|[\ufeff]$/.test(n.nodeValue)&&(n=(o=n)[i]),n||(o=o.parentNode);return n}});b.immutable=p,b.immutableParent=f,b.expandImmutablesIn=function(e){var t=f(e.startContainer),n=f(e.endContainer);(t||n)&&(t&&e.setStartBefore(t),n&&e.setEndAfter(n))},b.immutablesContext=h,b.toolsToBeUpdated=["bold","italic","underline","strikethrough","superscript","subscript","forecolor","backcolor","fontname","fontsize","createlink","unlink","autolink","addcolumnleft","addcolumnright","addrowabove","addrowbelow","deleterow","deletecolumn","mergecells","formatting","cleanformatting"],b.removeImmutables=function(t){var n,i,o,a={empty:!0};return e(t).find("[contenteditable='false']").each((function(t,s){n=r.name(s),i=m(),o="<"+n+" "+"k-immutable='"+i+"'></"+n+">",a[i]={node:s,style:e(s).attr("style")},a.empty=!1,e(s).replaceWith(o)})),a},b.restoreImmutables=function(t,n){var i,o;e(t).find(c).each((function(t,r){i=r.getAttribute(d),o=n[i],e(r).replaceWith(o.node),o.style!=e(o.node).attr("style")&&e(o.node).removeAttr("style").attr("style",o.style)}))},o.Immutables=b}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=t.ui.editor,o=i.Dom,r=i.RestorePoint,a=i.Marker,s=e.extend;var l=n.extend({init:function(e){this.options=e,this.restorePoint=new r(e.range,e.body,{immutables:e.immutables}),this.marker=new a,this.formatter=e.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(e){return this.marker.add(this.getRange(),e)},releaseRange:function(e){this.marker.remove(e),this.editor.selectRange(e)},undo:function(){var e=this.restorePoint;e.restoreHtml(),this.editor.selectRange(e.toRange())},redo:function(){this.exec()},createDialog:function(n,i){var o=this.editor;return e(n).appendTo(document.body).kendoWindow(s({},o.options.dialogOptions,i)).closest(".k-window").addClass("k-editor-window").toggleClass("k-rtl",t.support.isRtl(o.wrapper)).end()},exec:function(){var e=this.lockRange(!0);this.formatter.editor=this.editor,this.formatter.toggle(e),this.releaseRange(e)},immutables:function(){return this.editor&&this.editor.options.immutables},expandImmutablesIn:function(e){this.immutables()&&(t.ui.editor.Immutables.expandImmutablesIn(e),this.restorePoint=new r(e,this.editor.body))},_actionButtonsTemplate:function(e){var n=e.messages,i=e.insertButtonIcon,o=e.cancelButtonIcon;return'<div class="k-actions k-actions-start k-actions-horizontal k-window-buttons">'+t.html.renderButton('<button class="k-dialog-insert">'+n.dialogInsert+"</button>",{themeColor:"primary",icon:i})+t.html.renderButton('<button class="k-dialog-close">'+n.dialogCancel+"</button>",{icon:o})+"</div>"}}),d=n.extend({init:function(e,t){this.body=e.body,this.startRestorePoint=e,this.endRestorePoint=t},redo:function(){o.removeChildren(this.body),this.body.innerHTML=this.endRestorePoint.html,this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){o.removeChildren(this.body),this.body.innerHTML=this.startRestorePoint.html,this.editor.selectRange(this.startRestorePoint.toRange())}});s(i,{_finishUpdate:function(e,t){var n=e.selectionRestorePoint=new r(e.getRange(),e.body),i=new d(t,n);return i.editor=e,e.undoRedoStack.push(i),e._refreshTools(),n},Command:l,GenericCommand:d})}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=e.extend,o=n.ui.editor,r=o.EditorUtils,a=o.Command,s=o.Tool,l=o.Dom,d=a.extend({init:function(e){var t=this;t.options=e,a.fn.init.call(t,e),t.attributes=null,t.async=!0},exec:function(){var i,o,a=this,s=a.editor,c=s.options,u=s.options.messages,p=e(n.template(d.template)(u)).appendTo(document.body),f=".k-editor-textarea > textarea";function h(e){e.preventDefault(),p.data("kendoWindow").destroy(),s.immutables&&(s.immutables.serializedImmutables={}),s.focus()}c.serialization.immutables=s.immutables,o=l.getAllComments(s.body),i=r.cacheComments(s.value(),o),i=d.indent(i),i=r.retrieveComments(i,o),c.serialization.immutables=t;var m=this.createDialog(p,{title:u.viewHtml,_footerTemplate:d._footerTemplate,_footerMessages:u,width:600,height:400,resizable:!0,close:h,visible:!1}).find(f).val(i).end().data("kendoWindow");m.center().open(),m.wrapper.find(".k-dialog-update").on("click",(function(e){c.deserialization.immutables=s.immutables,s.value(p.find(f).val()),c.deserialization.immutables=t,h(e),a.change&&a.change(),s.trigger("change")})).end(),m.wrapper.find(".k-dialog-close").on("click",h).end(),p.find(f).trigger("focus")}});i(d,{template:function(){return'<div class="k-editor-dialog k-popup-edit-form k-viewhtml-dialog"><span class="k-input k-textarea k-input-solid k-input-md k-rounded-md k-editor-textarea"><textarea class="k-input-inner !k-overflow-auto !k-resize-none"></textarea></span></div>'},_footerTemplate:function(e){var t=e.dialogUpdate,i=e.dialogCancel;return'<div class="k-actions k-actions-start k-actions-horizontal k-window-actions">'+n.html.renderButton('<button class="k-dialog-update">'+n.htmlEncode(t)+"</button>",{themeColor:"primary",icon:"check"})+n.html.renderButton('<button class="k-dialog-close">'+n.htmlEncode(i)+"</button>",{icon:"cancel-outline"})+"</div>"},indent:function(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}),n.ui.editor.ViewHtmlCommand=d,o.EditorUtils.registerTool("viewHtml",new s({command:d}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,i=t.ui.editor,o=i.Tool,r=i.Command,a=i.EditorUtils,s=r.extend({init:function(e){e.formatter=e.formatter();var t=e.formatter.finder;t&&a.formatByName("immutable",t.format)&&t._initOptions({immutables:e.immutables}),r.fn.init.call(this,e)}}),l=o.extend({init:function(e){o.fn.init.call(this,e)},command:function(e){return new s(n(e,{formatter:this.options.formatter}))},update:function(e,t){var n=this.options.finder.isFormatted(t),i=e.closest(".k-toolbar").getKendoToolBar();i&&e.getKendoToggleButton()&&i.toggle(e,n)}});e.extend(i,{FormatCommand:s,FormatTool:l})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=t.ui.editor,o=t.ui.Editor.fn.options.formats,r=i.Tool,a=i.FormatTool,s=i.Dom,l=i.RangeUtils,d=e.extend,c=i.EditorUtils.registerTool,u=i.EditorUtils.registerFormat,p="mousedown.kendoEditor",f="k-marker",h=n.extend({init:function(e){this.format=e},numberOfSiblings:function(e){var t,n=0,i=0,o=0,r=e.parentNode;for(t=r.firstChild;t;t=t.nextSibling)t!=e&&(t.className==f?o++:3==t.nodeType?n++:i++);return o>1&&r.firstChild.className==f&&r.lastChild.className==f?0:i+n},findSuitable:function(e,t){if(!t&&this.numberOfSiblings(e)>0)return null;for(var n=e.parentNode,i=this.format[0].tags;!s.ofType(n,i);){if(this.numberOfSiblings(n)>0)return null;n=n.parentNode}return n},findFormat:function(e){var t,n,i,o,r,a=this.format,l=s.attrEquals;for(t=0,n=a.length;t<n;t++){if(i=e,o=a[t].tags,r=a[t].attr,i&&s.ofType(i,o)&&l(i,r))return i;for(;i;)if((i=s.parentOfType(i,o))&&l(i,r))return i}return null},isFormatted:function(e){var t,n;for(t=0,n=e.length;t<n;t++)if(this.findFormat(e[t]))return!0;return!1}}),m=n.extend({init:function(e,t){this.finder=new h(e),this.attributes=d({},e[0].attr,t),this.tag=e[0].tags[0]},wrap:function(e){return s.wrap(e,s.create(e.ownerDocument,this.tag,this.attributes))},activate:function(e,t){this.finder.isFormatted(t)?(this.split(e),this.remove(t)):this.apply(t)},toggle:function(e){var t=(this.immutables()?l.editableTextNodes:l.textNodes)(e);t.length>0&&this.activate(e,t)},immutables:function(){return this.editor&&this.editor.options.immutables},apply:function(e){var t,n,i,o,r=[];if(e.length>1)for(t=0,n=e.length;t<n;t++)i=e[t],o=this.format(i,!0),r.push(o);else i=e[0],o=this.format(i,!1);this.consolidate(r)},format:function(e,t){var n=this.finder.findSuitable(e),i=this.attributes,o=i&&i.style||{};if(n)s.is(n,"font")&&(o.color&&n.removeAttribute("color"),o.fontName&&n.removeAttribute("face"),o.fontSize&&n.removeAttribute("size")),s.attr(n,i);else{for(;!s.isBlock(e.parentNode)&&1==e.parentNode.childNodes.length&&"true"!==e.parentNode.contentEditable&&t;)e=e.parentNode;n=this.wrap(e)}return n},remove:function(e){var t,n,i;for(t=0,n=e.length;t<n;t++)(i=this.finder.findFormat(e[t]))&&(this.attributes&&this.attributes.style?(s.unstyle(i,this.attributes.style),i.style.cssText||i.attributes.class||s.unwrap(i)):s.unwrap(i))},split:function(e){var t,n,i=l.textNodes(e),o=i.length;if(o>0)for(t=0;t<o;t++)(n=this.finder.findFormat(i[t]))&&l.split(e,n,!0)},consolidate:function(e){for(var t,n;e.length>1;)if(t=e.pop(),n=e[e.length-1],t.previousSibling&&t.previousSibling.className==f&&n.appendChild(t.previousSibling),t.tagName==n.tagName&&t.previousSibling==n&&t.style.cssText==n.style.cssText&&t.className===n.className){for(;t.firstChild;)n.appendChild(t.firstChild);s.remove(t)}}}),g=h.extend({init:function(e,t,n){this.format=e,this.greedyProperty=t,this.fontAttr=n,h.fn.init.call(this,e)},getInlineCssValue:function(e){var n,i,o,r,a,l,d,c,u,p,f,h,m=e.attributes,g=t.trim;if(m)for(n=0,i=m.length;n<i;n++){if(r=(o=m[n]).nodeName,a=o.nodeValue,o.specified&&"style"==r)for(c=0,u=(l=g(a||e.style.cssText).split(";")).length;c<u;c++)if((d=l[c]).length){if(f=g((p=d.split(":"))[0].toLowerCase()),h=g(p[1]),f!=this.greedyProperty)continue;return f.indexOf("color")>=0?s.toHex(h):h}if(this.fontAttr&&o.specified&&r==this.fontAttr)return f=o.nodeValue,h=o.nodeValue,f.indexOf("color")>=0?s.toHex(h):h}},getFormatInner:function(t){var n,i,o,r=e(s.isDataNode(t)?t.parentNode:t).parentsUntil("[contentEditable]").addBack().toArray().reverse();for(n=0,i=r.length;n<i;n++)if(o="className"==this.greedyProperty?r[n].className:this.getInlineCssValue(r[n]))return o;return"inherit"},getFormat:function(e){var t,n,i=this.getFormatInner(e[0]);for(t=1,n=e.length;t<n;t++)if(i!=this.getFormatInner(e[t]))return"";return i},isFormatted:function(e){return""!==this.getFormat(e)}}),b=m.extend({init:function(e,n,i){m.fn.init.call(this,e,n),this.values=n,this.finder=new g(e,i),i&&(this.greedyProperty=t.toCamelCase(i))},activate:function(e,t){var n=this.greedyProperty,i="apply";this.split(e),n&&"inherit"==this.values.style[n]&&(i="remove"),this[i](t)}}),v=a.extend({init:function(e){a.fn.init.call(this,d(e,{finder:new h(e.format),formatter:function(){return new m(e.format)}}))}}),y=r.extend({update:function(e,t){var n=e.data(this.type);n.close(),n.value(this.finder.getFormat(t))}}),w=y.extend({init:function(e){r.fn.init.call(this,e),this.type="kendoComboBox",this.format=[{tags:["span","font"]}],this.finder=new g(this.format,e.cssAttr,e.fontAttr)},command:function(e){var t=this.options,n=this.format,o={};return new i.FormatCommand(d(e,{formatter:function(){return o[t.domAttr]=e.value,new b(n,{style:o},t.cssAttr)}}))},initialize:function(e,n){var i,o,a=this.options,s=a.name,l=e.data("kendoComboBox"),d=[];l&&(a.defaultValue&&(d=[{text:n.options.messages[a.defaultValue[0].text],value:a.defaultValue[0].value}]),i=d.concat(a.items?a.items:n.options[s]||[]),l.setDataSource(i),l.bind("change",(function(e){n._range=o,r.exec(n,s,e.sender.value())})),l.bind("close",(function(){setTimeout((function(){n._deleteSavedRange()}),0)})),l.value("inherit"),l.wrapper.on(p,".k-select,.k-input-button,.k-input",(function(){var e=n.getRange();o=n._containsRange(e)?e:o})).on("keydown.kendoEditor",(function(e){e.keyCode===t.keys.ENTER&&(n._deleteSavedRange(),e.preventDefault())})))}}),C=r.extend({init:function(e){r.fn.init.call(this,e),this.format=[{tags:["span","font"]}],this.finder=new g(this.format,e.cssAttr)},options:{palette:"websafe",columns:18},update:function(){this._widget.close()},command:function(e){var t=this.options,n=this.format,o={};return new i.FormatCommand(d(e,{formatter:function(){return o[t.domAttr]=e.value,new b(n,{style:o},t.cssAttr)}}))},initialize:function(t,n){var i=this,o=i.options.name,a=this._widget=t.getKendoColorPicker();a&&(a.bind("change",(function(){var e=a.value();e&&r.exec(n,o,e),delete i.storedRange,delete i._inputFocused,n.focus()})),a.bind("open",(function(){i.storedRange=n.getRange(),a._popup.element.on(p,(function(t){e(t.target).is("input.k-color-value")||t.preventDefault()})),a._popup.element.is("[unselectable='on']")||a._popup.element.attr({unselectable:"on"}).find("*:not(input)").attr("unselectable","on").end().find("input").on("focus",(function(){i._inputFocused=!0})),a._popup.one("activate",(function(){a._popup.element.find(".k-colorpalette").trigger("focus")}))})),a.bind("close",(function(e){a._popup.element.off(p)})),a.unbind("activate").bind("activate",(function(e){a._value&&"rgba(255, 255, 255, 0)"!==a._value.toCssRgba()&&a.trigger("change")})),a.wrapper.attr({unselectable:"on"}).find("*:not(input)").attr("unselectable","on"),a.value("transparent"))}});d(i,{InlineFormatFinder:h,InlineFormatter:m,DelayedExecutionTool:y,GreedyInlineFormatFinder:g,GreedyInlineFormatter:b,InlineFormatTool:v,FontTool:w,ColorTool:C}),u("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),c("bold",new v({key:"B",ctrl:!0,format:o.bold,ui:{togglable:!0}})),u("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),c("italic",new v({key:"I",ctrl:!0,format:o.italic,ui:{togglable:!0}})),u("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),c("underline",new v({key:"U",ctrl:!0,format:o.underline,ui:{togglable:!0}})),u("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),c("strikethrough",new v({format:o.strikethrough,ui:{togglable:!0}})),u("superscript",[{tags:["sup"]}]),c("superscript",new v({format:o.superscript,ui:{togglable:!0}})),u("subscript",[{tags:["sub"]}]),c("subscript",new v({format:o.subscript,ui:{togglable:!0}})),c("foreColor",new C({cssAttr:"color",fontAttr:"color",domAttr:"color",name:"foreColor",ui:{type:"component",overflow:"never",component:"ColorPicker",componentOptions:{views:["palette"],toolIcon:"foreground-color",palette:"websafe",columns:18,preview:!1,input:!1,buttons:!1,commandOn:"change",closeOnSelect:!0}}})),c("backColor",new C({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",ui:{type:"component",overflow:"never",component:"ColorPicker",componentOptions:{views:["palette"],toolIcon:"droplet",palette:"websafe",columns:18,preview:!1,input:!1,buttons:!1,commandOn:"change",closeOnSelect:!0}}})),c("fontName",new w({cssAttr:"font-family",fontAttr:"face",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],ui:{type:"component",component:"ComboBox",componentOptions:{dataValueField:"value",dataTextField:"text",valuePrimitive:!0},overflow:"never"}})),c("fontSize",new w({cssAttr:"font-size",fontAttr:"size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],ui:{type:"component",component:"ComboBox",componentOptions:{dataValueField:"value",dataTextField:"text",valuePrimitive:!0},overflow:"never"}}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.htmlEncode,o=n.Class,r=e.extend,a=n.ui.editor,s=a.Dom,l=a.RangeUtils,d=a.Command,c=a.Tool,u=a.InlineFormatter,p=a.InlineFormatFinder,f=l.textNodes,h=l.editableTextNodes,m=a.EditorUtils.registerTool,g=n.keys,b="http://",v=/^\w*:\/\//,y=/[\w\/\$\-_\*\?]/i,w=o.extend({findSuitable:function(e){return s.parentOfType(e,["a"])}}),C=o.extend({init:function(){this.finder=new w},apply:function(e,t){var n,i,o,r,a,d=this.immutables?h(e):f(e);if(t.innerText){i=l.documentFromRange(e),n=l.getMarkers(e),e.deleteContents(),r=s.create(i,"a",t),e.insertNode(r),a=r.parentNode,"a"==s.name(a)&&s.insertAfter(r,a),s.emptyNode(a)&&s.remove(a);for(var c=r,p=0;p<n.length;p++)s.insertAfter(n[p],c),c=n[p];n.length&&(s.insertBefore(i.createTextNode("\ufeff"),n[1]||n[0]),s.insertAfter(i.createTextNode("\ufeff"),n[1]||n[0]),e.setStartBefore(n[0]),e.setEndAfter(n[n.length-1]))}else(o=new u([{tags:["a"]}],t)).finder=this.finder,o.apply(d)}}),k=d.extend({init:function(e){var t=this;e.formatter={toggle:function(e){var n=t.immutables()?h(e):f(e);new u([{tags:["a"]}]).remove(n)}},this.options=e,d.fn.init.call(this,e)}}),x=d.extend({init:function(e){var t;this.options=e,d.fn.init.call(this,e),this.formatter=new C,e.url?this.exec=function(){this.formatter.immutables=t,this.formatter.apply(e.range,{href:e.url,innerText:e.text||e.url,target:e.target})}:(this.attributes=null,this.async=!0)},exec:function(){var t=this.editor.options.messages;this._initialText="",this._range=this.lockRange(!0),this.formatter.immutables=this.immutables();var n=f(this._range),i=n.length?this.formatter.finder.findSuitable(n[0]):null,o=n.length&&"img"==s.name(n[0]),r=this.createDialog("<div/>",{title:t.createLink,minWidth:340,close:this._close.bind(this),visible:!1}).data("kendoWindow");this._form=this._createForm(r),i&&(this._range.selectNodeContents(i),n=f(this._range)),this._initialText=this.linkText(n),r.wrapper.find(".k-dialog-insert").on("click",this._apply.bind(this)).end().find(".k-dialog-close").on("click",this._close.bind(this)).end().find(".k-form-field input").on("keydown",this._keydown.bind(this)).end().find("#k-editor-link-url").val(this.linkUrl(i)).end().find("#k-editor-link-text").val(this._initialText).end().find("#k-editor-link-title").val(i?i.title:"").end().find("#k-editor-link-target").prop("checked",!!i&&"_blank"==i.target).end().find(".k-editor-link-text-row").toggle(!o),this._dialog=r.center().open(),e("#k-editor-link-url",r.element).trigger("focus").select()},_createForm:function(t){var n=e("<div/>").appendTo(t.element),o=this.editor.options.messages,r=n.kendoForm({renderButtons:!1,items:[{field:"k-editor-link-url",label:i(o.linkWebAddress),editor:"TextBox"},{field:"k-editor-link-text",label:i(o.linkText),editor:"TextBox"},{field:"k-editor-link-title",label:i(o.linkToolTip),editor:"TextBox"},{field:"k-editor-link-target",editorOptions:{label:i(o.linkOpenInNewWindow)},label:"",editor:"CheckBox"}]}).data("kendoForm");return n.find("#k-editor-link-text").parents(".k-form-field").addClass("k-editor-link-text-row"),t.element.after(e(this._actionButtonsTemplate({messages:o,insertButtonIcon:"link",cancelButtonIcon:"cancel-outline"}))),r},_keydown:function(e){var t=n.keys;e.keyCode==t.ENTER?this._apply(e):e.keyCode==t.ESC&&this._close(e)},_apply:function(t){var i,o,r,a=this._dialog.element,l=e("#k-editor-link-url",a).val(),d=e("#k-editor-link-text",a);l&&l!=b&&(l.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(l)&&(l="mailto:"+l),this.attributes={href:l},(i=e("#k-editor-link-title",a).val())&&(this.attributes.title=i),d.is(":visible")&&((o=n.trim(d.val()))||this._initialText?o&&o!==this._initialText&&(this.attributes.innerText=s.stripBom(o)):this.attributes.innerText=l),r=e("#k-editor-link-target",a).is(":checked"),this.attributes.target=r?"_blank":null,this.formatter.apply(this._range,this.attributes)),this._close(t),this.change&&this.change()},_close:function(e){e.preventDefault(),this._form.destroy(),this._dialog.destroy(),s.windowFromDocument(l.documentFromRange(this._range)).focus(),this.releaseRange(this._range)},linkUrl:function(e){return e?e.getAttribute("href",2):b},linkText:function(e){var t,n="";for(t=0;t<e.length;t++)n+=e[t].nodeValue;return s.stripBom(n||"")},redo:function(){var e=this.lockRange(!0);this.formatter.apply(e,this.attributes),this.releaseRange(e)}}),_=d.extend({init:function(e){d.fn.init.call(this,e),this.formatter=new C},exec:function(){var e=this.detectLink();if(e){var t=this.getRange(),i=new n.ui.editor.Marker,o=t.cloneRange();o.setStart(e.start.node,e.start.offset),o.setEnd(e.end.node,e.end.offset),t=this.lockRange(),i.add(o),this.formatter.apply(o,{href:this._ensureWebProtocol(e.text)}),i.remove(o),this.releaseRange(t)}},detectLink:function(){var e=this.getRange(),t=e.startContainer,n=e.startOffset;!t.previousSibling&&(s.isBom(t)&&!t.nextSibling||!n&&s.isDataNode(t))&&(t=t.parentNode,n=0);var i=new z({node:t,offset:n,cancelAtNode:function(e){return e&&"a"===s.name(e)}});return new N(i).detectLink()},changesContent:function(){return!!this.detectLink()},_ensureWebProtocol:function(e){return this._hasProtocolPrefix(e)?e:this._prefixWithWebProtocol(e)},_hasProtocolPrefix:function(e){return v.test(e)},_prefixWithWebProtocol:function(e){return b+e}}),T=c.extend({init:function(t){this.options=t,this.finder=new p([{tags:["a"]}]),c.fn.init.call(this,e.extend(t,{command:k}))},update:function(e,t){var n=this.finder.isFormatted(t),i=e.closest(".k-toolbar").data("kendoToolBar");n?i.enable(e,!0):i.enable(e,!1)}}),N=o.extend({init:function(e){this.traverser=e,this.start=R(),this.end=R(),this.text=""},detectLink:function(){var e=this.traverser.node,t=this.traverser.offset;if(s.isDataNode(e)){var n=e.data.substring(0,t);if(/\s{2}$/.test(s.stripBom(n)))return}else if(0===t){var i=s.closestEditableOfType(e,s.blockElements);i&&i.previousSibling&&this.traverser.init({node:i.previousSibling})}if(this.traverser.traverse(this._detectEnd.bind(this)),!this.end.blank()&&(this.traverser=this.traverser.clone(this.end),this.traverser.traverse(this._detectStart.bind(this)),!this._isLinkDetected())){var o=this.traverser.extendOptions(this.start);new E(o).traverse(this._skipStartPuntuation.bind(this)),this._isLinkDetected()||(this.start=R())}return this.start.blank()?null:{start:this.start,end:this.end,text:this.text}},_isLinkDetected:function(){return v.test(this.text)||/^w{3}\./i.test(this.text)},_detectEnd:function(e,t){var n=S(e,y);if(n>-1)return this.end.node=t,this.end.offset=n+1,!1},_detectStart:function(e,t){var n=S(e,/\s/),i=n+1;if(this.text=e.substring(i)+this.text,this.start.node=t,this.start.offset=i,n>-1)return!1},_skipStartPuntuation:function(e,t,n){var i,o=(i=/\w/.exec(e))?i.index:-1,r=o;if(-1===o&&(r=e.length),this.text=this.text.substring(r),this.start.node=t,this.start.offset=r+(0|n),o>-1)return!1}});function S(e,t){for(var n=e.length;n--&&!t.test(e[n]););return n}var R=function(){return{node:null,offset:null,blank:function(){return null===this.node&&null===this.offset}}},A=o.extend({init:function(n){this.node=n.node,this.offset=n.offset===t?s.isDataNode(this.node)&&this.node.length||0:n.offset,this.cancelAtNode=n.cancelAtNode||this.cancelAtNode||e.noop},traverse:function(e){e&&(this.cancel=!1,this._traverse(e,this.node,this.offset))},_traverse:function(e,n,i){if(n&&!this.cancel){if(3!==n.nodeType){var o=this.edgeNode(n);return this.cancel=this.cancel||this.cancelAtNode(o),this._traverse(e,o)}var r=n.data;i!==t&&(r=this.subText(r,i)),this.cancel=!1===e(r,n,i);var a=this.next(n);if(!a)for(var l=n.parentNode;!a&&s.isInline(l);)a=this.next(l),l=l.parentNode;this.cancel=this.cancel||this.cancelAtNode(a),this._traverse(e,a)}},extendOptions:function(t){return e.extend({node:this.node,offset:this.offset,cancelAtNode:this.cancelAtNode},t||{})},edgeNode:function(e){},next:function(e){},subText:function(e,t){}}),z=A.extend({subText:function(e,t){return e.substring(0,t)},next:function(e){return e.previousSibling},edgeNode:function(e){return e.lastChild},clone:function(e){var t=this.extendOptions(e);return new z(t)}}),E=A.extend({subText:function(e,t){return e.substring(t)},next:function(e){return e.nextSibling},edgeNode:function(e){return e.firstChild},clone:function(e){var t=this.extendOptions(e);return new E(t)}});r(n.ui.editor,{LinkFormatFinder:w,LinkFormatter:C,UnlinkCommand:k,LinkCommand:x,AutoLinkCommand:_,UnlinkTool:T,DomTextLinkDetection:N,LeftDomTextTraverser:z,RightDomTextTraverser:E}),m("createLink",new c({key:"K",ctrl:!0,command:x})),m("unlink",new T({key:"K",ctrl:!0,shift:!0,ui:{enable:!1}})),m("autoLink",new c({key:[g.ENTER,g.SPACEBAR],keyPressCommand:!0,command:_}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,o=t.ui.editor,r=t.ui.Editor.fn.options.formats,a=o.Dom,s=o.FormatTool,l=o.EditorUtils,d=l.registerTool,c=l.registerFormat,u=o.RangeUtils,p=n.extend({init:function(e){this.format=e},contains:function(e,t){var n,i,o;for(n=0,i=t.length;n<i;n++)if(!(o=t[n])||!a.isAncestorOrSelf(e,o))return!1;return!0},findSuitable:function(t){var n,i,o,r=this.format,s=[];for(n=0,i=t.length;n<i;n++){for(var l=r.length-1;l>=0&&!(o=a.ofType(t[n],r[l].tags)?t[n]:a.closestEditableOfType(t[n],r[l].tags));l--);if(!o||"true"===o.contentEditable)return[];e.inArray(o,s)<0&&s.push(o)}for(this._resolveListsItems(s),n=0,i=s.length;n<i;n++)if(this.contains(s[n],s))return[s[n]];return s},_resolveListsItems:function(e){var t,n,i;for(t=0;t<e.length;t++)n=e[t],i=(i=a.is(n,"li")?n:a.wrapper(n))&&a.list(i)?i.children[0]:i,a.is(i,"li")&&(n=e[t]=i)},findFormat:function(e,t){var n,i,r,s,l,d=this.format,c=a.editableParent(e),u=this.options&&this.options.immutables,p=o.Immutables;for(n=0,i=d.length;n<i;n++){if(r=e,s=d[n].tags,l=d[n].attr,u&&s&&"immutable"==s[0]){var f=p.immutableParent(r);if(f&&a.attrEquals(f,l))return r}for(;r&&a.isAncestorOf(c,r);){if(a.ofType(r,s)&&a.attrEquals(r,l))return r;if(t&&t(r))break;r=r.parentNode}}return null},getFormat:function(e){var t,n,i=this,o=function(e){return i.findFormat(a.isDataNode(e)?e.parentNode:e)},r=o(e[0]);if(!r)return"";for(t=1,n=e.length;t<n;t++)if(r!=o(e[t]))return"";return r.nodeName.toLowerCase()},isFormatted:function(e,t){for(var n=0,i=e.length;n<i;n++)if(!this.findFormat(e[n],t))return!1;return!0}}),f=n.extend({init:function(e,t){this.format=e,this.values=t,this.finder=new p(e)},wrap:function(e,t,n){var i=1==n.length?a.blockParentOrBody(n[0]):a.commonAncestor.apply(null,n);a.isInline(i)&&(i=a.blockParentOrBody(i));var o,r,s=a.significantChildNodes(i),l=a.findNodeIndex(s[0]),d=a.create(i.ownerDocument,e,t);for(o=0;o<s.length;o++)r=s[o],a.isBlock(r)?(a.attr(r,t),d.childNodes.length&&(a.insertBefore(d,r),d=d.cloneNode(!1)),l=a.findNodeIndex(r)+1):d.appendChild(r);d.firstChild&&a.insertAt(i,d,l)},apply:function(t){var n,o=this.values;function r(e){return i({},e&&e.attr,o)}this._handleImmutables(t,!0);var s=a.filter("img",t),d=r(l.formatByName("img",this.format));if(e.each(s,(function(){a.attr(this,d)})),s.length!=t.length){var c=a.filter("img",t,!0),u=this.finder.findSuitable(c);if(u.length)for(var p=0,f=u.length;p<f;p++)n=l.formatByName(a.name(u[p]),this.format),a.attr(u[p],r(n));else n=this.format[0],this.wrap(n.tags[0],r(n),c)}},_handleImmutables:function(e,t){if(this.immutables()){var n=l.formatByName("immutable",this.format);if(n)for(var i=o.Immutables,r=e.length-1;r>=0;r--){var s=i.immutableParent(e[r]);s&&(s!==e[r+1]&&(t?a.attr(s,n.attr):a.unstyle(s,n.attr.style)),e.splice(r,1))}}},immutables:function(){return this.editor&&this.editor.options.immutables},remove:function(e){var t,n,i,o,r;for(this._handleImmutables(e,!1),t=0,n=e.length;t<n;t++)(i=this.finder.findFormat(e[t]))&&(r=a.name(i),(o=l.formatByName(r,this.format)).attr.style&&a.unstyle(i,o.attr.style),o.attr.className&&a.removeClass(i,o.attr.className))},toggle:function(e){var t=this,n=a.filterBy(u.nodes(e),a.htmlIndentSpace,!0);t.finder.isFormatted(n)?t.remove(n):t.apply(n)}}),h=n.extend({init:function(e,t){var n=this;n.format=e,n.values=t,n.finder=new p(e)},apply:function(e){var t,n,i,r,s,l,d,c,u=this.format,p=a.blockParents(e),h=u[0].tags[0];if(p.length)for(t=0,n=p.length;t<n;t++)c=p[t],this.immutables()&&o.Immutables.immutableParent(c)||("li"==(d=a.name(c))?(i=c.parentNode,r=new o.ListFormatter(i.nodeName.toLowerCase(),h),(s=this.editor.createRange()).selectNode(p[t]),r.toggle(s)):h&&("td"==d||c.attributes.contentEditable)?new f(u,this.values).apply(c.childNodes):(l=a.changeTag(c,h),a.attr(l,u[0].attr)));else{var m=new f(u,this.values);m.editor=this.editor,m.apply(e)}},toggle:function(e){var t=u.textNodes(e);t.length||(e.selectNodeContents(e.commonAncestorContainer),(t=u.textNodes(e)).length||(t=a.significantChildNodes(e.commonAncestorContainer))),this.apply(t)},immutables:function(){return this.editor&&this.editor.options.immutables}}),m=s.extend({init:function(e){s.fn.init.call(this,i(e,{finder:new p(e.format),formatter:function(){return new f(e.format)}}))}});i(o,{BlockFormatFinder:p,BlockFormatter:f,GreedyBlockFormatter:h,BlockFormatTool:m});var g=["ul","ol","li"];c("justifyLeft",[{tags:a.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{float:"left",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{float:"left",display:"",marginLeft:"",marginRight:""}}},{tags:g,attr:{style:{textAlign:"left",listStylePosition:""}}}]),d("justifyLeft",new m({format:r.justifyLeft,ui:{togglable:!0,group:"align"}})),c("justifyCenter",[{tags:a.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:g,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]),d("justifyCenter",new m({format:r.justifyCenter,ui:{togglable:!0,group:"align"}})),c("justifyRight",[{tags:a.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{float:"right",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{float:"right",display:"",marginLeft:"",marginRight:""}}},{tags:g,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]),d("justifyRight",new m({format:r.justifyRight,ui:{togglable:!0,group:"align"}})),c("justifyFull",[{tags:a.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:g,attr:{style:{textAlign:"justify",listStylePosition:""}}}]),d("justifyFull",new m({format:r.justifyFull,ui:{togglable:!0,group:"align"}}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,o=t.ui.editor,r=o.Dom,a=o.RangeUtils,s=o.Command,l=o.FormatTool,d=o.BlockFormatFinder,c=a.textNodes,u=o.EditorUtils.registerTool,p=d.extend({init:function(e){this.tag=e.tag,this.attr=e.attr,this.altAttr=e.altAttr;var t=this.tags=["ul"==this.tag?"ol":"ul",this.tag],n=[{tags:t,attr:this.attr}];this.altAttr&&n.push({tags:t,attr:this.altAttr}),d.fn.init.call(this,n)},matchesType:function(e){return r.attrEquals(e,this.attr)||this.altAttr&&r.attrEquals(e,this.altAttr)},isList:function(e){return r.list(e)},isFormatted:function(e){var t,n,i=[];for(n=0;n<e.length;n++)(t=this.findFormat(e[n],this.isList))&&r.name(t)==this.tag&&this.matchesType(t)&&i.push(t);if(i.length<1)return!1;if(i.length!=e.length)return!1;for(n=0;n<i.length&&i[n].parentNode==t.parentNode;n++)if(i[n]!=t)return!1;return!0},findSuitable:function(e){var t=this.findFormat(e[0],this.isList);return t&&r.name(t)==this.tag?t:null}}),f=n.extend({init:function(t,n){var i=this;t=e.isPlainObject(t)?t:{tag:t,attr:null},i.tag=t.tag,i.attr=t.attr,i.finder=new p(t),i.unwrapTag=n},isList:function(e){return r.list(e)},immutables:function(){return this.editor&&!!this.editor.options.immutables},wrap:function(t,n){var i,a,s=r.create(t.ownerDocument,"li"),l=this.immutables()?o.Immutables.immutable:e.noop;for(i=0;i<n.length;i++)if(a=n[i],r.is(a,"li"))t.appendChild(a);else if(this.isList(a))for(;a.firstChild;)t.appendChild(a.firstChild);else if(r.is(a,"td")){for(;a.firstChild;)s.appendChild(a.firstChild);t.appendChild(s),a.appendChild(t),t=t.cloneNode(!1),s=s.cloneNode(!1)}else s.appendChild(a),r.isBlock(a)&&(t.appendChild(s),l(a)||r.unwrap(a),s=s.cloneNode(!1));s.firstChild&&t.appendChild(s)},containsAny:function(e,t){for(var n=0;n<t.length;n++)if(r.isAncestorOrSelf(e,t[n]))return!0;return!1},suitable:function(e,t){if("k-marker"==e.className){var n=e.nextSibling;if(n&&r.isBlock(n))return!1;if((n=e.previousSibling)&&r.isBlock(n))return!1}return this.containsAny(e,t)||r.isInline(e)||3==e.nodeType},_parentLists:function(t){var n=r.closestEditable(t);return e(t).parentsUntil(n,"ul,ol")},split:function(e){var t,n,i,o=c(e);if(o.length){t=r.parentOfType(o[0],["li"]),n=r.parentOfType(o[o.length-1],["li"]),e.setStartBefore(t),e.setEndAfter(n);for(var s=0,l=o.length;s<l;s++){var d=this.finder.findFormat(o[s]);d&&((i=this._parentLists(d)).length?a.split(e,i.last()[0],!0):a.split(e,d,!0))}}},merge:function(e,t){for(var n,i=t.previousSibling;i&&("k-marker"==i.className||3==i.nodeType&&r.isWhitespace(i));)i=i.previousSibling;if(i&&r.name(i)==e&&this.finder.matchesType(i)){for(;t.firstChild;)i.appendChild(t.firstChild);r.remove(t),t=i}for(n=t.nextSibling;n&&("k-marker"==n.className||3==n.nodeType&&r.isWhitespace(n));)n=n.nextSibling;if(n&&r.name(n)==e&&this.finder.matchesType(n)){for(;t.lastChild;)n.insertBefore(t.lastChild,n.firstChild);r.remove(t)}},breakable:function(e){return e!=e.ownerDocument.body&&!/table|tbody|thead|tr|td/.test(r.name(e))&&!e.attributes.contentEditable},findSuitableNode:function(e){var t,n=this,i=n.finder,o=n.tag;return(t=i.findSuitable(e))||(t=(i=new p({tag:"ul"==o?"ol":"ul"})).findSuitable(e)),t||(t=(t=(i=new p({tag:o})).findSuitable(e))&&n.finder.matchesType(t)?null:t),t},applyOnSection:function(t,n){var i,o=this.tag,a=this.attr,s=r.closestSplittableParent(n),l=[],d=this.findSuitableNode(n);function c(){l.push(this)}/table|tbody|thead/.test(r.name(s))?i=e.map(n,(function(e){return r.parentOfType(e,["td"])})):(i=r.significantChildNodes(s),e.grep(i,r.isBlock).length&&(i=e.grep(i,function(e){return this.containsAny(e,n)}.bind(this))),i.length||(i=n));for(var u=0;u<i.length;u++){var p=i[u];(!d||!r.isAncestorOrSelf(d,p))&&this.suitable(p,n)&&(d&&this.isList(p)?(e.each(p.children,c),r.remove(p)):l.push(p))}for(l.length==i.length&&this.breakable(s)&&(l=[s]),d||(d=r.create(s.ownerDocument,o,a),r.isBlock(l[0])&&r.mergeAttributes(l[0],d),r.insertBefore(d,l[0])),this.wrap(d,l);r.isBom(d.nextSibling);)r.remove(d.nextSibling);this.finder.matchesType(d)||(d.removeAttribute("type"),d.style.listStyleType="",r.mergeAttributes(r.create(s.ownerDocument,o,a),d,!0)),d&&""===d.getAttribute("type")&&d.removeAttribute("type"),r.is(d,o)||r.changeTag(d,o),this.merge(o,d)},apply:function(t){var n,i,a,s,l=0,d=[],c=t.length,u=this.immutables()?o.Immutables.immutableParent:e.noop;function p(){n&&d.push({section:n,nodes:i})}for(l=0;l<c;l++)s=u(t[l])||t[l],a=r.closestEditable(s,["td","th","body"]),n&&a==n?i.push(s):(p(),i=[s],n=a);for(p(),l=0;l<d.length;l++)this.applyOnSection(d[l].section,d[l].nodes)},unwrap:function(e){var t,n,i,o,a=e.ownerDocument.createDocumentFragment(),s=this.unwrapTag;for(n=e.firstChild;n;n=n.nextSibling){for(i=r.create(e.ownerDocument,s||"p");n.firstChild;)o=n.firstChild,r.isBlock(o)?(i.firstChild&&(a.appendChild(i),i=r.create(e.ownerDocument,s||"p")),a.appendChild(o)):i.appendChild(o);i.firstChild&&a.appendChild(i)}(t=this._parentLists(e))[0]?(r.insertAfter(a,t.last()[0]),t.last().remove()):r.insertAfter(a,e),r.remove(e)},remove:function(e){for(var t,n=0,i=e.length;n<i;n++)(t=this.finder.findFormat(e[n]))&&this.unwrap(t)},toggle:function(e){var t=this,n=c(e),i=e.commonAncestorContainer;if(!n.length&&(e.selectNodeContents(i),!(n=c(e)).length)){var o=i.ownerDocument.createTextNode("");e.startContainer.appendChild(o),n=[o],e.selectNode(o.parentNode)}n=r.filterBy(n,r.htmlIndentSpace,!0),t.finder.isFormatted(n)?(t.split(e),t.remove(n)):t.apply(n)}}),h=s.extend({init:function(e){e.formatter=new f({tag:e.tag,attr:e.attr}),s.fn.init.call(this,e)}}),m=l.extend({init:function(e){this.options=e,l.fn.init.call(this,i(e,{finder:new p(e)}))},command:function(e){return new h(i(e,{tag:this.options.tag,attr:this.options.attr}))}});i(o,{ListFormatFinder:p,ListFormatter:f,ListCommand:h,ListTool:m}),u("insertUnorderedList",new m({tag:"ul",attr:{style:{listStyleType:""},type:""},ui:{togglable:!0,group:"lists"}})),u("insertOrderedList",new m({tag:"ol",attr:{style:{listStyleType:""},type:""},ui:{togglable:!0,group:"lists"}})),u("insertUpperRomanList",new m({tag:"ol",attr:{style:{listStyleType:"upper-roman"}},altAttr:{type:"I"},ui:{togglable:!0,group:"lists"}})),u("insertLowerRomanList",new m({tag:"ol",attr:{style:{listStyleType:"lower-roman"}},altAttr:{type:"i"},ui:{togglable:!0,group:"lists"}}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.ui.editor,i=n.Tool,o=n.DelayedExecutionTool,r=n.Command,a=n.Dom,s=n.EditorUtils,l=n.RangeUtils,d=s.registerTool,c=o.extend({init:function(e){var n=this;i.fn.init.call(n,t.deepExtend({},n.options,e)),n.type="kendoDropDownList",n.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function(e){var t=e.value;if(!t)return e;if(e.tag||e.className)return e;var n=t.indexOf(".");return 0===n?e.className=t.substring(1):-1==n?e.tag=t:(e.tag=t.substring(0,n),e.className=t.substring(n+1)),e},command:function(t){var i=this,o=t.value;return o=this.toFormattingItem(o),new n.FormatCommand({range:t.range,formatter:function(){var t,r=(o.tag||o.context||"span").split(","),s=[{tags:r,attr:{className:o.className||""}}];return(t=e.inArray(r[0],a.inlineElements)>=0?new n.GreedyInlineFormatter(s):new n.GreedyBlockFormatter(s)).editor=i.editor,t}})},decorate:function(t){var n,i,o,r,s=this.component,l=s.dataSource,d=l.data();for(t&&s.list.css("background-color",a.getEffectiveBackground(e(t))),n=0;n<d.length;n++)i=d[n].tag||"span",o=d[n].className,r=(r=a.inlineStyle(t,i,{className:o})).replace(/"/g,"'"),d[n].style=r+";display:inline-block";l.trigger("change")},initialize:function(e,t){var n=this.options,o=n.name,r=this,a=e.getKendoDropDownList();a&&(r.editor=t,r.component=a,e.closest(".k-dropdownlist").width(n.width),a.setOptions({optionLabel:t.options.messages.formatting,change:function(){var e=a.dataItem();e&&i.exec(t,o,e.toJSON())},dataBound:function(){var e,t=a.dataSource.data(),n=a.list.parent().find(".k-list-optionlabel");for(e=0;e<t.length;e++)t[e]=r.toFormattingItem(t[e]);n.length&&n.remove()}}))},getFormattingValue:function(t,n){for(var i=0;i<t.length;i++){var o=t[i],r=(o.tag||o.context||"")+(o.className?"."+o.className:"");if(e(n[0]).closest(r)[0]){if(1==n.length)return o.value;for(var a=1;a<n.length&&e(n[a]).closest(r)[0];a++)if(a==n.length-1)return o.value}}return""},update:function(t,n){var i=e(t).data(this.type);if(i){var r,s,l=i.dataSource,d=l.data(),c=a.commonAncestor.apply(null,n);if(c==a.closestEditable(c)||this._ancestor!=c){for(this._ancestor=c,r=0;r<d.length;r++)s=d[r].context,d[r].visible=!s||!!e(c).closest(s).length;l.filter([{field:"visible",operator:"eq",value:!0}]),o.fn.update.call(this,t,n),i.value(this.getFormattingValue(l.view(),n)),i.wrapper.toggleClass("k-disabled",!l.view().length)}}},destroy:function(){this._ancestor=null}}),u=r.extend({exec:function(){var e=this.lockRange(!0);this.tagsToClean=this.options.remove||"strong,em,span,sup,sub,del,b,i,u,font".split(","),l.wrapSelectedElements(e);for(var t=l.mapAll(e,(function(e){return e})),n=t.length-1;n>=0;n--){var i=t[n];this.immutableParent(i)||this.clean(i)}this.releaseRange(e)},clean:function(i){if(i&&!a.isMarker(i)){var o=a.name(i);if("ul"==o||"ol"==o){var r=new n.ListFormatter(o),s=i.previousSibling,l=i.nextSibling;for(r.unwrap(i);s&&s!=l;s=s.nextSibling)this.clean(s)}else if("blockquote"==o)a.changeTag(i,"p");else if(1!=i.nodeType||a.insignificant(i))!function(e){var i=a.closestEditableOfType(e,["li"]);if(i){var o=new n.ListFormatter(a.name(i.parentNode)),r=t.ui.editor.W3CRange.fromNode(e);r.selectNode(i),o.toggle(r)}}(i);else{for(var d=i.childNodes.length-1;d>=0;d--)this.clean(i.childNodes[d]);i.removeAttribute("style"),i.removeAttribute("class")}e.inArray(o,this.tagsToClean)>-1&&a.unwrap(i)}},immutableParent:function(e){return this.immutables()&&n.Immutables.immutableParent(e)}});e.extend(n,{FormattingTool:c,CleanFormatCommand:u}),d("formatting",new c({ui:{type:"component",component:"DropDownList",componentOptions:{dataTextField:"text",dataValueField:"value",highlightFirst:!1,autoWidth:!0,template:t.template((function(e){return'<span unselectable="on" style="display:block;'+(e.style||"")+'">'+t.htmlEncode(e.text)+"</span>"}))},overflow:"never"}})),d("cleanFormatting",new i({command:u}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=e.extend,o=n.htmlEncode,r=n.ui.editor,a=r.EditorUtils,s=r.Dom,l=a.registerTool,d=r.RangeUtils,c=r.Command,u=n.keys,p="#k-editor-image-url",f="#k-editor-image-title",h="#k-editor-image-width",m="#k-editor-image-height",g=c.extend({init:function(e){var t=this;c.fn.init.call(t,e),t.async=!0,t.attributes={}},insertImage:function(e,t){var n=this.attributes,i=d.documentFromRange(t);if(n.src&&"http://"!=n.src){var o=function(){setTimeout((function(){n.width||e.removeAttribute("width"),n.height||e.removeAttribute("height"),e.removeAttribute("complete")}))};if(!e)return(e=s.create(i,"img",n)).onload=e.onerror=o,t.deleteContents(),t.insertNode(e),e.nextSibling||s.insertAfter(i.createTextNode("\ufeff"),e),o(),t.setStartAfter(e),t.setEndAfter(e),d.selectRange(t),!0;e.onload=e.onerror=o,s.attr(e,n),o()}return!1},redo:function(){var e=this,t=e.lockRange();e.insertImage(d.image(t),t)||e.releaseRange(t)},exec:function(){var e,t,o=this,r=o.lockRange(),a=!1,l=d.image(r),c=l&&l.getAttribute("width")||"",g=l&&l.getAttribute("height")||"",b=n.support.browser.msie,v=o.editor.options,y=v.messages,w=v.imageBrowser,C=!!(n.ui.ImageBrowser&&w&&w.transport&&undefined!==w.transport.read),k={title:y.insertImage,visible:!1,resizable:C};function x(t){var n=e.element,i=parseInt(n.find(h).val(),10),s=parseInt(n.find(m).val(),10);o.attributes={src:n.find(p).val().replace(/ /g,"%20"),alt:n.find(f).val()},o.attributes.width=null,o.attributes.height=null,!isNaN(i)&&i>0&&(o.attributes.width=i),!isNaN(s)&&s>0&&(o.attributes.height=s),a=o.insertImage(l,r),_(t),o.change&&o.change()}function _(n){n.preventDefault(),t.destroy(),e.destroy(),s.windowFromDocument(d.documentFromRange(r)).focus(),a||o.releaseRange(r)}this.expandImmutablesIn(r),k.close=_,C&&(k.width=750),k.minWidth=350,e=this.createDialog("<div/>",k).data("kendoWindow"),t=o._createForm(e,C),e.element.toggleClass("k-filebrowser-dialog",C),e.wrapper.find(".k-dialog-insert").on("click",x).end().find(".k-dialog-close").on("click",_).end().find(".k-form-field input").on("keydown",(function(e){e.keyCode==u.ENTER?x(e):e.keyCode==u.ESC&&_(e)})).end().find(p).val(l?l.getAttribute("src",2):"http://").end().find(f).val(l?l.alt:"").end().find(h).val(c).end().find(m).val(g).end();var T=e.element;if(C&&(this._imageBrowser=new n.ui.ImageBrowser(T.find(".k-imagebrowser"),i({},w)),this._imageBrowser.bind("change",(function(e){"f"===e.selected.get("type")&&T.find(p).val(this.value())})),this._imageBrowser.bind("apply",x)),b){var N=T.closest(".k-window").height();T.css("max-height",N)}e.center().open(),T.find(p).trigger("focus").select()},_createForm:function(t,n){var i=e("<div/>").appendTo(t.element),r=this.editor.options.messages,a=i.kendoForm({renderButtons:!1,items:[{field:"k-editor-image-url",label:o(r.imageWebAddress),editor:"TextBox"},{field:"k-editor-image-title",label:o(r.imageAltText),editor:"TextBox"},{field:"k-editor-image-width",label:o(r.imageWidth),editor:"TextBox"},{field:"k-editor-image-height",label:o(r.imageHeight),editor:"TextBox"}]}).data("kendoForm");return n&&i.prepend(e('<div class="k-filebrowser k-imagebrowser"></div>')),t.element.after(e(this._actionButtonsTemplate({messages:r,insertButtonIcon:"image-add",cancelButtonIcon:"cancel-outline"}))),a}});n.ui.editor.ImageCommand=g,l("insertImage",new r.Tool({command:g}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=e.extend,o=n.ui.editor,r=o.EditorUtils,a=o.Command,s=o.Tool,l=r.registerTool,d='<div contenteditable="false" class="k-loading-mask" style="width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;"><div class="k-loading-image"></div><div class="k-loading-color"></div></div>',c=a.extend({exec:function(){(this.editor._uploadWidget||this._initializeUploadWidget()).element.click()},_initializeUploadWidget:function(){var t=this,n=t.editor,i=n.options.import,o=e('<input id="editorImport" name="files" type="file" />').kendoUpload({success:t._onUploadSuccess.bind(t),progress:t._onUploadProgress.bind(t),select:t._onUploadSelect.bind(t),error:t._onUploadError.bind(t),complete:t._onUploadComplete.bind(t),showFileList:!1,multiple:!1,async:{saveUrl:i.proxyURL,autoUpload:!0,saveField:"file"},validation:{allowedExtensions:i.allowedExtensions,maxFileSize:i.maxFileSize}}).getKendoUpload();return n._uploadWidget=o,o},_onUploadComplete:function(e){this._trigger("complete",e),e.sender.clearAllFiles(),this._removeLoadingOverlay()},_onUploadSuccess:function(e){this.editor.value(e.response.html.replace(/<\/?body>/gi,"")),this._trigger("success",e)},_onUploadProgress:function(e){this._trigger("progress",e)},_onUploadSelect:function(e){this._trigger("select",e),e.files[0].validationErrors||this._initLoadingOverlay()},_onUploadError:function(e){this._trigger("error",e)},_trigger:function(e,t){var n=this.editor,i=n.options.import;"function"==typeof i[e]&&i[e].call(n,t)},_initLoadingOverlay:function(){var t=this.editor.body;o.Dom.is(t,"body")?this._iframeWrapper=this._container=this.editor.wrapper.find("iframe").parent().css({position:"relative"}).append(d):this._container=e(t).append(d),n.ui.progress(this._container,!0)},_removeLoadingOverlay:function(){n.ui.progress(this._container,!1),e(this._iframeWrapper).css({position:""}),delete this._container,delete this._iframeWrapper}});i(o,{ImportCommand:c}),l("import",new s({command:c,ui:{showText:"both"}}))}(window.kendo.jQuery),e=window.kendo.jQuery,t=window.kendo.ui.editor,n=t.Command,i=t.GenericCommand,o=t.EditorUtils.registerTool,r=t.Tool,a=t.RestorePoint,s=e.extend,l=n.extend({init:function(e){n.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e=this.editor,t=this.options,n=t.range,o=e.body,r=new a(n,o),s=t.html||t.value||"";e.selectRange(n),e.clipboard.paste(s,t),t.postProcess&&t.postProcess(e,e.getRange());var l=new i(r,new a(e.getRange(),o));l.editor=e,e.undoRedoStack.push(l),e.focus()}}),d=r.extend({initialize:function(e,t){var n=this.options,i=n.items?n.items:t.options.insertHtml,o=e.getKendoDropDownList();o&&(o.one("open",(function(){var e=o.list.parent().find(".k-list-optionlabel");e.length&&e.remove()})),o.setOptions({dataSource:i,optionLabel:t.options.messages.insertHtml}),o.bind("change",(function(){r.exec(t,"insertHtml",o.value())})))},command:function(e){return new l(e)},update:function(e){var t=e.data("kendoDropDownList");t.close(),t.value(null)}}),s(t,{InsertHtmlCommand:l,InsertHtmlTool:d}),o("insertHtml",new d({ui:{initialValue:"Insert HTML",type:"component",component:"DropDownList",componentOptions:{dataTextField:"text",dataValueField:"value",autoSize:!0,highlightFirst:!1},overflow:"never"}})),function(e,t){var n=window.kendo,i=e.extend,o=n.ui.editor,r=o.EditorUtils,a=o.Command,s=o.Tool,l=r.registerTool,d=a.extend({init:function(e){var t=this;t.options=e,a.fn.init.call(t,e),t.attributes=null,t.exportType=e.exportType},exec:function(){var e=this.lockRange(!0);this.postToProxy(),this.releaseRange(e)},postToProxy:function(){this.generateForm().appendTo("body").submit().remove()},generateForm:function(){var t=this,n=t.editor.options.exportAs,i=e("<form>").attr({action:n&&n.proxyURL||"",method:"POST"});return i.append([t.valueInput(),t.exportTypeInput(),t.fileNameInput(),t.antiForgeryInput()]),i},valueInput:function(){var t=this.editor;return e("<input>").attr({value:t.encodedValue(),name:"value",type:"hidden"})},exportTypeInput:function(){return e("<input>").attr({value:this.exportType,name:"exportType",type:"hidden"})},fileNameInput:function(){var t=this.editor,n=t.options.exportAs,i=n&&n.fileName||t.element.attr("id")||"editor";return e("<input>").attr({value:i,name:"fileName",type:"hidden"})},antiForgeryInput:function(){var t=e("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return e("input[name^='__RequestVerificationToken']").clone().add(e("input[name^='"+t+"']").clone())}}),c=s.extend({init:function(e){var t=this;s.fn.init.call(t,n.deepExtend({},t.options,e)),t.type="kendoDropDownList"},options:{items:[{text:"Docx",value:"docx"},{text:"Rtf",value:"rtf"},{text:"Pdf",value:"pdf"},{text:"Html",value:"html"},{text:"Plain Text",value:"txt"}]},command:function(e){var t=e.value;return new o.ExportAsCommand({range:e.range,exportType:t.exportType})},initialize:function(e,t){var n=e.getKendoDropDownList();this.editor=t,n.bind("change",this.changeHandler.bind(this))},changeHandler:function(e){this._exec(e.sender.value()),e.sender.value(null),e.sender.wrapper.find(".k-export-tool-text").text(n.htmlEncode(this.editor.options.messages.exportAs))},update:function(e,t){var i=e.data("kendoDropDownList");i.close(),i.value(null),e.closest(".k-dropdownlist").find(".k-export-tool-text").text(n.htmlEncode(this.editor.options.messages.exportAs))},_exec:function(e){e&&s.exec(this.editor,this.options.name,{exportType:e})},destroy:function(){this._ancestor=null}});i(o,{ExportAsTool:c,ExportAsCommand:d}),l("exportAs",new c({ui:{type:"component",overflow:"never",component:"DropDownList",componentOptions:{dataTextField:"text",dataValueField:"value",valuePrimitive:!0,value:null,width:"140px",highlightFirst:!1,autoWidth:!0,itemTemplate:function(e){return'<span class="k-link k-menu-link" data-value="'+e.value+'">'+e.text+"</strong></span>"},icon:"export",valueTemplate:function(){return'<span class="k-editor-export">'+n.ui.icon({icon:"export",iconClass:"k-button-icon"})+'<span class="k-export-tool-text"></span></span>'}}}}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.Class,o=e.extend,r=n.ui.editor,a=r.Dom,s=r.EditorUtils.registerTool,l=r.Command,d=r.Tool,c=r.RangeUtils,u=a.blockElements,p=r.BlockFormatFinder,f=r.BlockFormatter;function h(t,n){var i="rtl"==e(t).css("direction")?"Right":"Left",o="td"!=a.name(t)?"margin"+i:"padding"+i;if(undefined===n)return t.style[o]||0;n>0?t.style[o]=n+"px":(t.style[o]="",t.style.cssText||t.removeAttribute("style"))}var m=i.extend({init:function(){this.finder=new p([{tags:a.blockElements}])},apply:function(t){t=a.filterBy(t,a.htmlIndentSpace,!0);var n,i,o,r,s,l=this.finder.findSuitable(t),d=[];if((l=this.mapImmutables(l)).length){for(n=0,i=l.length;n<i;n++)a.is(l[n],"li")?e(l[n]).index()?e.inArray(l[n].parentNode,d)<0&&d.push(l[n]):d.push(l[n].parentNode):d.push(l[n]);for(;d.length;)if(o=d.shift(),a.is(o,"li")){r=o.parentNode;var c=(s=e(o).prev("li")).find("ul,ol").last(),u=e(o).children("ul,ol")[0];if(u&&s[0])c[0]?(c.append(o),c.append(e(u).children()),a.remove(u)):(s.append(u),u.insertBefore(o,u.firstChild));else for((u=s.children("ul,ol")[0])||(u=a.create(o.ownerDocument,a.name(r),this.getListTypeAttr(r)),s.append(u));o&&o.parentNode==r;)u.appendChild(o),o=d.shift()}else{var p=parseInt(h(o),10)+30;h(o,p);for(var m=0;m<d.length;m++)e.contains(o,d[m])&&d.splice(m,1)}}else{new f([{tags:["p"]}],{style:{marginLeft:30}}).apply(t)}},getListTypeAttr:function(e){var t=e.getAttribute("type"),n=e.style.listStyleType;return t?{type:t}:{style:{listStyleType:n}}},mapImmutables:function(t){if(this.immutables){var n=[];return e.map(t,(function(t){var i=r.Immutables.immutableParent(t);if(i){if(-1!==e.inArray(i,n))return null;n.push(i)}return i||t}))}return t},remove:function(t){t=a.filterBy(t,a.htmlIndentSpace,!0);var n,i,o,r,s,l,d,c,u=this.finder.findSuitable(t);for(i=0,o=(u=this.mapImmutables(u)).length;i<o;i++){if((d=e(u[i])).is("li")){if((s=(r=d.parent()).parent()).is("li,ul,ol")&&!h(r[0])){if(n&&e.contains(n,s[0]))continue;(l=d.nextAll("li")).length&&e(r[0].cloneNode(!1)).appendTo(d).append(l),s.is("li")?d.insertAfter(s):d.appendTo(s),r.children("li").length||r.remove();continue}if(n==r[0])continue;n=r[0]}else n=u[i];c=parseInt(h(n),10)-30,h(n,c)}}}),g=l.extend({init:function(e){e.formatter={toggle:function(e){var t=new m;t.immutables=this.editor&&this.editor.options.immutables,t.apply(c.nodes(e))}.bind(this)},l.fn.init.call(this,e)}}),b=l.extend({init:function(e){e.formatter={toggle:function(e){var t=new m;t.immutables=this.editor&&this.editor.options.immutables,t.remove(c.nodes(e))}.bind(this)},l.fn.init.call(this,e)}}),v=d.extend({init:function(e){d.fn.init.call(this,e),this.finder=new p([{tags:u}])},initialize:function(t,n){e.extend(this.options,{immutables:n&&n.options.immutables})},update:function(t,n){var i,o,s,l,d,c,u=this.finder.findSuitable(n),p=t.closest(".k-toolbar").data("kendoToolBar");for(s=0,l=u.length;s<l;s++)if(d=u[s],this.options.immutables&&(c=r.Immutables.immutableParent(d))&&(d=c),(i=h(d))||(o=e(d).parents("ul,ol").length,i=a.is(d,"li")&&(o>1||h(d.parentNode))||a.ofType(d,["ul","ol"])&&o>0),i)return void p.enable(t,!0);p.enable(t,!1)}});o(r,{IndentFormatter:m,IndentCommand:g,OutdentCommand:b,OutdentTool:v}),s("indent",new d({command:g})),s("outdent",new v({command:b,ui:{enable:!1}}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,i=t.ui.editor,o=i.Dom,r=i.Command,a=i.Tool,s=i.BlockFormatter,l=o.normalize,d=i.RangeUtils,c=i.EditorUtils.registerTool,u=r.extend({init:function(e){this.options=e,r.fn.init.call(this,e)},_insertMarker:function(e,t){var n,i=o.create(e,"a");return i.className="k-marker",t.insertNode(i),i.parentNode||((n=t.commonAncestorContainer).innerHTML="",n.appendChild(i)),l(i.parentNode),i},_moveFocus:function(e,t){if(o.isEmpty(t))e.setStartBefore(t);else{e.selectNodeContents(t);var n=d.textNodes(e)[0];if(!n){for(;t.childNodes.length&&!o.is(t.firstChild,"br");)t=t.firstChild;n=t}if(o.isEmpty(n))e.setStartBefore(n);else{o.emptyNode(n)&&(n.innerHTML="\ufeff");var i=n.firstChild||n;o.isDataNode(i)?e.setStart(i,0):e.setStartBefore(i)}}},shouldTrim:function(e){var t="p,h1,h2,h3,h4,h5,h6".split(","),n=o.parentOfType(e.startContainer,t),i=o.parentOfType(e.endContainer,t);return n&&!i||!n&&i},_blankAfter:function(e){for(;e&&(o.isMarker(e)||""===o.stripBom(e.nodeValue));)e=e.nextSibling;return!e},exec:function(){var t,n,r,a,c,u,p,f,h,m,g=this.getRange(),b=d.documentFromRange(g),v=i.emptyElementContent;if(this.expandImmutablesIn(g),m=this.shouldTrim(g),g.deleteContents(),c=this._insertMarker(b,g),o.stripBomNode(c.previousSibling),o.stripBomNode(c.nextSibling),u=o.closestEditableOfType(c,["li"]),p=o.closestEditableOfType(c,"h1,h2,h3,h4,h5,h6".split(",")),f=o.is(c.parentNode,"table")&&c.parentNode,u){if(o.emptyNode(u)){a=o.create(b,"p"),o.next(u)&&((h=g.cloneRange()).selectNode(u),d.split(h,u.parentNode));var y=e("br",u);1==y.length&&y.remove();var w=u.parentNode,C=u.parentNode.children.length,k=C>1&&1==u.childNodes.length&&u.children[0];o.insertAfter(a,w),o.remove(1==C?u.parentNode:u),k&&k!==c?(a.appendChild(k),a.appendChild(c)):a.innerHTML=v,r=a}}else p&&this._blankAfter(c)?(a=this._insertParagraphAfter(p),o.remove(c),r=a):f&&(a=this._insertParagraphAfter(f),o.remove(c),r=a);r||(u||p||new s([{tags:["p"]}]).apply([c]),g.selectNode(c),t=o.parentOfType(c,[u?"li":p?o.name(p):"p"]),d.split(g,t,m),n=t.previousSibling,o.is(n,"li")&&n.firstChild&&!o.is(n.firstChild,"br")&&(n=n.firstChild),r=t.nextSibling,this.clean(n,{links:!0}),this.clean(r,{links:!0}),o.is(r,"li")&&r.firstChild&&!o.is(r.firstChild,"br")&&(r=r.firstChild),o.remove(t),l(n)),l(r),this._moveFocus(g,r),g.collapse(!0),o.scrollTo(r,!0),d.selectRange(g)},_insertParagraphAfter:function(e){var t=this.getRange(),n=d.documentFromRange(t),r=i.emptyElementContent,a=o.create(n,"p");return o.insertAfter(a,e),a.innerHTML=r,a},clean:function(t,n){var r=t;if(t.firstChild&&o.is(t.firstChild,"br")&&o.remove(t.firstChild),o.isDataNode(t)&&!t.nodeValue&&(t=t.parentNode),t){for(var a=!1;t.firstChild&&1==t.firstChild.nodeType;)a=a||o.significantNodes(t.childNodes).length>1,t=t.firstChild;if(o.isEmpty(t)||"k-br"==t.className||!/^\s*$/.test(t.innerHTML)||a||(e(r).find(".k-br").remove(),t.innerHTML=i.emptyElementContent),n&&n.links)for(;t!=r;){if(o.is(t,"a")&&o.emptyNode(t)){o.unwrap(t);break}t=t.parentNode}}}}),p=r.extend({init:function(e){this.options=e,r.fn.init.call(this,e)},exec:function(){var n=this.getRange();this.expandImmutablesIn(n);var i,r,a=o.create(d.documentFromRange(n),"br"),s=n.startContainer,c=t.support.browser,u=c.msie&&c.version<11,p=o.is(s,"table")&&s;n.deleteContents(),p?o.insertAfter(a,p):(r=e(s).closest(".k-br"),n.insertNode(a),r.length&&o.unwrap(r[0])),l(a.parentNode),u||a.nextSibling&&!o.isWhitespace(a.nextSibling)||(a.nextSibling&&o.isWhitespace(a.nextSibling)&&e(a.nextSibling).remove(),(i=a.cloneNode(!0)).className="k-br",o.insertAfter(i,a)),n.setStartAfter(a),n.collapse(!0),o.scrollTo(a.nextSibling||a,!0),d.selectRange(n)}});n(i,{ParagraphCommand:u,NewLineCommand:p}),c("insertLineBreak",new a({key:13,shift:!0,command:p})),c("insertParagraph",new a({key:13,command:u}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=e.extend,o=n.htmlEncode,r=n.ui.editor,a=r.EditorUtils,s=r.Dom,l=a.registerTool,d=r.RangeUtils,c=r.Command,u=r.LinkFormatter,p=d.textNodes,f=n.keys,h="#k-editor-file-url",m="#k-editor-file-text",g="#k-editor-file-title",b=c.extend({init:function(e){var t=this;c.fn.init.call(t,e),t.formatter=new u,t.async=!0,t.attributes={}},insertFile:function(e,t){var n=this.attributes,i=d.documentFromRange(t);if(n.href&&"http://"!=n.href){if(!e)return(e=s.create(i,"a",{href:n.href})).innerHTML=n.innerHTML,e.title=n.title,t.deleteContents(),t.insertNode(e),e.nextSibling||s.insertAfter(i.createTextNode("\ufeff"),e),t.setStartAfter(e),t.setEndAfter(e),d.selectRange(t),!0;s.attr(e,n)}return!1},redo:function(){var e=this.lockRange();this.formatter.apply(e,this.attributes),this.releaseRange(e)},exec:function(){var e,t,o=this,r=o.lockRange(),a=p(r),l=!1,c=a.length?this.formatter.finder.findSuitable(a[0]):null,u=n.support.browser.msie,b=o.editor.options,v=b.messages,y=b.fileBrowser,w=!!(n.ui.FileBrowser&&y&&y.transport&&undefined!==y.transport.read),C={title:v.insertFile,visible:!1,resizable:w};function k(t){var n=e.element,i=n.find(h).val().replace(/ /g,"%20"),a=n.find(m).val(),s=n.find(g).val();o.attributes={href:i,innerHTML:""!==a?a:i,title:s},l=o.insertFile(c,r),x(t),o.change&&o.change()}function x(n){n.preventDefault(),t.destroy(),e.destroy(),s.windowFromDocument(d.documentFromRange(r)).focus(),l||o.releaseRange(r)}this.expandImmutablesIn(r),C.close=x,w&&(C.width=750),C.minWidth=350,e=this.createDialog("<div/>",C).data("kendoWindow"),t=o._createForm(e,w),e.element.toggleClass("k-filebrowser-dialog",w),e.wrapper.find(".k-dialog-insert").on("click",k).end().find(".k-dialog-close").on("click",x).end().find(".k-form-field input").on("keydown",(function(e){e.keyCode==f.ENTER?k(e):e.keyCode==f.ESC&&x(e)})).end().find(h).val(c?c.getAttribute("href",2):"http://").end().find(m).val(c?c.innerText:"").end().find(g).val(c?c.title:"").end();var _=e.element;if(w&&(o._fileBrowser=new n.ui.FileBrowser(_.find(".k-filebrowser"),i({},y)),o._fileBrowser.bind("change",(function(e){"f"===e.selected.get("type")&&_.find(h).val(this.value())})),o._fileBrowser.bind("apply",k)),u){var T=_.closest(".k-window").height();_.css("max-height",T)}e.center().open(),_.find(h).trigger("focus").select()},_createForm:function(t,n){var i=e("<div/>").appendTo(t.element),r=this.editor.options.messages,a=i.kendoForm({renderButtons:!1,items:[{field:"k-editor-file-url",label:o(r.fileWebAddress),editor:"TextBox"},{field:"k-editor-file-text",label:o(r.fileText),editor:"TextBox"},{field:"k-editor-file-title",label:o(r.fileTitle),editor:"TextBox"}]}).data("kendoForm");return n&&i.prepend(e('<div class="k-filebrowser"></div>')),t.element.after(e(this._actionButtonsTemplate({messages:r,insertButtonIcon:"file-add",cancelButtonIcon:"cancel-outline"}))),a}});n.ui.editor.FileCommand=b,l("insertFile",new r.Tool({command:b}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=e.extend,o=n.ui.editor,r=o.Dom,a=o.RangeUtils,s=o.Command,l="kendoEditor",d="k-active",c="k-selected",u="scope",p="row",f="col",h="rowgroup",m="colgroup",g="colspan",b="rowspan",v="table",y="thead",w="tbody",C="tr",k="td",x="th",_=o.Tool,T=o.InsertHtmlCommand,N=o.BlockFormatFinder,S=o.BlockFormatTool,R=o.FormatCommand,A=o.EditorUtils.registerTool,z=o.EditorUtils.registerFormat,E=n.ui.Editor.fn.options.formats,D=n.getTouches,I=n.template,P=function(e){return'<td style="width:'+e.width+'%;">'+e.content+"</td>"},H=new N([{tags:[v]}]),B=T.extend({init:function(t){var n=e.extend({postProcess:this.postProcess,skipCleaners:!0},t||{});T.fn.init.call(this,n)},_tableHtml:function(e,t){e=e||1,t=t||1;var n=I(P)({width:100/t,content:o.emptyTableCellContent}),i=100/e;return"<table class='k-table' data-last>"+new Array(e+1).join("<tr style='height:"+i+"%;'>"+new Array(t+1).join(n)+"</tr>")+"</table>"},postProcess:function(t,n){var i=e("table[data-last]",t.document).removeAttr("data-last");n.setStart(i.find(k)[0],0),n.collapse(!0),t.selectRange(n)},exec:function(){var e=this.options;e.html=this._tableHtml(e.rows,e.columns),T.fn.exec.call(this)}}),F=_.extend({initialize:function(t,n){var i=this,r=e("<button>"+n.options.messages.tableWizard+"</button>"),a=e(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:t,copyAnchorStyles:!1,open:this._open.bind(this),activate:this._activate.bind(this),close:this._close.bind(this)}).data("kendoPopup");t.on("click",this._toggle.bind(this)).on("keydown",this._keydown.bind(this)),this._editor=n,this._popup=a,n.tablePopup=this._popup;var s=new o.TableWizardTool({command:o.TableWizardCommand,insertNewTable:!0});A("tableWizardInsert",s),r.appendTo(a.element),r.kendoButton({icon:"table-wizard"}),r.on("click",(function(){i._editor.exec("tableWizardInsert")}))},popup:function(){return this._popup},_activate:e.noop,_open:function(){this._popup.options.anchor.addClass(d)},_close:function(){this._popup.options.anchor.removeClass(d)},_keydown:function(e){var t=this,i=n.keys,o=e.keyCode;o==i.ESC?t._popup.close():o==i.DOWN&&e.altKey?(t._popup.open(),t._setTableSize({row:1,col:1})):o===i.ENTER&&setTimeout((function(){t._setTableSize({row:1,col:1})}))},_toggle:function(t){e(t.target).closest(".k-tool").hasClass("k-disabled")||this.popup().toggle()},update:function(e){var t=this.popup();t.wrapper&&"block"==t.wrapper.css("display")&&t.close(),e.removeClass("k-hover")},destroy:function(){this._popup&&this._popup.destroy()}}),L=F.extend({init:function(t){this.cols=8,this.rows=6,F.fn.init.call(this,e.extend(t,{command:B,popupTemplate:"<div class='k-ct-popup'><div>"+new Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-disabled'></span>")+"</div><div class='k-status'></div></div>"}))},_activate:function(){var t,i,o=this,r=o._popup.element,a=r.find(".k-ct-cell"),s=a.eq(0),d=a.eq(a.length-1),c=n.getOffset(s),u=n.getOffset(d),p=o.cols,f=o.rows;function h(n){var o=e(window);return{row:Math.floor((n.clientY+o.scrollTop()-c.top)/i)+1,col:Math.floor((n.clientX+o.scrollLeft()-c.left)/t)+1}}r.find("*").addBack().attr("unselectable","on"),u.left+=d[0].offsetWidth,u.top+=d[0].offsetHeight,t=(u.left-c.left)/p,i=(u.top-c.top)/f,r.autoApplyNS(l).on("mousemove",".k-ct-cell",(function(e){o._setTableSize(h(e))})).on("mouseleave",".k-ct-cell",(function(){o._setTableSize()})).on("down",".k-ct-cell",(function(e){e.preventDefault();var t=D(e)[0];o._exec(h(t.location))}))},_valid:function(e){return e&&e.row>0&&e.col>0&&e.row<=this.rows&&e.col<=this.cols},_exec:function(e){this._valid(e)&&(this._editor.exec("createTable",{rows:e.row,columns:e.col}),this._popup.close())},_setTableSize:function(t){var i=this._popup.element,o=i.find(".k-status"),r=i.find(".k-ct-cell"),a=this.cols,s=this._editor.options.messages;this._valid(t)?(o.text(n.format(s.createTableHint,t.row,t.col)),r.each((function(n){e(this).toggleClass(c,n%a<t.col&&n/a<t.row)}))):(o.text(s.createTable),r.removeClass(c))},_keydown:function(e){var t=this._popup.visible();if(F.fn._keydown.call(this,e),this._popup.visible()){var i,o=n.keys,r=e.keyCode,a=this._popup.element.find(".k-ct-cell"),s=Math.max(a.filter(".k-selected").last().index(),0),l=Math.floor(s/this.cols),d=s%this.cols,c=!1;r!=o.DOWN||e.altKey?r==o.UP?(c=!0,l--):r==o.RIGHT?(c=!0,d++):r==o.LEFT?(c=!0,d--):r==o.TAB&&(i=this._popup.element.find(".k-button")).length>0&&(c=!0,i.trigger("focus")):(c=!0,l++);var u={row:Math.max(1,Math.min(this.rows,l+1)),col:Math.max(1,Math.min(this.cols,d+1))};r==o.ENTER&&t?this._exec(u):this._setTableSize(u),c&&(e.preventDefault(),e.stopImmediatePropagation())}},_open:function(){var e=this._editor.options.messages;F.fn._open.call(this),this.popup().element.find(".k-status").text(e.createTable).end().find(".k-ct-cell").removeClass(c)},_close:function(){F.fn._close.call(this),this.popup().element.off("."+l)}}),O=s.extend({undo:function(){var t=this.restorePoint;t.restoreHtml(),e(this.editor.body).find(".k-element-resize-handle-wrapper").each((function(e,t){t.remove()})),this.editor.selectRange(t.toRange())},_clearColIndexAttr:function(e){r.clearTableMappings(e,"col-index")},_mapColIndices:function(e){r.reMapTableColumns(e,"col-index")},_findRowSpanCell:function(t,n,i){for(var o,r,a=n;a>=0;a--)if(o=t.rows[a],(r=e(o).find("[col-index="+i+"]")).length)return r},_resetElementResizing:function(e){e._destroyResizings(),e._initializeColumnResizing(),e._initializeRowResizing(),e._initializeElementResizing()},_findNextTdInRow:function(e,t){for(var n,i=e.find("td:last-child"),o=parseInt(i.attr("col-index"),10)+i.prop("colSpan")-1,r=t;r<=o;r++)if((n=e.find("[col-index="+r+"]")).length)return n},_adjustColgroups:function(e,t){for(var n,i,o,a=t.getElementsByTagName(f),s=t.getElementsByTagName(m),l=e.cells,d=l.length;a.length>0;)a[0].remove();for(;s.length>0;)s[0].remove();for(n=d-1;n>=0;n--)(o=l[n]).getAttribute(u)===m?((i=r.createEmptyNode(this.editor.document,m)).setAttribute("span",o.getAttribute(g)),t.prepend(i)):t.prepend(r.createEmptyNode(this.editor.document,f))},_associateHeaderIds:function(t){r.clearTableMappings(t,"col-index"),r.reMapTableColumns(t,"col-index"),e(t).find("th, td").removeAttr("id headers"),r.associateWithIds(t)},_getNumberOfColumns:function(e){return r._getNumberOfColumns(e,"td, th")}}),W=O.extend({exec:function(){var t,n,i,a,s,l,d=this.lockRange(!0),c=r.closest(d.endContainer,[k,x]),f=r.closest(c,v),m=this.options.position||"after";if(!f||this.immutables()&&o.Immutables.immutableParent(c))this.releaseRange(d);else{this._mapColIndices(f),n=c.parentNode,s=r.findNodeIndex(n,!0),c.rowSpan>1&&"after"===m&&(n=f.rows[s+c.rowSpan-1]),t=this._getNumberOfColumns(f),a=n.cloneNode(!0),e(a).empty();for(var g=0;g<t;g+=i.prop("colSpan"))(i=e(n).find("[col-index="+g+"]")).length?i.prop("rowSpan")>1&&"after"===m&&i?i.attr(b,i.prop("rowSpan")+1):this._appendCell(a,i):(s=r.findNodeIndex(n,!0),(i=this._findRowSpanCell(n.parentElement,s,g)).closest(C).index()+i.prop("rowSpan")-1===s&&"after"===m?this._appendCell(a,i):i.attr(b,i.prop("rowSpan")+1)),(l=e(a).find("[col-index="+g+"]")).attr(u)!==h||l.attr(b)||l.attr(u,p);"before"==m?r.insertBefore(a,n):r.insertAfter(a,n),e(f).find("[headers]").length>0&&this._associateHeaderIds(f),this._clearColIndexAttr(f),this.releaseRange(d),this._resetElementResizing(this.editor)}},_appendCell:function(e,t){var n;(n=t.clone()).html(o.emptyTableCellContent),n.removeAttr(b),n.appendTo(e)}}),M=O.extend({exec:function(){var t,n,i,a,s=this.lockRange(!0),l=r.closest(s.endContainer,[k,x]),d=r.closest(l,v),c=d.getElementsByTagName(f),p=d.getElementsByTagName(m),h=d&&d.rows,b=this.options.position||"after";if(!l||this.immutables()&&o.Immutables.immutableParent(l))this.releaseRange(s);else{for(this._mapColIndices(d),t=parseInt(l.getAttribute("col-index"),10),l.colSpan>1&&"after"===b&&(l.setAttribute("col-index",t+l.colSpan-1),t=t+l.colSpan-1),n=0;n<h.length;n++)(i=this._processForColSpan(h[n],t,b,l))&&((a=i.cloneNode()).innerHTML=o.emptyTableCellContent,a.removeAttribute(g),a.getAttribute(u)&&a.getAttribute(u)===m&&a.setAttribute(u,f),"before"==b?r.insertBefore(a,i):r.insertAfter(a,i),this._resizeCells(a,i));(c.length>0||p.length>0)&&this._adjustColgroups(h[0],d),e(d).find("[headers]").length>0&&this._associateHeaderIds(d),this._clearColIndexAttr(d),this.releaseRange(s),this._resetElementResizing(this.editor)}},_processForColSpan:function(t,n,i,o){var r,a,s=n-1;if((r=e(t).find("[col-index="+n+"]")[0])&&r.colSpan>1&&"after"===i&&r!==o)r.colSpan+=1;else{if(r)return r;for(;s>=0&&!((r=e(t).find("[col-index="+s+"]")[0])&&r.colSpan>1);s--);if(r){if((a=parseInt(r.getAttribute("col-index"),10)+r.colSpan-1)===n&&"after"===i)return r;n<=a&&r.setAttribute(g,r.colSpan+1)}}},_resizeCells:function(e,t){var n,i,o,r=e.style.width;r&&(n=parseFloat(r),i=r.slice(n.toString().length),o=n/2+i,e.style.width=o,t.style.width=o)}}),U=O.extend({exec:function(){var t,n=this.lockRange(),i=a.mapAll(n,(function(t){return e(t).closest(C)[0]})),s=r.closest(n.endContainer,[k,x]),l=i[0],d=s?s.rowSpan:1,c=e(i[0]).index(),u=r.closest(l,v),p=l.parentElement;if(!u||this.immutables()&&o.Immutables.immutableParent(l))this.releaseRange(n);else{for(var f=0;f<d;f++)i.indexOf(p.rows[c+f])<0&&i.push(p.rows[c+f]);if(u.rows.length<=i.length)(t=r.next(u))&&!r.insignificant(t)||(t=r.prev(u)),t&&t.rows&&(t=t.rows[0].cells[0]),r.remove(u),this._resetElementResizing(this.editor);else if(p.rows.length<=i.length)(t=p.nextSibling)||(t=p.previousSibling),r.remove(p);else{this._mapColIndices(u);for(var h=0;h<i.length;h++)l=i[h],r.removeTextSiblings(l),t=(t=r.next(l)||r.prev(l)).cells[0],this._focusElement(n,t),t=null,this._handleRowSpanCells(u,l),r.remove(l);this._clearColIndexAttr(u)}e(u).find("[headers]").length>0?this._associateHeaderIds(u):r.is(p,y)&&e(u).find("[scope]").length>0&&this._adjustColgroups(p.rows[0],u),t&&this._focusElement(n,t),this._resetElementResizing(this.editor)}},_focusElement:function(e,t){e.setStart(t,0),e.collapse(!0),this.editor.selectRange(e)},_handleRowSpanCells:function(t,n){var i,o,a,s,l=r.findNodeIndex(n,!0),d=t.rows[0],c=d.cells[d.cells.length-1],u=parseInt(c.getAttribute("col-index"),10)+c.colSpan-1;for(i=0;i<=u;i+=o.prop("colSpan"))(o=e(n).find("[col-index="+i+"]")).length&&o.prop("rowSpan")>1&&(s=t.rows[l+1],(a=e(s).find("[col-index="+(i+1)+"]")).length?a.before(o):e(s).append(o),this._reduceRowSpan(o)),o.length||(o=this._findRowSpanCell(n.parentElement,l,i),this._reduceRowSpan(o))},_reduceRowSpan:function(e){var t=e.prop("rowSpan")-1;t<=1?(e.removeAttr(b),e.attr(u)===h&&e.attr(u,p)):e.attr(b,t)}}),V=O.extend({exec:function(){var t,n,i,a,s=this.lockRange(),l=r.closest(s.endContainer,[k,x]),d=r.closest(l,v),c=d&&d.rows,u=r.findNodeIndex(l,!0),p=c&&c[0].cells.length,h=d.getElementsByTagName(f),g=d.getElementsByTagName(m);if(!l||this.immutables()&&o.Immutables.immutableParent(l))this.releaseRange(s);else{if(1==p||l.colSpan==p)(t=r.next(d))&&!r.insignificant(t)||(t=r.prev(d)),t&&t.rows&&(t=t.rows[0].cells[0]),r.remove(d),this._resetElementResizing(this.editor);else{for(r.removeTextSiblings(l),t=r.next(l)||r.prev(l),this._mapColIndices(d),u=parseInt(l.getAttribute("col-index"),10),a=0;a<l.colSpan;a++)for(n=0;n<c.length;n+=i.prop("rowSpan")||1)(i=e(c[n]).find("[col-index="+(u+a)+"]")).length&&i.prop("colSpan")<=1?i.remove():this._handleColSpanCells(c[n],u+a);this._clearColIndexAttr(d)}(h.length>0||g.length>0)&&this._adjustColgroups(c[0],d),e(d).find("[headers]").length>0&&this._associateHeaderIds(d),t&&(s.setStart(t,0),s.collapse(!0),this.editor.selectRange(s)),this._resetElementResizing(this.editor)}},_handleColSpanCells:function(t,n){var i=e(t).find("[col-index="+n+"]");if(i.length&&i.prop("colSpan")>1){var o=i.clone(!0);return i.after(o),this._reduceColSpan(o),o.attr("col-index",parseInt(i.attr("col-index"),10)+1),void i.remove()}for(var r=n;r>=0;r--)if((i=e(t).find("[col-index="+r+"]")).length)return this._reduceColSpan(i),void i.attr("col-index",parseInt(i.attr("col-index"),10)+1)},_reduceColSpan:function(e){var t=e.prop("colSpan")-1;t<=1?(e.removeAttr(g),e.attr(u)===m&&e.attr(u,f)):e.attr(g,t)}}),j=O.extend({exec:function(){var t,n,i,a,s,l=this.lockRange(),d=r.closest(l.endContainer,[k,x]);if(d)if(t=r.closest(d,v),n=d.parentNode,i=r.findNodeIndex(d,!0),n.children[i+1],this.immutables()&&o.Immutables.immutableParent(d))this.releaseRange(l);else{if(this._mapColIndices(t),i=parseInt(e(d).attr("col-index"),10),!(a=e(n).find("[col-index="+(i+1+this._getColspan(d)-1)+"]").get(0))||a.rowSpan!==d.rowSpan||d.tagName!==a.tagName)return this._clearColIndexAttr(t),void this.releaseRange(l);s=this._getColspan(d)+this._getColspan(a),e(d).prop(g,s).append(r.emptyNode(a)?"":"<br/>"+a.innerHTML),e(d).width(d.offsetWidth),e(a).remove(),d.getAttribute(u)===f&&d.setAttribute(u,m),d.getAttribute(u)===m&&this._adjustColgroups(n,t),e(t).find("[headers]").length>0&&this._associateHeaderIds(t),this._clearColIndexAttr(t),this.releaseRange(l),this._resetElementResizing(this.editor)}else this.releaseRange(l)},_getColspan:function(e){return parseInt(e.getAttribute(g),10)||1}}),K=O.extend({exec:function(){var t,n,i,a,s,l,d,c=this.lockRange(),f=r.closest(c.endContainer,[k,x]);if(f)if(t=r.closest(f,C),n=r.closest(f,[y,w]),i=r.closest(f,v),a=r.findNodeIndex(f,!0),(s=r.findNodeIndex(t,!0))+1!==n.rows.length)if((l=n.rows[s+this._getRowspan(f)])&&l.children[a],this.immutables()&&o.Immutables.immutableParent(f))this.releaseRange(c);else{if(this._mapColIndices(i),a=e(f).attr("col-index"),!(d=e(l).find("[col-index="+a+"]").get(0))||d.colSpan!==f.colSpan||f.tagName!==d.tagName)return this._clearColIndexAttr(i),void this.releaseRange(c);e(f).prop(b,this._getRowspan(f)+this._getRowspan(d)).append(r.emptyNode(d)?"":"<br/>"+d.innerHTML),f.getAttribute(u)===p&&f.setAttribute(u,h),e(d).remove(),e(i).find("[headers]").length>0&&this._associateHeaderIds(i),this._clearColIndexAttr(i),this.releaseRange(c)}else this.releaseRange(c);else this.releaseRange(c)},_getRowspan:function(e){return parseInt(e.getAttribute(b),10)||1}}),q=O.extend({exec:function(){var t=this.lockRange(),n=this.options.type,i="row"===n?g:b,a=r.closest(t.endContainer,[k,x]),s=r.closest(a,[y,w]),l=r.closest(a,v),d=r.createEmptyNode(this.editor.document,a.nodeName.toLowerCase());!a||this.immutables()&&o.Immutables.immutableParent(a)||(this._mapColIndices(l),"row"===n&&e(a).is("["+i+"]")?this._splitCellHorizontally(a,s,i,d):"column"===n&&e(a).is("["+i+"]")&&this._splitCellVertically(a,s,i,d),e(a).prop(i.toLowerCase())<=1&&e(a).removeAttr(i),e(l).find("[headers]").length>0&&this._associateHeaderIds(l),this._clearColIndexAttr(l)),this.releaseRange(t)},_getRowspanValue:function(e){return parseInt(e.getAttribute(b),10)},_getColspanValue:function(e){return parseInt(e.getAttribute(g),10)},_splitCellHorizontally:function(t,n,i,o){var r=t.rowSpan,a=t.colSpan,s=e(o),l=Math.floor(a/2);l>1&&s.attr(g,l),r>1&&s.attr(b,r),e(t).prop(i,a-l).after(s),e(t).width(t.offsetWidth),s.width(s[0].offsetWidth),t.hasAttribute(u)&&(t.getAttribute(u)===m?(s.attr(u,f),t.getAttribute(g)&&"1"!==t.getAttribute(g)||t.setAttribute(u,f),this._adjustColgroups(t.parentNode,n.parentNode)):s.attr(u,t.getAttribute(u)))},_splitCellVertically:function(t,n,i,o){var a=r.closest(t,C),s=parseInt(e(t).attr("col-index"),10),l=r.findNodeIndex(a,!0),d=t.rowSpan,c=t.colSpan,f=Math.floor(d/2),m=e(n).find(C).eq(l+d-f),v=this._findNextTdInRow(m,s+c),y=e(o);f>1&&y.attr(b,f),c>1&&y.attr(g,c),v&&v.length?v.before(y):m.append(y),e(t).prop(i,d-f),t.hasAttribute(u)&&(t.getAttribute(u)===h?(y.attr(u,p),t.getAttribute(b)&&"1"!==t.getAttribute(b)||t.setAttribute(u,p)):y.attr(u,t.getAttribute(u)))}}),$=_.extend({command:function(e){var t={row:{insert:W,delete:U,merge:j,split:q},column:{insert:M,delete:V,merge:K,split:q}};return(e=i(e,this.options)).action=e.action||"insert",new t[e.type][e.action](e)},update:function(e,t){var n=!H.isFormatted(t),i=e.closest(".k-toolbar").getKendoToolBar();!0===n?i.hide(e):i.show(e)}}),X=R.extend({exec:function(){var e=this.editor;R.fn.exec.call(this),e.elementResizing&&e.elementResizing._showResizeHandles()}}),Y=S.extend({update:function(e,t){var n=!H.isFormatted(t),i=this.options.finder.isFormatted(t,this.isTable),o=e.closest(".k-toolbar").getKendoToolBar();o&&o.toggle(e,i),!0===n?o.hide(e):o.show(e)},command:function(e){return new X(i(e,{formatter:this.options.formatter}))},isTable:function(e){return r.is(e,"table")}});i(n.ui.editor,{PopupTool:F,TableCommand:B,InsertTableTool:L,TableFormatTool:Y,TableFormatCommand:X,TableModificationTool:$,InsertRowCommand:W,InsertColumnCommand:M,DeleteRowCommand:U,DeleteColumnCommand:V,MergeCellsHorizontallyCommand:j,MergeCellsVerticallyCommand:K,SplitCellCommand:q}),A("createTable",new L({ui:{popup:!0,overflow:"never"}})),A("addColumnLeft",new $({type:"column",position:"before"})),A("addColumnRight",new $({type:"column"})),A("addRowAbove",new $({type:"row",position:"before"})),A("addRowBelow",new $({type:"row"})),A("deleteRow",new $({type:"row",action:"delete"})),A("deleteColumn",new $({type:"column",action:"delete"})),A("mergeCellsHorizontally",new $({type:"row",action:"merge"})),A("mergeCellsVertically",new $({type:"column",action:"merge"})),A("splitCellHorizontally",new $({type:"row",action:"split"})),A("splitCellVertically",new $({type:"column",action:"split"})),z("tableAlignLeft",[{tags:["table"],attr:{style:{marginLeft:"",marginRight:"auto"}}},{tags:["table"],attr:{align:"left"}}]),A("tableAlignLeft",new Y({format:E.tableAlignLeft,ui:{togglable:!0,group:"tableAlign"}})),z("tableAlignCenter",[{tags:["table"],attr:{style:{marginLeft:"auto",marginRight:"auto"}}},{tags:["table"],attr:{align:"center"}}]),A("tableAlignCenter",new Y({format:E.tableAlignCenter,ui:{togglable:!0,group:"tableAlign"}})),z("tableAlignRight",[{tags:["table"],attr:{style:{marginLeft:"auto",marginRight:""}}},{tags:["table"],attr:{align:"right"}}]),A("tableAlignRight",new Y({format:E.tableAlignRight,ui:{togglable:!0,group:"tableAlign"}}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=t.ui.editor,o=i.RangeUtils,r=i.Dom,a=i.RestorePoint,s=i.Marker,l=t.support.browser,d=e.extend,c=n.extend({init:function(e){this.editor=e;var t=e.options.pasteCleanup;this.cleaners=[new p(t),new f(t),new h(t),new m(t),new b(t),new v(t),new k(t),new x(t)]},htmlToFragment:function(e){var t=this.editor.document,n=r.create(t,"div"),i=t.createDocumentFragment();for(n.innerHTML=e;n.firstChild;)i.appendChild(n.firstChild);return i},isBlock:function(e){return/<(div|p|ul|ol|table|h[1-6])/i.test(e)},_startModification:function(){var e,t,n=this.editor;if(!this._inProgress)return this._inProgress=!0,e=n.getRange(),t=new a(e,n.body),r.persistScrollTop(n.document),{range:e,restorePoint:t}},_endModification:function(e){i._finishUpdate(this.editor,e.restorePoint),this.editor._selectionChange(),this._inProgress=!1},_contentModification:function(e,t){var n=this,i=n.editor,o=n._startModification();o&&(e.call(n,i,o.range),setTimeout((function(){t.call(n,i,o.range),n._endModification(o)})))},_removeBomNodes:function(e){for(var t=o.textNodes(e),n=0;n<t.length;n++)t[n].nodeValue=r.stripBom(t[n].nodeValue)||t[n].nodeValue},_onBeforeCopy:function(e){var t=new s;t.add(e),this._removeBomNodes(e),t.remove(e),this.editor.selectRange(e)},oncopy:function(){this._onBeforeCopy(this.editor.getRange())},oncut:function(){this._onBeforeCopy(this.editor.getRange()),this._contentModification(e.noop,e.noop)},_fileToDataURL:function(t){var n=e.Deferred(),i=new FileReader;return t instanceof window.File||!t.getAsFile||(t=t.getAsFile()),i.onload=n.resolve.bind(n),i.readAsDataURL(t),n.promise()},_triggerPaste:function(e,t){var n={html:e||""};n.html=n.html.replace(/\ufeff/g,""),this.editor.trigger("paste",n),this.paste(n.html,t||{})},_handleImagePaste:function(e){if("FileReader"in window&&!(l.msie&&l.version>10)){var t=e.clipboardData||e.originalEvent.clipboardData||window.clipboardData||{},n=t.items||t.files;return this._insertImages(n)}},_insertImages:function(t){if(t){var n=e.grep(t,(function(e){return/^image\//i.test(e.type)}));if(!e.grep(t,(function(e){return/^text\/html/i.test(e.type)})).length&&n.length){var i=this._startModification();if(i)return e.when.apply(e,e.map(n,this._fileToDataURL)).done(function(){var t=Array.prototype.slice.call(arguments),n=e.map(t,(function(e){return'<img src="'+e.target.result+'" />'})).join("");this._triggerPaste(n),this._endModification(i)}.bind(this)),!0}}},onpaste:function(n){"false"!==this.editor.body.contentEditable&&(this._handleImagePaste(n)?n.preventDefault():(this.expandImmutablesIn(),this._contentModification((function(i,o){var a=r.create(i.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"}),s=t.support.browser,l=i.body;if(this._decoreateClipboardNode(a,l),l.appendChild(a),s.webkit&&this._moveToCaretPosition(a,o),s.msie&&s.version<11){n.preventDefault();var d=i.createRange();d.selectNodeContents(a),i.selectRange(d);var c=i.document.body.createTextRange();c.moveToElementText(a),e(l).off("paste"),c.execCommand("Paste"),e(l).on("paste",this.onpaste.bind(this))}else{var u=i.createRange();u.selectNodeContents(a),i.selectRange(u)}o.deleteContents()}),(function(t,n){var i,o="";t.selectRange(n),(i=e(t.body).children(".k-paste-container")).each((function(){var e=this.lastChild;e&&r.is(e,"br")&&r.remove(e),o+=this.innerHTML})),i.remove(),this._triggerPaste(o,{clean:!0})}))))},ondragover:function(e){(l.msie||l.edge)&&(e.stopPropagation(),e.preventDefault())},ondrop:function(e){if("FileReader"in window){var t=(e.originalEvent||e).dataTransfer||{},n=t.items||t.files;this._insertImages(n)&&e.preventDefault()}},_decoreateClipboardNode:function(t,n){if((l.msie||l.webkit)&&((t=e(t)).css({borderWidth:"0px",width:"0px",height:"0px",overflow:"hidden",margin:"0",padding:"0"}),l.msie)){var i=e(n.ownerDocument.documentElement);t.css({fontVariant:"normal",fontWeight:"normal",lineSpacing:"normal",lineHeight:"normal",textDecoration:"none"});var o=i.css("color");o&&t.css("color",o);var r=i.css("fontFamily");r&&t.css("fontFamily",r);var a=i.css("fontSize");a&&t.css("fontSize",a)}},_moveToCaretPosition:function(t,n){var i=this.editor.body,o=r.offset(t,i),a=this._caretOffset(n,i),s="translate("+(a.left-o.left)+"px,"+(a.top-o.top)+"px)";e(t).css({"-webkit-transform":s,transform:s})},_caretOffset:function(e,t){var n,i=this.editor,o=r.create(i.document,"span",{innerHTML:"\ufeff"}),a=e.startContainer;if(e.collapsed){var s=r.isDataNode(a);s&&(r.isBom(a)||0===e.startOffset)?r.insertBefore(o,a):s&&e.startOffset===a.length?r.insertAfter(o,a):(e.insertNode(o),n=!0)}else a=a===t?a.childNodes[e.startOffset]:a,r.insertBefore(o,a);var l=r.offset(o,t),d=o.previousSibling,c=o.nextSibling;if(r.remove(o),n&&r.isDataNode(d)&&r.isDataNode(c)&&!r.isBom(d)&&!r.isBom(c)){var u=d.length;c.data=d.data+c.data,e.setStart(c,u),r.remove(d),e.collapse(!0),i.selectRange(e)}return l},expandImmutablesIn:function(e){var n=this.editor;if(n&&n.options.immutables){var i=n.body;if(e=e||n.getRange(),t.ui.editor.Immutables.expandImmutablesIn(e),e.startContainer===i&&0===e.startOffset){var o=i.ownerDocument.createTextNode("\ufeff");i.insertBefore(o,i.childNodes[0]),e.setStartBefore(o)}n.selectRange(e)}},splittableParent:function(e,t){var n,i;if(e)return r.closestEditableOfType(t,["p","ul","ol"])||t.parentNode;if(n=t.parentNode,i=t.ownerDocument.body,r.isInline(n))for(;n.parentNode!=i&&!r.isBlock(n.parentNode);)n=n.parentNode;return n},paste:function(t,n){var i,a,l,c=this.editor;if(this.expandImmutablesIn(),!(n=d({clean:!1,split:!0},n)).skipCleaners)for(i=0,a=this.cleaners.length;i<a;i++)this.cleaners[i].applicable(t)&&(t=this.cleaners[i].clean(t));n.clean&&(t=(t=t.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3")).replace(/<(a|span)[^>]*><\/\1>/gi,"")),t=(t=t.replace(/<(a|span|font)([^>]*)> <\/\1>/gi,"<$1$2>&nbsp;</$1>")).replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var u=this.isBlock(t);c.focus();var p=c.getRange();p.deleteContents(),p.startContainer==c.document&&p.selectNodeContents(c.body);var f=new s,h=f.addCaret(p),m=this.splittableParent(u,h),g=!1,b=m!=c.body&&!r.is(m,"td");n.split&&b&&(u||r.isInline(m))&&(p.selectNode(h),o.split(p,m,!0),g=!0);var v=this.htmlToFragment(t);if(v.firstChild&&"k-paste-container"===v.firstChild.className){var y=[];for(i=0,a=v.childNodes.length;i<a;i++)y.push(v.childNodes[i].innerHTML);v=this.htmlToFragment(y.join("<br />"))}if(l=v.childNodes,e(l).filter("table").addClass("k-table").end().find("table").addClass("k-table"),e(l).each((function(e,t){r.isBlock(t)&&!r.isSelfClosing(t)&&""===t.innerHTML&&t.appendChild(c.document.createTextNode("\ufeff"))})),p.insertNode(v),m=this.splittableParent(u,h),g){for(;h.parentNode!=m;)r.unwrap(h.parentNode);r.unwrap(h.parentNode)}r.normalize(p.commonAncestorContainer),h.style.display="inline",r.restoreScrollTop(c.document),r.scrollTo(h),f.removeCaret(p);var w=p.commonAncestorContainer.parentNode;(p.collapsed&&"tbody"==r.name(w)||p.collapsed&&"thead"==r.name(w))&&(p.setStartAfter(e(w).closest("table")[0]),p.collapse(!0));var C=e(p.commonAncestorContainer.parentNode).closest("table");if(C.get(0)){for(var k=C.parent().contents(),x=k.length-1,_=k.get(x);null!==_.nodeValue&&(" "===_.nodeValue||""===_.nodeValue);)x-=1,_=k.get(x);_!==C.get(0)||C.parents("table").length||r.insertAfter(r.createEmptyNode(c.document,"p"),C[0])}c.selectRange(p)}}),u=n.extend({init:function(e){this.options=e||{},this.replacements=[]},clean:function(e,t){var n,i,o=t||this.replacements;for(n=0,i=o.length;n<i;n+=2)e=e.replace(o[n],o[n+1]);return e}}),p=u.extend({init:function(e){u.fn.init.call(this,e),this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(e){return!this.options.none&&/<script[^>]*>/i.test(e)}}),f=u.extend({init:function(e){u.fn.init.call(this,e);this.replacements=[/<span\s+class="Apple-tab-span"[^>]*>\s*<\/span>/gi," ",/\t/gi," ",/&nbsp;&nbsp; &nbsp;/gi," "]},applicable:function(e){return/&nbsp;&nbsp; &nbsp;|class="?Apple-tab-span/i.test(e)}}),h=u.extend({init:function(e){u.fn.init.call(this,e),this.junkReplacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/<o:p>&nbsp;<\/o:p>/gi,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/<\/o>/g,""],this.replacements=this.junkReplacements.concat([/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>\n/g,"<br/>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)font(\s[^>]*)?>/gi,this.convertFontMatch,/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(e,t){return t?e:" "}])},convertFontMatch:function(e,t,n){var i=/face=['"]([^'"]+)['"]/i.exec(n),o=n&&i&&i[1];return t?"</span>":o?'<span style="font-family:'+o+'">':"<span>"},applicable:function(e){return/class="?Mso/i.test(e)||/style="[^"]*mso-/i.test(e)||/urn:schemas-microsoft-com:office/.test(e)},stripEmptyAnchors:function(e){return e.replace(/<a([^>]*)>\s*<\/a>/gi,(function(e,t){return!t||t.indexOf("href")<0?"":e}))},listType:function(e,t){var n,i=e.innerHTML,o=r.innerText(e),a=i.match(/^(?:<span [^>]*texhtml[^>]*>)?<span [^>]*(?:Symbol|Wingdings)[^>]*>([^<]+)/i),s=a&&a[1],l=/^[a-z\d]/i.test(s),d=function(e){return e.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")};return a&&(n=!0),i=i.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,""),!n&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(i)||n&&/^.\u00a0+/.test(i)||s&&!l&&t?{tag:"ul",style:this._guessUnorderedListStyle(d(o))}:/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(i)?{tag:"ol",style:this._guessOrderedListStyle(d(o))}:void 0},_convertToLi:function(e){var t;return 1==e.childNodes.length?(t=e.firstChild.nodeType===r.nodeTypes.TEXT_NODE?r.innerText(e):e.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""),t=this._checkForBullet(t)):t=this._getHtmlNoBullet(e),r.remove(e),r.create(document,"li",{innerHTML:t})},_checkForBullet:function(e){var t=r.create(document,"p",{innerHTML:e});return/^\s*\w+[\.\)]\s+/.test(t.innerText)?this._getHtmlNoBullet(t):e},_getHtmlNoBullet:function(e){var t=r.name(e);return r.remove(e.firstChild),3==e.firstChild.nodeType&&/^[ivxlcdm]+\.$/i.test(e.firstChild.nodeValue)&&r.remove(e.firstChild),/^(&nbsp;|\s)+$/i.test(e.firstChild.innerHTML)&&r.remove(e.firstChild),"p"!=t?"<"+t+">"+e.innerHTML+"</"+t+">":e.innerHTML},_guessUnorderedListStyle:function(e){return/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(e)?null:/^o/.test(e)?"circle":"square"},_guessOrderedListStyle:function(e){var t=null;return/^\d/.test(e)||(t=(/^[a-z]/.test(e)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(e)?"roman":"alpha")),t},extractListLevels:function(e){return e=e.replace(/style=['"]?[^'"]*?mso-list:\s?[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi,(function(e,n,i){return t.format('data-list="{0}" data-level="{1}" {2}',n,i,e)}))},_createList:function(e,t){return r.create(document,e,{style:{listStyleType:t}})},lists:function(t){var n,i,o,a,s,d,c,u,p,f,h,m,g,b=e(t).find(r.blockElements.join(",")),v=-1,y={},w=["p","h1","h2","h3","h4","h5","h6"];for(u=0;u<b.length;u++){p=b[u];var C=(g=e(p).data()).list;if(n=r.name(p),!!!e(p).parents("table").length){var k=this.listType(p,g);if(!(f=k&&k.tag)||w.indexOf(n)<0)p.innerHTML?i&&!d&&i.appendChild(p):r.remove(p);else if(!l.msie){var x=f+C;y[h=g.level||parseFloat(p.style.marginLeft||0)]||(y[h]={}),(!o||o<0)&&(o=h,a=C,s=e(t).find("[data-list='"+a+"']").last()[0],c=this._createList(f,k.style),r.insertBefore(c,p),v=h,y[h][x]=c),d=s===p,m=y[h][x],(h>v||!m)&&(m=this._createList(f,k.style),y[h][x]=m,i.appendChild(m)),i=this._convertToLi(p),m.appendChild(i),d?o=v=-1:v=h}}}},removeAttributes:function(e){for(var t,n=e.attributes,i=n.length,o=[],a=function(e){(function(e){return["border","background","padding"].filter((function(t){return 0===e.trim().indexOf(t)})).length>0})(e)&&o.push(e.trim())};i--;)"colspan"!=r.name(n[i])&&("style"!==(t=n[i]).name||"TD"!==e.nodeName&&"TH"!==e.nodeName||t.value.split(";").forEach(a),e.removeAttributeNode(n[i]));o.length>0&&e.setAttribute("style",o.join(";"))},createColGroup:function(n){var i=n.cells,o=e(n).closest("table"),r=o.children("colgroup");i.length<2||(r.length&&(i=r.children(),r[0].parentNode.removeChild(r[0])),(r=e(e.map(i,(function(e){var n=e.width;return n&&0!==parseInt(n,10)?t.format('<col style="width:{0}px;"/>',n):"<col />"})).join(""))).is("colgroup")||(r=e("<colgroup/>").append(r)),r.prependTo(o))},convertHeaders:function(t){var n,i=t.cells,o=e.map(i,(function(t){var n=e(t).children("p").children("strong")[0];if(n&&"strong"==r.name(n))return n}));if(o.length==i.length){for(n=0;n<o.length;n++)r.unwrap(o[n]);for(e(t).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(t),n=0;n<i.length;n++)r.changeTag(i[n],"th")}},removeParagraphs:function(t){var n,i,o,a;for(n=0;n<t.length;n++)for(this.removeAttributes(t[n]),i=0,o=(a=e(t[n]).children("p")).length;i<o;i++)i<o-1&&r.insertAfter(r.create(document,"br"),a[i]),r.unwrap(a[i])},removeTextNodes:function(e){var t,n,i,o,a;for(t=0;t<e.length;t++)for(i=(a=e[t]).childNodes,n=0;n<i.length;n++)(o=i[n]).nodeType===r.nodeTypes.TEXT_NODE&&a.removeChild(o)},tables:function(t){var n,i,o,r,a,s=e(t).find("table"),l=this;for(r=0;r<s.length;r++){for(o=i=(n=s[r].rows)[0],a=1;a<n.length;a++)n[a].cells.length>o.cells.length&&(o=n[a]);l.createColGroup(o),l.convertHeaders(i),l.removeAttributes(s[r]),l.removeParagraphs(s.eq(r).find("td,th")),l.removeTextNodes(s.eq(r).find("tr"))}},headers:function(t){for(var n=e(t).find("p.MsoTitle"),i=0;i<n.length;i++)r.changeTag(n[i],"h1")},removeFormatting:function(t){e(t).find("*").each((function(){e(this).css({fontSize:"",fontFamily:""}),this.getAttribute("style")||this.style.cssText||this.removeAttribute("style")}))},clean:function(e){var t,n=this,i=this.options;return i.none?(e=u.fn.clean.call(n,e,this.junkReplacements),e=n.stripEmptyAnchors(e)):(e=i.msConvertLists?this.extractListLevels(e):e,e=u.fn.clean.call(n,e),e=n.stripEmptyAnchors(e),t=r.create(document,"div",{innerHTML:e}),n.headers(t),i.msConvertLists&&n.lists(t),n.tables(t),i.msAllFormatting&&n.removeFormatting(t),e=t.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/gi,"$1")),e}}),m=u.extend({init:function(e){u.fn.init.call(this,e),this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(e){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(e)}}),g=u.extend({clean:function(e){var t=r.create(document,"div",{innerHTML:e});return(t=this.cleanDom(t)).innerHTML},cleanDom:function(e){return e}}),b=g.extend({cleanDom:function(t){var n=this.collectTags();return e(t).find(n).each((function(){r.unwrap(this)})),t},collectTags:function(){if(this.options.span)return"span"},applicable:function(){return this.options.span}}),v=g.extend({cleanDom:function(t){var n=this.collectAttr();return e(t).find("["+n.join("],[")+"]").removeAttr(n.join(" ")),t},collectAttr:function(){return this.options.css?["class","style"]:[]},applicable:function(){return this.options.css}}),y=function(){this.text="",this.add=function(e){this.text+=e}},w=n.extend({init:function(e){this.separators=e||{text:" ",line:"<br/>"},this.lines=[],this.inlineBlockText=[],this.resetLine()},appendText:function(e){3===e.nodeType&&(e=e.nodeValue),this.textContainer.add(e)},appendInlineBlockText:function(e){this.inlineBlockText.push(e)},flashInlineBlockText:function(){this.inlineBlockText.length&&(this.appendText(this.inlineBlockText.join(" ")),this.inlineBlockText=[])},endLine:function(){this.flashInlineBlockText(),this.resetLine()},html:function(){var e=this.separators,t="",n=this.lines;this.flashInlineBlockText();for(var i=0,o=n.length,r=o-1;i<o;i++){for(var a=n[i],s=0,l=a.length,d=l-1;s<l;s++){t+=a[s].text,s!==d&&(t+=e.text)}i!==r&&(t+=e.line)}return t},resetLine:function(){this.textContainer=new y,this.line=[],this.line.push(this.textContainer),this.lines.push(this.line)}}),C=n.extend({init:function(e){this.callback=e},enumerate:function(e){if(e){var t=this.callback(e),n=e.firstChild;!t&&n&&this.enumerate(n),this.enumerate(e.nextSibling)}}}),k=u.extend({init:function(e){u.fn.init.call(this,e),this.hasText=!1,this.enumerator=new C(this.buildText.bind(this))},clean:function(e){var t=r.create(document,"div",{innerHTML:e});return this.cleanDom(t)},cleanDom:function(e){return this.separators=this.getDefaultSeparators(),this.htmlLines=new w(this.separators),this.enumerator.enumerate(e.firstChild),this.hasText=!1,this.htmlLines.html()},buildText:function(e){if(r.isDataNode(e)){if(r.isEmptyspace(e))return;this.htmlLines.appendText(e.nodeValue.replace("\n",this.separators.line)),this.hasText=!0}else{if(r.isBlock(e)&&this.hasText)return(this.actions[r.name(e)]||this.actions.block)(this,e);r.isBr(e)&&this.htmlLines.appendText(this.separators.line)}},applicable:function(){var e=this.options;return e.all||e.keepNewLines},getDefaultSeparators:function(){return this.options.all?{text:" ",line:" "}:{text:" ",line:"<br/>"}},actions:{ul:e.noop,ol:e.noop,table:e.noop,thead:e.noop,tbody:e.noop,td:function(e,t){var n=new k({all:!0}).cleanDom(t);return e.htmlLines.appendInlineBlockText(n),!0},block:function(e){e.htmlLines.endLine()}}}),x=u.extend({clean:function(e){return this.options.custom(e)},applicable:function(){return"function"==typeof this.options.custom}});d(i,{Clipboard:c,Cleaner:u,ScriptCleaner:p,TabCleaner:f,MSWordFormatCleaner:h,WebkitFormatCleaner:m,HtmlTagsCleaner:b,HtmlAttrCleaner:v,HtmlContentCleaner:k,HtmlTextLines:w,CustomCleaner:x})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=t.ui.editor,o=i.RangeUtils,r=i.Dom,a=i.RestorePoint,s=i.Marker,l=t.support.browser,d="<span  class='k-br'>\ufeff</span>",c=e.extend,u=r.nodeTypes,p="previousSibling";function f(e,t,n){for(var i=e?e[t]:null;i&&!n(i);)i=i[t];return i}var h="td,th,caption",m="table,tbody,thead,tfoot,tr",g=function(t){return!t.collapsed&&e(t.commonAncestorContainer).is(m)},b=n.extend({remove:function(t){var n=new s;n.add(t,!1);var i=o.getAll(t,(function(t){return e(t).is("table,tbody,thead,tfoot,tr,td,th,caption")})),a=o.documentFromRange(t),l=n.start,d=n.end,c=h.split(","),u=r.parentOfType(l,c),p=r.parentOfType(d,c);this._removeContent(l,u,!0),this._removeContent(d,p,!1),e(i).each((function(t,n){((n=e(n)).is(h)?n:n.find(h)).each((function(e,t){t.innerHTML="&#65279;"}))})),u&&!l.previousSibling&&r.insertBefore(a.createTextNode("\ufeff"),l),p&&!d.nextSibling&&r.insertAfter(a.createTextNode("\ufeff"),d),u?t.setStartBefore(l):i[0]&&(u=(u=e(i[0])).is(h)?u:u.find(h).first()).length&&t.setStart(u.get(0),0),t.collapse(!0),r.remove(l),r.remove(d)},_removeContent:function(t,n,i){if(n){var o,a=i?"nextSibling":"previousSibling",s=function(t){for(;t&&!t[a];)t=t.parentNode;return t&&e.contains(n,t)?t[a]:null};for(t=s(t);t;)o=s(t),r.remove(t),t=o}}}),v=n.extend({init:function(e){this.editor=e},keydown:function(t){var n=this,o=n.editor,r=o.keyboard,s=r.isTypingKey(t),d=c(e.Event(),t);if(n.editor.trigger("keydown",d),d.isDefaultPrevented())return t.preventDefault(),!0;if(!d.isDefaultPrevented()&&s&&!r.isTypingInProgress()){var u=o.getRange(),p=o.body;if(n.startRestorePoint=new a(u,p),g(u))new b(o).remove(u),o.selectRange(u);if(l.webkit&&!u.collapsed&&function(e,t){return t.startContainer===e&&t.endContainer===e&&0===t.startOffset&&t.endOffset==e.childNodes.length}(p,u)&&(p.innerHTML=""),o.immutables&&i.Immutables.immutablesContext(u))new i.BackspaceHandler(o).deleteSelection(u);return r.startTyping((function(){n._removeBomSpan(),n.endRestorePoint=i._finishUpdate(o,n.startRestorePoint)})),!0}return!1},keyup:function(e){var t=this.editor.keyboard;return this.editor.trigger("keyup",e),!!t.isTypingInProgress()&&(t.endTyping(),!0)},_removeBomSpan:function(){var e=this.editor.getRange().commonAncestorContainer;r.emptyNode(e)||(3===e.nodeType&&(e=e.parentNode),r.insignificant(e)&&(e.textContent=r.stripBom(e.textContent),r.unwrap(e)))}}),y=n.extend({init:function(e){this.editor=e},_addCaret:function(e){var n=r.create(this.editor.document,"a");return!t.support.browser.chrome&&e.firstChild&&e.firstChild.nodeType===u.ELEMENT_NODE&&(e=e.firstChild),r.insertAt(e,n,0),r.stripBomNode(n.previousSibling),r.stripBomNode(n.nextSibling),n},_restoreCaret:function(e){var t=this.editor.createRange();!e.nextSibling&&r.isDataNode(e.previousSibling)?t.setStart(e.previousSibling,e.previousSibling.length):t.setStartAfter(e),t.collapse(!0),this.editor.selectRange(t),r.remove(e)},_handleDelete:function(e){var t=e.endContainer,n=r.closestEditableOfType(t,r.blockElements);if(n&&i.RangeUtils.isEndOf(e,n)){var o=r.next(n);if(!o||"p"!=r.name(o))return!1;var a=r.significantChildNodes(o)[0];a=a&&r.isInline(a)?a:o;var s=this._addCaret(a);return this._merge(n,o),this._restoreCaret(s),!0}return!1},_cleanBomBefore:function(e){for(var t=e.startOffset,n=e.startContainer,i=n.nodeValue,o=0;t-o>=0&&"\ufeff"==i[t-o-1];)o++;o>0&&(n.deleteData(t-o,o),e.setStart(n,Math.max(0,t-o)),e.collapse(!0),this.editor.selectRange(e))},_handleBackspace:function(t){var n,o=t.startContainer,a=r.closestEditableOfType(o,["li"]),s=r.closestEditableOfType(o,"p,h1,h2,h3,h4,h5,h6".split(",")),l=this.editor;if(r.isDataNode(o)){if(t.collapsed&&/^\s[\ufeff]+$/.test(o.nodeValue))return t.setStart(o,0),t.setEnd(o,o.length),l.selectRange(t),!1;this._cleanBomBefore(t)}n=f(s,p,(function(e){return!r.htmlIndentSpace(e)})),t.collapsed&&t.startOffset!==t.endOffset&&t.startOffset<0&&(t.startOffset=0,t.endOffset=0,l.selectRange(t));var d=a&&i.RangeUtils.isStartOf(t,a),c=a&&e(a).index(),u=d&&c>0;if(u&&(s=a,n=r.prev(a)),s&&n&&r.is(n,"table")&&i.RangeUtils.isStartOf(t,s))return""===s.innerText&&(s.innerHTML="\ufeff"),!0;if(i.RangeUtils.isStartOf(t,s)&&parseInt(s.style.marginLeft,10)>0)return l.exec("outdent"),!0;if(s&&n&&i.RangeUtils.isStartOf(t,s)||u){var h=r.significantChildNodes(s)[0];h=h&&r.isInline(h)?h:s;var m=this._addCaret(h);return this._merge(n,s),this._restoreCaret(m),!0}if(d&&0===c){var g=a.firstChild;g||(a.innerHTML=i.emptyElementContent,g=a.firstChild);var b=new i.ListFormatter(r.name(a.parentNode),"p");return t.selectNodeContents(a),b.toggle(t),r.insignificant(g)?t.setStartBefore(g):t.setStart(g,0),l.selectRange(t),!0}var v=o.childNodes[t.startOffset-1],y=t,w=v&&r.closestEditableOfType(v,["a"]),C=f(v||o,p,(function(e){return!r.isDataNode(e)||!r.isBom(e)&&e.length>0}));if((w||(0===t.startOffset||v)&&r.is(C,"a"))&&(w=w||C,(y=l.createRange()).setStart(w,w.childNodes.length),y.collapse(!0)),(w=w||r.closestEditableOfType(v||y.startContainer,["a"]))&&i.RangeUtils.isEndOf(y,w)){var k=new i.UnlinkCommand({range:y,body:l.body,immutables:!!l.immutables});l.execCommand(k),l._selectionChange()}return!1},_handleSelection:function(t){var n,o=t.commonAncestorContainer,a=r.closest(o,"table"),l=i.emptyElementContent,d=this.editor;if(g(t))return new b(d).remove(t),d.selectRange(t),!0;var c=new s;c.add(t,!1),t.commonAncestorContainer===d.body&&this._surroundFullyContent(c,t),d.immutables&&this._handleImmutables(c),this._surroundFullySelectedAnchor(c,t),t.setStartAfter(c.start),t.setEndBefore(c.end);var u=t.startContainer,p=t.endContainer;return t.deleteContents(),"li"===p.tagName.toLocaleLowerCase()&&r.emptyNode(p)&&(t.selectNode(p),t.deleteContents()),a&&""===e(a).text()&&(t.selectNode(a),t.deleteContents()),o=t.commonAncestorContainer,"p"===r.name(o)&&""===o.innerHTML&&(o.innerHTML=l,t.setStart(o,0)),this._join(u,p),r.insertAfter(d.document.createTextNode("\ufeff"),c.start),c.remove(t),u=t.startContainer,"tr"==r.name(u)&&(u=u.childNodes[Math.max(0,t.startOffset-1)],t.setStart(u,r.getNodeLength(u))),t.collapse(!0),d.selectRange(t),n=u.parentElement||u.parentNode,r.isDataNode(u)&&!r.emptyNode(n)&&this._cleanBomBefore(t),!0},_handleImmutables:function(e){var t=i.Immutables.immutableParent,n=t(e.start),o=t(e.start);n&&r.insertBefore(e.start,n),o&&r.insertAfter(e.end,o),n&&r.remove(n),o&&o.parentNode&&r.remove(o)},_surroundFullyContent:function(e,t){var n=t.commonAncestorContainer.children,i=n[0],o=n[n.length-1];this._moveMarker(e,t,i,o)},_surroundFullySelectedAnchor:function(t,n){var i=t.start,o=e(i).closest("a").get(0),r=t.end,a=e(r).closest("a").get(0);this._moveMarker(t,n,o,a)},_moveMarker:function(e,t,n,i){var a=e.start,s=e.end;n&&o.isStartOf(t,n)&&r.insertBefore(a,n),i&&o.isEndOf(t,i)&&r.insertAfter(s,i)},_root:function(e){for(;e&&"body"!=r.name(e)&&e.parentNode&&"body"!=r.name(e.parentNode);)e=e.parentNode;return e},_join:function(e,t){(e=this._root(e))!=(t=this._root(t))&&r.is(t,"p")&&this._merge(e,t)},_merge:function(e,t){for(r.removeTrailingBreak(e);e&&t.firstChild;)1==e.nodeType?(e=r.list(e)?e.children[e.children.length-1]:e)&&e.appendChild(t.firstChild):e.nodeType===u.TEXT_NODE?this._mergeWithTextNode(e,t.firstChild):e.parentNode.appendChild(t.firstChild);r.remove(t)},_mergeWithTextNode:function(e,t){e&&e.nodeType===u.TEXT_NODE&&(e.nextSibling&&this._isCaret(e.nextSibling)?r.insertAfter(t,e.nextSibling):r.insertAfter(t,e))},_isCaret:function(t){return e(t).is("a")},keydown:function(e){var n,o,r=this.editor,s=r.getRange(),l=e.keyCode,d=t.keys,c=l===d.BACKSPACE,u=l==d.DELETE;r.immutables&&r.immutables.keydown(e,s)||(!c&&!u||s.collapsed?c?n="_handleBackspace":u&&(n="_handleDelete"):n="_handleSelection",n&&(o=new a(s,r.body),this[n](s)&&(e.preventDefault(),i._finishUpdate(r,o))))},deleteSelection:function(e){this._handleSelection(e)},keyup:e.noop}),w=n.extend({init:function(e){this.editor=e,this.systemCommandIsInProgress=!1},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=i._finishUpdate(this.editor,this.startRestorePoint)},changed:function(){return!!this.startRestorePoint&&this.startRestorePoint.html!=this.editor.body.innerHTML},keydown:function(e){var t=this,n=t.editor,i=n.keyboard;return i.isModifierKey(e)?(i.isTypingInProgress()&&i.endTyping(!0),t.startRestorePoint=new a(n.getRange(),n.body),!0):!!i.isSystem(e)&&(t.systemCommandIsInProgress=!0,t.changed()&&(t.systemCommandIsInProgress=!1,t.createUndoCommand()),!0)},keyup:function(){var e=this;return!(!e.systemCommandIsInProgress||!e.changed())&&(e.systemCommandIsInProgress=!1,e.createUndoCommand(),!0)}}),C=n.extend({init:function(e){this.editor=e},keydown:function(e){!l.webkit||e.isDefaultPrevented()||!e.ctrlKey||65!=e.keyCode||e.altKey||e.shiftKey||(this.editor.options.immutables&&this._toSelectableImmutables(),this._selectEditorBody())},_selectEditorBody:function(){var e=this.editor,t=e.getRange();t.selectNodeContents(e.body),setTimeout((function(){e.selectRange(t)}))},_toSelectableImmutables:function(){for(var t=this.editor.body,n=i.Immutables.immutable,o=r.emptyTextNode,a=t.firstChild,s=t.lastChild;o(a);)a=a.nextSibling;for(;o(s);)s=s.previousSibling;a&&n(a)&&e(d).prependTo(t),s&&n(s)&&e(d).appendTo(t)},keyup:e.noop}),k=n.extend({init:function(e){this.handlers=e,this.typingInProgress=!1},isCharacter:function(e){return e>=48&&e<=90||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||229==e},toolFromShortcut:function(t,n){var i,o,r=String.fromCharCode(n.keyCode),a=this._getShortcutModifier(n,navigator.platform);for(i in t)if(((o=e.extend({ctrl:!1,alt:!1,shift:!1},t[i].options)).key==r||o.key==n.keyCode)&&o.ctrl==a&&o.alt==n.altKey&&o.shift==n.shiftKey)return i},_getShortcutModifier:function(e,t){return t.toUpperCase().indexOf("MAC")>=0?e.metaKey:e.ctrlKey},toolsFromShortcut:function(t,n){var i,o,r=String.fromCharCode(n.keyCode),a=[],s=function(e){return e==r||e==n.keyCode||e==n.charCode};for(i in t)o=e.extend({ctrl:!1,alt:!1,shift:!1},t[i].options),(Array.isArray(o.key)?e.grep(o.key,s).length>0:s(o.key))&&o.ctrl==n.ctrlKey&&o.alt==n.altKey&&o.shift==n.shiftKey&&a.push(t[i]);return a},isTypingKey:function(e){var t=e.keyCode;return this.isCharacter(t)&&!e.ctrlKey&&!e.altKey||32==t||13==t||8==t||46==t&&!e.shiftKey&&!e.ctrlKey&&!e.altKey},isModifierKey:function(e){var t=e.keyCode;return 17==t&&!e.shiftKey&&!e.altKey||16==t&&!e.ctrlKey&&!e.altKey||18==t&&!e.ctrlKey&&!e.shiftKey},isSystem:function(e){return 46==e.keyCode&&e.ctrlKey&&!e.altKey&&!e.shiftKey},startTyping:function(e){this.onEndTyping=e,this.typingInProgress=!0},stopTyping:function(){this.typingInProgress&&this.onEndTyping&&this.onEndTyping(),this.typingInProgress=!1},endTyping:function(e){var t=this;t.clearTimeout(),e?t.stopTyping():t.timeout=window.setTimeout(t.stopTyping.bind(t),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(e,t){var n,i=this.handlers;for(n=0;n<i.length&&!i[n][t](e);n++);},keydown:function(e){this.notify(e,"keydown")},keyup:function(e){this.notify(e,"keyup")}});c(i,{TypingHandler:v,SystemHandler:w,BackspaceHandler:y,SelectAllHandler:C,Keyboard:k})}(window.kendo.jQuery),function(e){var t=window.kendo.ui.editor,n=t.Command,i=t.EditorUtils.registerTool,o=t.Tool,r=e.extend,a=n.extend({init:function(e){this.async=!0,n.fn.init.call(this,e)},exec:function(){var e=this,t=e.lockRange(!0),n=e.editor;n._destroyResizings(),n.saveAsPDF().then((function(){e.releaseRange(t),n._initializeColumnResizing(),n._initializeRowResizing(),n._initializeElementResizing()}))}});r(t,{ExportPdfCommand:a}),i("pdf",new o({command:a}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.ui.editor,i=n.Command,o=n.EditorUtils.registerTool,r=n.Tool,a=e.extend,s=i.extend({init:function(e){i.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e=this.editor;t.support.browser.msie?e.document.execCommand("print",!1,null):e.window.print&&e.window.print()}});a(n,{PrintCommand:s}),o("print",new r({command:s}))}(window.kendo.jQuery),function(e){var t=window.kendo.ui.editor,n=t.Tool,i=t.Command,o=t.EditorUtils,r=t.Dom,a=t.RangeUtils,s=o.registerTool,l=i.extend({init:function(e){i.fn.init.call(this,e)},exec:function(){var e=this.lockRange(!0);this.inlineStyles=[],this.blockStyles=[],this.collectStyles(e),this.editor.inlineStyles=this.inlineStyles,this.editor.blockStyles=this.blockStyles,this.releaseRange(e)},collectStyles:function(e){var t,n=a.nodes(e);for(t=1===n.length?n[0].parentNode:e.startContainer;t&&!r.is(t,"body")&&"editor"!==t.getAttribute("data-role");)r.isBlock(t)?(this.populateStyles(t,"blockStyles"),t=r.is(t,"li")?t.parentNode:null):(this.populateStyles(t,"inlineStyles"),t=t.parentNode)},populateStyles:function(e,t){var n,i,o,r,a,s=e.style,l=e.attributes,d={tags:[e.tagName],attr:{style:{}}};for(a=0;s&&a<s.length;a++)n=s[i=s[a]],d.attr.style[i]=n;for(a=0;l&&a<l.length;a++)o=l[a].nodeName,r=l[a].nodeValue,"style"!==o&&("class"===o?d.attr.className=r:d.attr[o]=r);this[t].push(d)}}),d=i.extend({init:function(e){i.fn.init.call(this,e)},exec:function(){var e,t=this.lockRange(!0),n=a.getMarkers(t),i=this.editor,o=i.inlineStyles,s=i.blockStyles;(o&&0!==o.length||s&&0!==s.length)&&(3===n.length&&(this.marker.removeCaret(t),this.marker.caret=null),this.removeEmptyElementsFromRange(t),e=a.nodes(t),this.cleanInlineParents(e),r.normalize(t.commonAncestorContainer),2===n.length?(t.setStartAfter(n[0]),t.setEndBefore(n[1])):(t.setStartBefore(e[0]),t.setEndAfter(e[0])),(e=a.nodes(t))&&s&&s.length&&this.applyBlockStyles(e,s),e&&o&&o.length&&this.applyInlineStyles(e,o),this.releaseRange(t))},removeEmptyElementsFromRange:function(e){var t,n;if((t=a.getAll(e,(function(e){return r.isInline(e)&&!e.firstChild&&!r.isMarker(e)})))&&t.length>0)for(n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n])},cleanInlineParents:function(e){var t,n,i,o,a,s,l;for(t=0;t<e.length;t++)if(i=(n=e[t]).parentNode,!this.immutableParent(n))for(;i&&r.isInline(i);){for(o=i.childNodes,a=0;a<o.length;a++)s=o[a],r.isMarker(s)||s===n||((l=i.cloneNode(!0)).innerHTML="",r.wrap(s,l));r.unwrap(i),i=n.parentNode}},applyBlockStyles:function(e,t){var n,i,o,a,s,l,d,c,u,p,f,h,m,g,b,v=t[0].tags[0],y=t[0].attr,w=this.editor.document;for(n=0,i=e.length;n<i;n++)if(o=e[n],!r.isWhitespace(o)&&!this.immutableParent(o))if("BODY"!==(s=r.blockParentOrBody(o)).tagName&&s.tagName!==v){if("LI"!==s.tagName&&"TD"!==s.tagName&&"TH"!==s.tagName){for(d=[],c=[],u=o.previousSibling,p=o.nextSibling;u;)r.isMarker(u)||d.push(u),u=u.previousSibling;if(d.length)for((f=s.cloneNode(!0)).innerHTML="",r.insertBefore(f,d[0]),g=0;g<d.length;g++)m=d[g],r.insertAt(f,m,0);for(;p;)r.isMarker(p)||c.push(p),p=p.nextSibling;if(c.length)for((h=s.cloneNode(!0)).innerHTML="",r.insertBefore(h,c[0]),g=0;g<c.length;g++)m=c[g],h.appendChild(m);r.unwrap(s)}a=r.create(w,v,y),r.wrap(o,a)}else s.tagName===v&&r.attr(s,y);if(s&&2===t.length&&"LI"!==s.tagName&&"LI"===v){for(b=[];r.is(a,"li");)b.push(a),a=r.prev(a);for(l=r.create(w,t[1].tags[0],t[1].attr),r.insertBefore(l,b[b.length-1]),l.appendChild(b[0]),n=1,i=b.length;n<i;n++)r.insertBefore(b[n],l.firstChild)}else s&&2===t.length&&"LI"!==s.tagName&&(l=r.create(w,t[1].tags[0],t[1].attr),r.wrap(a,l))},applyInlineStyles:function(e,t){var n,i,o,a,s,l,d=this.editor.document;for(a=0;a<t.length;a++)n=t[a],i=r.create(d,n.tags[0],n.attr),o&&i.appendChild(o),o=i;if(o)for(a=0;a<e.length;a++)if(l=e[a],!r.isWhitespace(l)&&!this.immutableParent(l)){for(s=o.cloneNode(!0),r.insertBefore(s,l);s.children&&s.children.length;)s=s.children[0];s.appendChild(l)}},immutables:function(){return this.editor&&this.editor.options.immutables},immutableParent:function(e){return this.immutables()&&t.Immutables.immutableParent(e)}}),c=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){return new l(e)}}),u=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){return new d(e)}});e.extend(t,{CopyFormatCommand:l,ApplyFormatCommand:d,CopyFormatTool:c,ApplyFormatTool:u}),s("copyFormat",new c({})),s("applyFormat",new u({}))}(window.kendo.jQuery),function(e,t){var n=window,i=n.Math,o=i.min,r=i.max,a=n.parseFloat,s=e.jQuery,l=s.extend,d=e.ui.editor,c=/(\d+)(\.?)(\d*)%/,u=/(\d+)(\.?)(\d*)px/,p="string";function f(e){return typeof e===p&&c.test(e)}l(d,{ResizingUtils:{constrain:function(e){var t=e.value,n=e.min,i=e.max;return r(o(a(t),a(i)),a(n))},getScrollBarWidth:function(t){return t&&!s(t).is("body")&&t.scrollHeight>t.clientHeight?e.support.scrollbar():0},calculatePercentageRatio:function(e,t){return f(e)?a(e):a(e)/t*100},inPercentages:f,inPixels:function(e){return typeof e===p&&u.test(e)},toPercentages:function(e){return a(e)+"%"},toPixels:function(e){return a(e)+"px"}}})}(window.kendo),function(e,t){var n=e.jQuery,i=n.extend,o=n.noop,r=e.ui.editor,a=e.Class,s="keydown",l="mouseleave",d="mouseup",c="table",u=a.extend({init:function(e,t){var o=this;o.options=i({},o.options,t),o.options.tags=Array.isArray(o.options.tags)?o.options.tags:[o.options.tags],n(e).is(c)&&(o.element=e,o._attachEventHandlers())},destroy:function(){var e=this,t=e.options.eventNamespace;e.element&&(n(e.element).off(t),e.element=null),n(e.options.rootElement).off(s+t),e._destroyResizeHandle()},options:{tags:[],min:0,rootElement:null,eventNamespace:"",rtl:!1,handle:{dataAttribute:"",height:0,width:0,classNames:{},template:""}},_attachEventHandlers:function(){var e=this,t=e.options;n(e.element).on("mousemove"+t.eventNamespace,t.tags.join(","),e.detectElementBorderHovering.bind(e))},resizingInProgress:function(){var e=this._resizable;return!!e&&!!e.resizing},resize:o,detectElementBorderHovering:function(e){var t=this,i=t.options.handle,o=n(e.currentTarget),r=t.resizeHandle,a=i.dataAttribute;t.resizingInProgress()||(!o.is(":last-child")&&t.elementBorderHovered(o,e)?r?r.data(a)&&r.data(a)!==o[0]&&t.showResizeHandle(o,e):t.showResizeHandle(o,e):r&&t._destroyResizeHandle())},elementBorderHovered:o,showResizeHandle:function(e,t){var n=this;0===t.buttons&&(n._initResizeHandle(),n.setResizeHandlePosition(e),n.setResizeHandleDimensions(),n.setResizeHandleDataAttributes(e[0]),n._attachResizeHandleEventHandlers(),n._initResizable(e),n._hideResizeMarker(),n.resizeHandle.show())},_initResizeHandle:function(){var e=this,t=e.options;e._destroyResizeHandle(),e.resizeHandle=n(t.handle.template).appendTo(t.rootElement)},setResizeHandlePosition:o,setResizeHandleDimensions:o,setResizeHandleDataAttributes:function(e){this.resizeHandle.data(this.options.handle.dataAttribute,e)},_attachResizeHandleEventHandlers:function(){var e=this,t=e.options,n=t.eventNamespace,i=t.handle.classNames.marker,o=e.resizeHandle;e.resizeHandle.on("mousedown"+n,(function(){o.find("."+i).show()})).on(d+n,(function(){o.find("."+i).hide()}))},_hideResizeMarker:function(){this.resizeHandle.find("."+this.options.handle.classNames.marker).hide()},_destroyResizeHandle:function(){var e=this;e.resizeHandle&&(e._destroyResizable(),e.resizeHandle.off(e.options.eventNamespace).remove(),e.resizeHandle=null)},_initResizable:function(t){var n=this;n.resizeHandle&&(n._destroyResizable(),n._resizable=new e.ui.Resizable(t,{draggableElement:n.resizeHandle[0],start:n.onResizeStart.bind(n),resize:n.onResize.bind(n),resizeend:n.onResizeEnd.bind(n)}))},_destroyResizable:function(){var e=this;e._resizable&&(e._resizable.destroy(),e._resizable=null)},onResizeStart:function(){this._disableKeyboard()},onResize:function(e){this.setResizeHandleDragPosition(e)},setResizeHandleDragPosition:o,onResizeEnd:function(e){var t=this;t.resize(e),t._destroyResizeHandle(),t._enableKeyboard()},_enableKeyboard:function(){var e=this.options;n(e.rootElement).off(s+e.eventNamespace)},_disableKeyboard:function(){var e=this.options;n(e.rootElement).on(s+e.eventNamespace,(function(e){e.preventDefault()}))},_forceResizing:function(e){var t=this._resizable;t&&t.userEvents&&t.userEvents._end(e)}}),p=a.extend({create:function(e,t){var i=this,o=t.name,r=t.eventNamespace;n(e.body).on("mouseenter"+r,c,(function(n){var r=n.currentTarget,a=e[o];n.stopPropagation(),a?a.element===r||a.resizingInProgress()||(i._destroyResizing(e,t),i._initResizing(e,r,t)):i._initResizing(e,r,t)})).on(l+r,c,(function(r){var a,s=e[o];r.stopPropagation(),!s||s.resizingInProgress()||s.resizeHandle||(a=n(s.element).parents(c)[0])&&(i._destroyResizing(e,t),i._initResizing(e,a,t))})).on(l+r,(function(){var n=e[o];n&&!n.resizingInProgress()&&i._destroyResizing(e,t)})).on(d+r,(function(r){var a,s=e[o];s&&s.resizingInProgress()&&(a=n(r.target).parents(c)[0])&&(s._forceResizing(r),i._destroyResizing(e,t),i._initResizing(e,a,t))}))},dispose:function(e,t){n(e.body).off(t.eventNamespace)},_initResizing:function(t,n,i){var o=i.name,r=i.type;t[o]=new r(n,{rtl:e.support.isRtl(t.element),rootElement:t.body})},_destroyResizing:function(e,t){var n=t.name;e[n]&&(e[n].destroy(),e[n]=null)}});p.current=new p,u.create=function(e,t){p.current.create(e,t)},u.dispose=function(e,t){p.current.dispose(e,t)},i(r,{TableElementResizing:u})}(window.kendo),function(e,t){var n=window.Math.abs,i=e.jQuery,o=i.extend,r=e.ui.editor,a=r.Dom,s=r.TableElementResizing,l=r.ResizingUtils,d=l.constrain,c=l.calculatePercentageRatio,u=l.getScrollBarWidth,p=l.inPercentages,f=l.toPercentages,h=l.toPixels,m=e._outerWidth,g=".kendoEditorColumnResizing",b="k-column-resize-handle",v="k-column-resize-marker",y="body",w="tbody",C="thead",k="tr",x="col-index",_=",",T=s.extend({options:{tags:["td","th"],min:20,rootElement:null,eventNamespace:g,rtl:!1,handle:{dataAttribute:"column",width:10,height:0,classNames:{handle:b,marker:v},template:'<div class="k-column-resize-handle-wrapper" unselectable="on" contenteditable="false"><div class="k-column-resize-handle"><div class="k-column-resize-marker"></div></div></div>'}},elementBorderHovered:function(e,t){var n=this.options,o=n.handle.width,r=e.offset().left+(n.rtl?0:m(e)),a=t.clientX+i(e[0].ownerDocument).scrollLeft();return a>r-o&&a<r+o},setResizeHandlePosition:function(t){var n=this,o=i(n.element.tHead||n.element.tBodies[0]),r=n.options,a=r.rtl,s=r.handle.width,l=i(r.rootElement),d=l.is(y)?0:l.scrollTop(),c=l.is(y)?0:e.scrollLeft(l),p=a?0:m(t),f=a?u(l[0]):0,h=t.offset().left-(l.offset().left+parseFloat(l.css("borderLeftWidth")))-parseFloat(t.css("marginLeft")),g=o.offset().top-(l.offset().top+parseFloat(l.css("borderTopWidth")))-parseFloat(o.css("marginTop")),b=e.support.browser;a&&(b.mozilla||b.webkit&&b.version>=85)&&(c*=-1),n.resizeHandle.css({top:g+d,left:h+p+(c-f)-s/2,position:"absolute"})},setResizeHandleDimensions:function(){var e=this,t=i(e.element).children(C),n=i(e.element).children(w),o=t.length>0?t.height()+n.height():n.height();e.resizeHandle.css({width:e.options.handle.width,height:o})},setResizeHandleDragPosition:function(t){var n=this,o=i(i(t.currentTarget).data(n.options.handle.dataAttribute)),r=n.options,a=i(r.rootElement),s=r.handle?r.handle.width:0,l=r.min,c=r.rtl,p=m(o),f=o.offset().left-(a.offset().left+parseFloat(a.css("borderLeftWidth")))-parseFloat(o.css("marginLeft")),h=m(o.next()),g=i(n.resizeHandle),b=a.is(y)?0:e.scrollLeft(a),v=c?u(a[0]):0,w=g.offset().left-(a.offset().left+parseFloat(a.css("borderLeftWidth")))-parseFloat(g.css("marginLeft")),C=e.support.browser;c&&(C.mozilla||C.webkit&&C.version>=85)&&(b*=-1);var k=d({value:w+(b-v)+t.x.delta,min:f+(b-v)-(c?h:0)+l,max:f+p+(b-v)+(c?0:h)-s-l});g.css({left:k})},resize:function(e){var t,n,o,r,s,l=this,c=i(i(e.currentTarget).data(l.options.handle.dataAttribute)),u=l.options,p=u.rtl?-1:1,f=u.min,h=p*e.x.initialDelta;a.reMapTableColumns(l.element,x),r=parseInt(c.attr(x),10),c.prop("colSpan")>1&&(c=i(l.element).find("[col-index="+(r+c.prop("colSpan")-1)+"]").eq(0),r=parseInt(c.attr(x),10)),s=i(l.element).find("[col-index="+(r+1)+"]:not([colspan])"),l._setTableComputedWidth(),l._setColumnsComputedWidth(),o=m(c),n=m(s),t=d({value:o+h,min:f,max:o+n-f}),l._resizeColumn(c[0],t),l._resizeTopAndBottomColumns(c[0],t),l._resizeAdjacentColumns(parseInt(c.attr(x),10),n,o,o-t),a.clearTableMappings(l.element,x)},_setTableComputedWidth:function(){var e=this.element;""===e.style.width&&(e.style.width=h(m(i(e))))},_setColumnsComputedWidth:function(){var e,t=i(this.element.tHead||this.element.tBodies[0]),n=m(t),o=t.children(k).children("td"),r=o.length,a=o.map((function(){return m(i(this))}));for(e=0;e<r;e++)p(o[e].style.width)?o[e].style.width=f(c(a[e],n)):o[e].style.width=h(a[e])},_resizeTopAndBottomColumns:function(e,t){var n,o=this,r=i(e).attr(x),a=i(o.element).children("tbody,thead").children(k).children(o.options.tags.join(_)).filter((function(){return i(this).attr(x)===r&&this!==e})),s=a.length;for(n=0;n<s;n++)o._resizeColumn(a[n],t)},_resizeColumn:function(e,t){var n=i(this.element.tHead||this.element.tBodies[0]);p(e.style.width)?e.style.width=f(c(t,m(n))):e.style.width=h(t)},_resizeAdjacentColumns:function(e,t,n,o){var r,a=this,s=i(a.element).children("tbody,thead").children(k).children(a.options.tags.join(_)).filter((function(){return parseInt(i(this).attr(x),10)===e+1})),l=s.length;for(r=0;r<l;r++)a._resizeAdjacentColumn(s[r],t,n,o)},_resizeAdjacentColumn:function(e,t,i,o){var r,a=this.options.min;r=d({value:t+o,min:a,max:n(i+t-a)}),this._resizeColumn(e,r)}});T.create=function(e){s.create(e,{name:"columnResizing",type:T,eventNamespace:g})},T.dispose=function(e){s.dispose(e,{eventNamespace:g})},o(r,{ColumnResizing:T})}(window.kendo),function(e,t){var n=window.Math.abs,i=e.jQuery,o=i.extend,r=e.ui.editor,a=r.TableElementResizing,s=r.ResizingUtils,l=s.getScrollBarWidth,d=s.constrain,c=s.calculatePercentageRatio,u=s.inPercentages,p=s.toPercentages,f=s.toPixels,h=e._outerHeight,m=".kendoEditorRowResizing",g="k-row-resize-handle",b="k-row-resize-marker",v="body",y="tr",w="tbody",C="thead",k=a.extend({options:{tags:[y],min:20,rootElement:null,eventNamespace:m,rtl:!1,handle:{dataAttribute:"row",width:0,height:10,classNames:{handle:g,marker:b},template:'<div class="k-row-resize-handle-wrapper" unselectable="on" contenteditable="false"><div class="k-row-resize-handle"><div class="k-row-resize-marker-wrapper"><div class="k-row-resize-marker"></div></div></div></div>'}},elementBorderHovered:function(e,t){var n=this.options.handle.height,o=e.offset().top+h(e),r=t.clientY+i(e[0].ownerDocument).scrollTop();return r>o-n&&r<o+n},setResizeHandlePosition:function(t){var n=this.options,o=n.handle.height,r=i(n.rootElement),a=r.is(v)?0:r.scrollTop(),s=r.is(v)?0:e.scrollLeft(r),d=n.rtl?l(r[0]):0,c=t.offset().left-(r.offset().left+parseFloat(r.css("borderLeftWidth")))-parseFloat(t.css("marginLeft")),u=t.offset().top-(r.offset().top+parseFloat(r.css("borderTopWidth")))-parseFloat(t.css("marginTop")),p=e.support.browser;n.rtl&&(p.mozilla||p.webkit&&p.version>=85)&&(s*=-1),this.resizeHandle.css({top:u+h(t)+a-o/2,left:c+(s-d),position:"absolute"})},setResizeHandleDimensions:function(){var e=this,t=i(e.element.tHead||e.element.tBodies[0]);e.resizeHandle.css({width:t.width(),height:e.options.handle.height})},setResizeHandleDragPosition:function(e){var t=this,n=t.options,o=n.min,r=i(t.element).children(C),a=i(t.element).children(w),s=r.length>0?r:a,l=i(t.resizeHandle),c=i(e.currentTarget).data(n.handle.dataAttribute),u=i(c),p=i(n.rootElement),f=p.is(v)?0:p.scrollTop(),m=s.offset().top-(p.offset().top+parseFloat(p.css("borderTopWidth")))-parseFloat(s.css("marginTop")),g=u.offset().top-(p.offset().top+parseFloat(p.css("borderTopWidth")))-parseFloat(u.css("marginTop")),b=l.offset().top-(Math.max(0,p.offset().top)+parseFloat(p.css("borderTopWidth")))-parseFloat(l.css("marginTop")),y=d({value:b+f+e.y.delta,min:g+f+o,max:m+h(r)+h(a)+f-n.handle.height-o});l.css({top:y})},resize:function(e){var t=this,o=t.options,r=i(e.currentTarget).data(o.handle.dataAttribute),a=h(i(r)),s=i(t.element),l=h(s),c=s.children(C),p=c.length>0?c.height():0,m=s.children(w).height(),g=r.style.height,b=d({value:a+e.y.initialDelta,min:o.min,max:n(p+m-o.min)});t._setRowsHeightInPixels(),r.style.height=f(b),t._setTableHeight(l+(b-a)),u(g)&&t._setRowsHeightInPercentages()},_setRowsHeightInPixels:function(){var e,t=i(this.element).children("tbody,thead").children(y),n=t.length,o=t.map((function(){return h(i(this))}));for(e=0;e<n;e++)t[e].style.height=f(o[e])},_setRowsHeightInPercentages:function(){var e,t=this,n=i(t.element).children(C),o=n.length>0?n.height():0,r=i(t.element).children(w).height(),a=i(t.element).children("thead,tbody").children(y),s=a.length,l=a.map((function(){return h(i(this))}));for(e=0;e<s;e++)a[e].style.height=p(c(l[e],o+r))},_setTableHeight:function(e){var t=this.element;u(t.style.height)?t.style.height=p(c(e,i(t).parent().height())):t.style.height=f(e)}});k.create=function(e){a.create(e,{name:"rowResizing",type:k,eventNamespace:m})},k.dispose=function(e){a.dispose(e,{eventNamespace:m})},o(r,{RowResizing:k})}(window.kendo),function(e,t){var n=e.jQuery,i=n.extend,o=n.noop,r=e.ui.editor,a=e.Class,s=e.ui.Draggable,l=e.Observable,d=r.ResizingUtils.getScrollBarWidth,c=e._outerWidth,u=e._outerHeight,p=".kendoEditorElementResizeHandle",f="k-element-resize-handle",h="dragStart",m="drag",g="dragEnd",b="halfInside",v="mouseover",y="mouseout",w="east",C="north",k="northeast",x="northwest",_="south",T="southeast",N="southwest",S="west",R=l.extend({init:function(e){var t=this;l.fn.init.call(t),t.options=i({},t.options,e),t.element=n(t.options.template).appendTo(t.options.appendTo)[0],t._attachEventHandlers(),t._addStyles(),t._initDraggable(),t._initPositioningStrategy(),t._initDraggingStrategy(),n(t.element).data("table",t.options.resizableElement)},destroy:function(){var e=this;n(e.element).off(p).remove(),e.element=null,e._destroyDraggable(),e.unbind()},options:{appendTo:null,direction:T,resizableElement:null,rtl:!1,template:"<div class='k-element-resize-handle-wrapper' unselectable='on' contenteditable='false'><div class='k-element-resize-handle'></div></div>"},events:[h,m,g,v,y],show:function(){this._setPosition()},_setPosition:function(){var e=this._positioningStrategy.getPosition();n(this.element).css({top:e.top,left:e.left,position:"absolute"})},_attachEventHandlers:function(){var e=this;n(e.element).on(v+p,e._onMouseOver.bind(e)).on(y+p,e._onMouseOut.bind(e))},_onMouseOver:function(){this.trigger(v)},_onMouseOut:function(){this.trigger(y)},_addStyles:function(){n(this.element).children("."+f).addClass("k-resize-"+this.options.direction)},_initPositioningStrategy:function(){var e=this,t=e.options;e._positioningStrategy=E.create({name:t.direction,handle:e.element,resizableElement:t.resizableElement,rootElement:t.rootElement,rtl:t.rtl})},_initDraggable:function(){var e=this,t=e.element;!e._draggable&&t&&(e._draggable=new s(t,{dragstart:e._onDragStart.bind(e),drag:e._onDrag.bind(e),dragend:e._onDragEnd.bind(e)}))},_onDragStart:function(){this.trigger(h)},_onDrag:function(e){this.trigger(m,this._draggingStrategy.adjustDragDelta({deltaX:e.x.delta,deltaY:e.y.delta,initialDeltaX:e.x.initialDelta,initialDeltaY:e.y.initialDelta}))},_onDragEnd:function(){this.trigger(g)},_destroyDraggable:function(){var e=this;e._draggable&&(e._draggable.destroy(),e._draggable=null)},_initDraggingStrategy:function(){this._draggingStrategy=M.create({name:this.options.direction})}}),A=a.extend({init:function(){this._items=[]},register:function(e,t){this._items.push({name:e,type:t})},create:function(e){var t,n,i,o=this._items,r=o.length,a=e.name?e.name.toLowerCase():"";for(i=0;i<r;i++)if((n=o[i]).name.toLowerCase()===a){t=n;break}if(t)return new t.type(e)}}),z=A.extend({});z.current=new z;var E=a.extend({init:function(e){this.options=i({},this.options,e)},options:{handle:null,offset:b,resizableElement:null,rootElement:null,rtl:!1},getPosition:function(){var e=this,t=e.calculatePosition(),n=e.applyHandleOffset(t);return e.applyScrollOffset(n)},calculatePosition:o,applyHandleOffset:function(e){var t=this.options,i=n(t.handle);return t.offset===b?{top:e.top-u(i)/2,left:e.left-c(i)/2}:e},applyScrollOffset:function(t){var i,o=this.options,r=n(o.rootElement),a=o.rtl?d(r[0]):0,s=e.support.browser;return r.is("body")?t:(i=e.scrollLeft(r)||0,o.rtl&&(s.mozilla||s.webkit&&s.version>=85)&&(i*=-1),{top:t.top+(r.scrollTop()||0),left:t.left+i-a})}});E.create=function(e){return z.current.create(e)};var D=E.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),i=parseInt(e.css("marginLeft"),10);return{top:t.top+u(e)/2,left:t.left+c(e)+i}}});z.current.register(w,D);var I=E.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),i=parseInt(e.css("marginLeft"),10);return{top:t.top,left:t.left+c(e)/2+i}}});z.current.register(C,I);var P=E.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),i=parseInt(e.css("marginLeft"),10);return{top:t.top,left:t.left+c(e)+i}}});z.current.register(k,P);var H=E.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),i=parseInt(e.css("marginLeft"),10);return{top:t.top,left:t.left+i}}});z.current.register(x,H);var B=E.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),i=parseInt(e.css("marginLeft"),10);return{top:t.top+u(e),left:t.left+c(e)/2+i}}});z.current.register(_,B);var F=E.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),i=parseInt(e.css("marginLeft"),10);return{top:t.top+u(e),left:t.left+c(e)+i}}});z.current.register(T,F);var L=E.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),i=parseInt(e.css("marginLeft"),10);return{top:t.top+u(e),left:t.left+i}}});z.current.register(N,L);var O=E.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),i=parseInt(e.css("marginLeft"),10);return{top:t.top+u(e)/2,left:t.left+i}}});z.current.register(S,O);var W=A.extend({});W.current=new W;var M=a.extend({init:function(e){this.options=i({},this.options,e)},options:{deltaX:{adjustment:null,modifier:null},deltaY:{adjustment:null,modifier:null}},adjustDragDelta:function(e){var t=this.options,n=t.deltaX.adjustment*t.deltaX.modifier,i=t.deltaY.adjustment*t.deltaY.modifier;return{deltaX:e.deltaX*n,deltaY:e.deltaY*i,initialDeltaX:e.initialDeltaX*n,initialDeltaY:e.initialDeltaY*i}}});M.create=function(e){return W.current.create(e)};var U=M.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:0,modifier:0}}}),V=U.extend({options:{deltaX:{modifier:1}}});W.current.register(w,V);var j=U.extend({options:{deltaX:{modifier:-1}}});W.current.register(S,j);var K=M.extend({options:{deltaX:{adjustment:0,modifier:0},deltaY:{adjustment:1,modifier:1}}}),q=K.extend({options:{deltaY:{modifier:-1}}});W.current.register(C,q);var $=K.extend({options:{deltaY:{modifier:1}}});W.current.register(_,$);var X=M.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:1,modifier:1}}}),Y=X.extend({options:{deltaX:{modifier:1},deltaY:{modifier:-1}}});W.current.register(k,Y);var Q=X.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:-1}}});W.current.register(x,Q);var G=X.extend({options:{deltaX:{modifier:1},deltaY:{modifier:1}}});W.current.register(T,G);var Z=X.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:1}}});W.current.register(N,Z),i(r,{ElementResizeHandle:R})}(window.kendo),function(e,t){var n=window.Math,i=n.min,o=n.max,r=e.jQuery,a=r.contains,s=r.extend,l=e.support.browser,d=e.ui.editor,c=e.Class,u=d.ElementResizeHandle,p=d.ResizingUtils,f=p.calculatePercentageRatio,h=p.constrain,m=p.inPercentages,g=p.inPixels,b=p.toPercentages,v=p.toPixels,y=e._outerWidth,w=e._outerHeight,C=d.RangeUtils,k=".kendoEditorElementResizing",x="k-element-resize-handle-wrapper",_="k-element-resizing",T="dragStart",N="drag",S="dragEnd",R="keydown",A="mousedown",z="select",E="tr",D="tbody",I="thead",P="table",H=["TABLE","IMG"],B="width",F="height";function L(e){return void 0===e}var O=c.extend({init:function(e,t){var n=this;n.options=s({},n.options,t),n.handles=[],H.indexOf(e.nodeName)>=0&&(n.element=e)},destroy:function(){var e=this;r(e.element).off(k),e.element=null,r(e.options.rootElement).off(R+k),e._destroyResizeHandles()},options:{appendHandlesTo:null,rtl:!1,rootElement:null,minWidth:10,minHeight:10,handles:[{direction:"northwest"},{direction:"north"},{direction:"northeast"},{direction:"east"},{direction:"southeast"},{direction:"south"},{direction:"southwest"},{direction:"west"}]},resize:function(e){var t=this,n=s({},{deltaX:0,deltaY:0,initialDeltaX:0,initialDeltaY:0},e);t._resizeWidth(n.deltaX,n.initialDeltaX),t._resizeHeight(n.deltaY,n.initialDeltaY),t.showResizeHandles()},_resizeWidth:function(){return!1},_resizeHeight:function(){return!1},_getMaxDimensionValue:function(t){var n=this,i=r(n.element),o=t.toLowerCase(),a=n.options.rtl?-1:1,s=r(n.element).parent(),l=s[0],d=s[o](),c=a*(t===B?e.scrollLeft(s):s.scrollTop());return l&&l===i.closest("td")[0]?""!==l.style[o]||m(n.element.style[o])?d+c:1/0:d+c},showResizeHandles:function(){this._initResizeHandles(),this._showResizeHandles()},_initResizeHandles:function(){var e,t=this,n=t.handles,i=t.options,o=t.options.handles,r=o.length;if(!(n&&n.length>0)){for(e=0;e<r;e++)t.handles.push(new u(s({appendTo:i.appendHandlesTo,resizableElement:t.element,rootElement:i.rootElement,rtl:i.rtl},o[e])));t._bindToResizeHandlesEvents()}},_destroyResizeHandles:function(){for(var e=this,t=e.handles?e.handles.length:0,n=0;n<t;n++)e.handles[n].destroy();e.handles=[]},_showResizeHandles:function(){var e,t=(this.handles||[]).length;for(e=0;e<t;e++)this.handles[e].show()},_bindToResizeHandlesEvents:function(){return!1},_onResizeHandleDragStart:function(){var e=this,t=r(e.element);t.addClass(_),e._initialElementHeight=w(t),e._initialElementWidth=y(t),e._disableKeyboard()},_onResizeHandleDrag:function(e){this.resize(e)},_onResizeHandleDragEnd:function(){r(this.element).removeClass(_),this._enableKeyboard()},_enableKeyboard:function(){r(this.options.rootElement).off(R+k)},_disableKeyboard:function(){r(this.options.rootElement).on(R+k,(function(e){e.preventDefault()}))}}),W=O.extend({_bindToResizeHandlesEvents:function(){var e,t,n=this,i=n.handles||[],o=i.length;for(e=0;e<o;e++)(t=i[e]).bind(T,n._onResizeHandleDragStart.bind(n)),t.bind(N,n._onResizeHandleDrag.bind(n)),t.bind(S,n._onResizeHandleDragEnd.bind(n))},_hasRowsInPixels:function(){for(var e=r(this.element).children("thead,tbody").children(E),t=0;t<e.length;t++)if(""===e[t].style.height||g(e[t].style.height))return!0;return!1},_resizeWidth:function(e,t){var n,a,s,l,d=this,c=r(d.element),u=c[0].style.width,p=y(c),g=c.parent().width(),w=d._getMaxDimensionValue(B);0!==e&&(L(d._initialElementWidth)&&(d._initialElementWidth=p),l=h({value:d._initialElementWidth+t,min:d.options.minWidth,max:w}),m(u)?(p+e>g?(a=o(l,g),s=i(l,g)):(a=i(l,g),s=o(l,g)),n=b(f(a,s))):n=v(l),d._setColumnsWidth(),c[0].style.width=n)},_resizeHeight:function(e,t){var n,a,s,l,d=this,c=r(d.element),u=c[0].style.height,p=w(c),g=c.parent().height(),y=d._getMaxDimensionValue(F),C=d.options.minHeight,k=d._hasRowsInPixels();0!==e&&(L(d._initialElementHeight)&&(d._initialElementHeight=p),l=h({value:d._initialElementHeight+t,min:C,max:y}),k&&e<0&&d._setRowsHeightInPercentages(),m(u)?(p+e>g?(a=o(l,g),s=i(l,g)):(a=i(l,g),s=o(l,g)),n=b(f(a,s))):n=v(l),c[0].style.height=n,k&&e<0&&d._setRowsHeightInPixels())},_setColumnsWidth:function(){var e,t=r(this.element),n=t.parent()[0],i=t.closest("td"),o=i.closest(E).children(),a=o.length;if(function(e){var t=e.style.width;return""!==t?!!m(t):!!r(e).hasClass("k-table")}(t[0])&&n===i[0]&&""===n.style.width)for(e=0;e<a;e++)o[e].style.width=v(r(o[e]).width())},_setRowsHeightInPercentages:function(){var e,t=this,n=r(t.element).children(I),i=n.length>0?n.height():0,o=r(t.element).children(D).height(),a=r(t.element).children("thead,tbody").children(E),s=a.length,l=a.map((function(){return w(r(this))}));for(e=0;e<s;e++)a[e].style.height=b(f(l[e],i+o))},_setRowsHeightInPixels:function(){var e,t=r(this.element).children("thead,tbody").children(E),n=t.length,i=t.map((function(){return w(r(this))}));for(e=0;e<n;e++)t[e].style.height=v(i[e])}}),M=O.extend({_bindToResizeHandlesEvents:function(){var e,t,n=this,i=n.handles||[],o=i.length;for(e=0;e<o;e++)(t=i[e]).bind(T,n._onResizeHandleDragStart.bind(n)),"north"===t.options.direction||"south"===t.options.direction?t.bind(N,n._onResizeHandleDragVertical.bind(n)):"east"===t.options.direction||"west"===t.options.direction?t.bind(N,n._onResizeHandleDragHorizontal.bind(n)):t.bind(N,n._onResizeHandleDragLocked.bind(n)),t.bind(S,n._onResizeHandleDragEnd.bind(n))},_getDeltas:function(e){return s({},{deltaX:0,deltaY:0,initialDeltaX:0,initialDeltaY:0},e)},_onResizeHandleDragVertical:function(e){var t=this._getDeltas(e);this._resizeHeight(t.deltaY,t.initialDeltaY),this.showResizeHandles()},_onResizeHandleDragHorizontal:function(e){var t=this._getDeltas(e);this._resizeWidth(t.deltaX,t.initialDeltaX),this.showResizeHandles()},_onResizeHandleDragLocked:function(e){var t,n=Math.min(Math.abs(e.initialDeltaX),Math.abs(e.initialDeltaY)),i=this._initialElementWidth,o=this._initialElementHeight;n===e.initialDeltaX||n===-1*e.initialDeltaX?(e.initialDeltaY=e.initialDeltaX*o/i,e.deltaY=e.deltaX):n!==e.initialDeltaY&&n!==-1*e.initialDeltaY||(e.initialDeltaX=e.initialDeltaY*i/o,e.deltaX=e.deltaY),t=this._getDeltas(e),this._resizeWidth(t.deltaX,t.initialDeltaX),this._resizeHeight(t.deltaY,t.initialDeltaY),this.showResizeHandles()},_resizeWidth:function(e,t){var n,i,o=this,a=r(o.element),s=y(a);0!==e&&(L(o._initialElementWidth)&&(o._initialElementWidth=s),i=h({value:o._initialElementWidth+t,min:o.options.minWidth,max:o._getMaxDimensionValue(B)}),n=v(i),a[0].style.width=n,a.attr(B,Math.floor(i)))},_resizeHeight:function(e,t){var n,i,o=this,a=r(o.element),s=w(a);0!==e&&(L(o._initialElementHeight)&&(o._initialElementHeight=s),i=h({value:o._initialElementHeight+t,min:o.options.minHeight,max:Number.MAX_SAFE_INTEGER}),n=v(i),a[0].style.height=n,a.attr(F,Math.floor(i)))}}),U=c.extend({create:function(e){var t=this;r(e.body).on("dragstart"+k,(function(){var t=C.nodes(e.getRange()),n=!1;t.forEach((function(e){"IMG"===e.nodeName&&(n=!0)})),n&&t.length>1&&e.elementResizing._destroyResizeHandles()})).on("drop"+k,(function(){setTimeout((function(){var t=C.image(e.getRange());t&&(e.elementResizing._destroyResizeHandles(),e.elementResizing.element=t,e.elementResizing.showResizeHandles())}))})).on(A+k,"table,img",(function(n){var i=n.target,o=n.currentTarget,r=e.elementResizing,s=r?r.element:null;if(r){if(s&&o!==s){if(a(o,s)&&s!==i&&a(s,i))return;s!==i&&(e._destroyElementResizing(),t._initResizing(e,o))}}else t._initResizing(e,o);e._showElementResizeHandles()})).on(A+k,(function(t){var n=e.elementResizing,i=n?n.element:null,o=t.target,s=r(o).hasClass(x)||r(o).parents("."+x).length>0;!n||i===o||a(i,o)||s||e._destroyElementResizing()}))},dispose:function(e){r(e.body).off(k)},_initResizing:function(t,n){l.msie||(r(n).is(P)?t.elementResizing=t.tableResizing=new W(n,{appendHandlesTo:t.body,rtl:e.support.isRtl(t.element),rootElement:t.body}):r(n).is("img")&&(t.elementResizing=new M(n,{appendHandlesTo:t.body,rtl:e.support.isRtl(t.element),rootElement:t.body})),t._showElementResizeHandlesProxy&&(t.unbind(z,t._showElementResizeHandlesProxy),t.bind(z,t._showElementResizeHandlesProxy)))}});U.current=new U,s(d,{TableResizing:W,ImageResizing:M,ElementResizing:O,ElementResizingFactory:U})}(window.kendo),function(e,t){var n=window.kendo,i=n.ui.editor,o=i.EditorUtils,r=i.RangeUtils,a=i.Dom,s=o.registerTool,l=i.Command,d=new i.BlockFormatFinder([{tags:["table"]}]),c=new i.BlockFormatFinder([{tags:["td","th"]}]),u=/([a-z]+|%)$/i,p="scope",f="col-index",h="th",m="td",g=l.extend({exec:function(){var e=this,o=e.editor,r=e.range=e.lockRange(),a=e.options.tableCellWizard,s=e._sourceTable=e.options.insertNewTable?t:e._selectedTable(r),l=e._selectedTableCells=s?e._selectedCells(r):t,d={visible:!1,messages:o.options.messages,closeCallback:e.onDialogClose.bind(e),table:e.parseTable(s,l),dialogOptions:o.options.dialogOptions,isRtl:n.support.isRtl(o.wrapper)};new i.TableWizardDialog(d).open(a)},onDialogClose:function(e){var t=this;t.releaseRange(t.range),e&&(t.options.insertNewTable?t.insertTable(t.createNewTable(e)):t.updateTable(e,t._sourceTable,t._selectedTableCells))},releaseRange:function(e){var t=this.editor.document;a.windowFromDocument(t).focus(),l.fn.releaseRange.call(this,e)},insertTable:function(e){var t=this.range;t.insertNode(e),t.collapse(!0),this.editor.selectRange(t),this._ensureFocusableAfterTable(e)},_ensureFocusableAfterTable:function(t){for(var n=e(t).parent().contents(),i=n.length-1,o=n.get(i);null!==o.nodeValue&&(" "===o.nodeValue||""===o.nodeValue);)i-=1,o=n.get(i);o===t&&a.insertAfter(a.createEmptyNode(this.editor.document,"p"),t)},updateTable:function(t,n,i){for(var o,r,s=this,l=e(n.rows).toArray(),d=t.tableProperties,c=d.rows,u=n.tHead,p=s._lastInCollection;i.length>1;)i.pop();o=i.length?p(i).parentNode:p(l),s._deleteTableRows(l,l.length-c),l.length<c&&s._addRows(o,c,l),a.reMapTableColumns(n,f),s._updateColumns(l,d.columns,i,o),s._updateTableProperties(n,d),r=t.cellProperties,i[0]&&a.attr(i[0],{id:(r||{}).id||null}),r&&(r.selectAllCells?e(l).children():e(i)).each((function(e,t){s._updateCellProperties(t,r)})),s._updateCaption(n,d),u?s._updateHeadersWithThead(n,t):s._updateHeadersNoThead(n,t),s._updateHeaderAssociates(n,d),a.clearTableMappings(n,f)},_isHeadingRow:function(e){return a.is(e.cells[0],h)&&a.is(e.parentNode,"thead")},_isHeadingCell:function(e){return a.is(e,h)},cellsWithHeadersAssociated:function(t){var n=e(t.rows).children(),i=[],o=function(e){return i.indexOf(e)>-1};return n.each((function(e,t){t.id&&a.is(t,h)&&i.push(t.id)})),!!n.filter((function(e,t){var n,i=t.getAttribute("headers");return!!(i&&!a.is(t,h)&&(n=i.split(" "))&&n.length>0)&&n.some(o)})).length},_insertCells:function(e,t,n){n=isNaN(n)?-1:n;for(var i=0;i<e;i++)t.insertCell(n).innerHTML="&nbsp;"},_deleteTableRows:function(e,t){for(var n,i,o=0;o<t;o++)(i=(n=e.pop()).parentNode).removeChild(n),i.rows.length||a.remove(i)},createNewTable:function(e){var t,n=this,i=n.editor.document,o=e.tableProperties,r=a.create(i,"table"),s=0;n._updateTableProperties(r,o),n._updateCaption(r,o),o.headerRows&&o.headerRows>0&&(t=r.createTHead(),n._createTableRows(e,t,s,!0),s+=o.headerRows);var l=r.createTBody();return n._createTableRows(e,l,s,!1),a.reMapTableColumns(r,f),"ids"===o.cellsWithHeaders?a.associateWithIds(r):"scope"===o.cellsWithHeaders&&n._addScopes(r,o.headerRows,o.headerColumns),a.clearTableMappings(r,f),r},_createTableRows:function(e,t,n,i){for(var o,r=e.tableProperties,a=e.cellProperties,s=r.columns,l=i?r.headerRows:r.rows,d=r.headerColumns,c=n;c<l;c++){o=t.insertRow();for(var u,p=0;p<s;p++)u=i||d>p?document.createElement(h):document.createElement(m),o.appendChild(u),u.innerHTML="&nbsp;",a&&0===c&&0===p&&a.id&&(u.id=a.id),this._updateCellProperties(u,a&&(a.selectAllCells||0===c&&0===p)?a:{})}},_addRows:function(t,n,i){for(var o,r=e(t).index(),a=t.cells.length,s=n-i.length,l=t.parentNode;s;)o=l.insertRow(r+1),this._insertCells(a-o.cells.length,o),s--},_updateColumns:function(t,n,i,o){var r=this,a=r._lastInCollection,s=a(t[0].cells),l=Number(s.getAttribute(f))+s.colSpan;if(l>n&&e(t).each((function(e,t){for(var i=a(t.cells),o=Number(i.getAttribute(f))+i.colSpan;o>n;)i.colSpan&&i.colSpan>1?i.colSpan-=1:t.deleteCell(-1),i=a(t.cells),o=Number(i.getAttribute(f))+i.colSpan})),l<n){var d=e(a(i)||a(o.cells)).index();e(t).each((function(e,t){var i=a(t.cells);r._insertCells(n-Number(i.getAttribute(f))-i.colSpan,t,d+1)}))}},_updateTableProperties:function(t,n){var i=this._getStylesData(n);a.attr(t,{cellSpacing:n.cellSpacing||null,cellPadding:n.cellPadding||null,className:n.className||null,id:n.id||null,summary:n.summary||null,style:i||null}),e(t).addClass("k-table")},_updateCellProperties:function(e,t){var n=this._getStylesData(t);n.padding=t.cellPadding||null,n.margin=t.cellMargin||null,a.attr(e,{style:n||null,className:t.className||null})},_updateCaption:function(e,t){if(e.caption&&!t.captionContent)e.deleteCaption();else if(t.captionContent){var n=e.createCaption();n.innerHTML=t.captionContent;var i=this._getAlignmentData(t.captionAlignment);a.attr(n,{style:{textAlign:i.textAlign,verticalAlign:i.verticalAlign}})}},_updateHeadersNoThead:function(e,t){var n,i,o,r,s=t.tableProperties,l=e.rows;for(o=0;o<l.length;o++)for(n=l[o].cells,r=0;r<n.length;r++)i=n[r],!this._isHeadingCell(i)&&(o<s.headerRows||s.headerColumns>i.getAttribute(f))?a.changeTag(i,h,!1):this._isHeadingCell(i)&&o>=s.headerRows&&s.headerColumns<=i.getAttribute(f)&&a.changeTag(i,m,!1)},_updateHeadersWithThead:function(e,t){var n,i,o,r=this,s=t.tableProperties,l=e.tHead,d=0,c=e.tBodies[0];if(c||(c=e.createTBody()),s.headerRows&&s.headerRows>0){for(l||(l=e.createTHead());l.rows.length<s.headerRows;)l.appendChild(c.rows[0]);for(;l.rows.length>s.headerRows;)c.appendChild(l.rows[0]);r._swapToHeaderCells(l)}else if(l){for(;l.rows.length>0;)c.appendChild(l.rows[l.rows.length-1]);e.deleteTHead()}for(;c.rows.length>d;){for(n=c.rows[d],o=0;o<n.cells.length;o++)i=n.cells[o],r._isHeadingCell(i)&&s.headerColumns<=i.getAttribute(f)?a.changeTag(i,m,!1):!r._isHeadingCell(i)&&s.headerColumns>i.getAttribute(f)&&a.changeTag(i,h,!1);d+=1}},_updateHeaderAssociates:function(e,t){var n=this;"ids"===t.cellsWithHeaders?(n.cellsWithHeadersAssociated(e)||n._removeScopes(e),a.associateWithIds(e)):"scope"===t.cellsWithHeaders?(n.cellsWithHeadersAssociated(e)&&n._removeAssociates(e),n._addScopes(e,t.headerRows,t.headerColumns)):n.cellsWithHeadersAssociated(e)?n._removeAssociates(e):n._removeScopes(e)},_addScopes:function(e,t,n){var i,o,r,a,s=e.rows;for(i=0;i<s.length;i++)for(r=s[i],o=0;o<r.cells.length;o++)a=r.cells[o],i<t?a.setAttribute(p,"col"):a.getAttribute(f)<n&&a.setAttribute(p,"row")},_removeScopes:function(t){e(t).find(h).removeAttr(p),e(t).find("col").remove(),e(t).find("colgroup").remove()},_removeAssociates:function(t){e(t).find("th, td").removeAttr("id headers")},_swapToHeaderCells:function(t){e(t).find("td").each((function(e,t){a.changeTag(t,h,!1)}))},_getStylesData:function(t){var n=this._getAlignmentData(t.alignment),i="wrapText"in t?t.wrapText?"":"nowrap":null;return e.extend({width:t.width?t.width+t.widthUnit:null,height:t.height?t.height+t.heightUnit:null,textAlign:n.textAlign,verticalAlign:n.verticalAlign,backgroundColor:t.bgColor||"",borderWidth:t.borderWidth,borderStyle:t.borderStyle,borderColor:t.borderColor||"",borderCollapse:t.collapseBorders?"collapse":null,whiteSpace:i},this._getTablePositionData(t.position))},_getAlignmentData:function(e){var t="",n=t;if(e)if(-1!=e.indexOf(" ")){var i=e.split(" ");t=i[0],n=i[1]}else t=e;return{textAlign:t,verticalAlign:n}},_getTablePositionData:function(e){return e?{marginLeft:"left"!=e?"auto":"",marginRight:"right"!=e?"auto":""}:{}},parseTable:function(n,i){if(!n)return{tableProperties:{},selectedCells:[]};var o=this,r=n.style,s=n.rows,l=n.caption,d=e(l?l.cloneNode(!0):t);d.find(".k-marker").remove();var c=n.className;c=(c=(c=c.replace(/^k-table\s|\sk-table$/,"")).replace(/\sk-table\s/," ")).replace(/^k-table$/,"");var u,p=o._getAlignment(n,!0),h=o._getTablePosition(n),m=l?o._getAlignment(l):t,g=a._getNumberOfHeaderRows(n);u=o.cellsWithHeadersAssociated(n)?"ids":e(n).find("th[scope]").length>0?"scope":"none",a.reMapTableColumns(n,f);var b=a._getNumberOfColumns(n),v=a._getNumberOfHeaderColumns(n,g);a.clearTableMappings(n,f);var y={tableProperties:{width:r.width||n.width?parseFloat(r.width||n.width):null,height:r.height||n.height?parseFloat(r.height||n.height):null,columns:b,rows:s.length,widthUnit:o._getUnit(r.width),heightUnit:o._getUnit(r.height),cellSpacing:n.cellSpacing,cellPadding:n.cellPadding,alignment:p.textAlign,position:h,bgColor:r.backgroundColor||n.bgColor,className:c,id:n.id,borderWidth:r.borderWidth||n.border,borderColor:r.borderColor,borderStyle:r.borderStyle||"",collapseBorders:!!r.borderCollapse,summary:n.summary,captionContent:l?d.html():"",captionAlignment:l&&m.textAlign?m.textAlign+" "+m.verticalAlign:"",headerRows:g,headerColumns:v,cellsWithHeaders:u},selectedCells:[]};return y.rows=o.parseTableRows(s,i,y),y},parseTableRows:function(t,n,i){for(var o,r,a,s,l=[],d=0;d<t.length;d++){o={cells:[]},r=t[d].cells,l.push(o);for(var c=0;c<r.length;c++)a=r[c],s=this.parseCell(a),-1!=e.inArray(a,n)&&i.selectedCells.push(s),o.cells.push(s)}return l},parseCell:function(e){var t=this,n=e.style,i=t._getAlignment(e);return i=i.textAlign?i.textAlign+" "+i.verticalAlign:"",{width:n.width||e.width?parseFloat(n.width||e.width):null,height:n.height||e.height?parseFloat(n.height||e.height):null,widthUnit:t._getUnit(n.width),heightUnit:t._getUnit(n.height),cellMargin:n.margin,cellPadding:n.padding,alignment:i,bgColor:n.backgroundColor||e.bgColor,className:e.className,id:e.id,borderWidth:n.borderWidth||e.border,borderColor:n.borderColor,borderStyle:n.borderStyle,wrapText:"nowrap"!=n.whiteSpace}},_getTablePosition:function(e){var t=e.style;return"auto"==t.marginLeft&&"auto"==t.marginRight?"center":"auto"==t.marginLeft?"right":"left"},_getAlignment:function(e,t){var n=e.style,i=n.textAlign||e.align||"";if(t)return{textAlign:i};var o=n.verticalAlign||e.vAlign||"";return i&&o?{textAlign:i,verticalAlign:o}:!i&&o?{textAlign:"left",verticalAlign:o}:i&&!o?{textAlign:i,verticalAlign:"top"}:{textAlign:"",verticalAlign:""}},_getUnit:function(e){var t=(e||"").match(u);return t?t[0]:"px"},_selectedTable:function(e){var t=a.filterBy(r.nodes(e),a.htmlIndentSpace,!0);return d.findSuitable(t)[0]},_selectedCells:function(e){var t=a.filterBy(r.nodes(e),a.htmlIndentSpace,!0);return c.findSuitable(t)},_lastInCollection:function(e){return e[e.length-1]}}),b=i.Tool.extend({command:function(e){return e.insertNewTable=this.options.insertNewTable,e.tableCellWizard=!!this.options.tableCellWizard,new g(e)}}),v=b.extend({update:function(e,t){var n=!d.isFormatted(t),i=e.closest(".k-toolbar").getKendoToolBar();!0===n?i.hide(e):i.show(e)}}),y=b.extend({update:function(e,t){var n=!d.isFormatted(t),i=e.closest(".k-toolbar").getKendoToolBar();!0===n?i.hide(e):i.show(e)}});n.ui.editor.TableWizardTool=b,n.ui.editor.TableWizardCommand=g,s("tableProperties",new v({command:g,insertNewTable:!1,property:"tableProperties"})),s("tableCellProperties",new y({command:g,tableCellWizard:!0,insertNewTable:!1,property:"tableCellProperties"}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.htmlEncode,o={format:"0",min:0},r=["px","em"],a=["solid","dotted","dashed","double","groove","ridge","inset","outset","initial","inherit","none","hidden"],s={dataSource:[{className:"text-wrap",value:"wrap"},{className:"parameter-string",value:"nowrap"}],dataTextField:"className",dataValueField:"value",template:function(t){var o=t.className,r=t.tooltip;return n.ui.icon(e('<span title="'+i(r)+'"></span>'),{icon:i(o)})+i(r)},valueTemplate:function(t){var o=t.className,r=t.tooltip;return n.ui.icon(e('<span title="'+i(r)+'"></span>'),{icon:i(o),iconClass:"k-text-wrap"})+i(r)}},l={dataSource:[{className:"table-position-start",value:"left"},{className:"table-position-center",value:"center"},{className:"table-position-end",value:"right"}],dataTextField:"className",dataValueField:"value",template:function(t){var o=t.className,r=t.tooltip;return n.ui.icon(e('<span title="'+i(r)+'"></span>'),{icon:i(o)})+i(r)},valueTemplate:function(t){var o=t.className,r=t.tooltip;return n.ui.icon(e('<span title="'+i(r)+'"></span>'),{icon:i(o),iconClass:"k-align-group"})+i(r)}},d={dataSource:[{className:"table-align-middle-left",value:"left"},{className:"table-align-middle-center",value:"center"},{className:"table-align-middle-right",value:"right"},{className:"align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:function(t){var o=t.className,r=t.tooltip;return n.ui.icon(e('<span title="'+i(r)+'"></span>'),{icon:i(o)})+i(r)},valueTemplate:function(t){var o=t.className,r=t.tooltip;return n.ui.icon(e('<span title="'+i(r)+'"></span>'),{icon:i(o),iconClass:"k-align-group"})+i(r)}},c={dataSource:[{className:"table-align-top-left",value:"left top"},{className:"table-align-top-center",value:"center top"},{className:"table-align-top-right",value:"right top"},{className:"table-align-middle-left",value:"left middle"},{className:"table-align-middle-center",value:"center middle"},{className:"table-align-middle-right",value:"right middle"},{className:"table-align-bottom-left",value:"left bottom"},{className:"table-align-bottom-center",value:"center bottom"},{className:"table-align-bottom-right",value:"right bottom"},{className:"align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:function(t){var o=t.className,r=t.tooltip;return n.ui.icon(e('<span title="'+i(r)+'"></span>'),{icon:i(o)})+i(r)},valueTemplate:function(t){var o=t.className,r=t.tooltip;return n.ui.icon(e('<span title="'+i(r)+'"></span>'),{icon:i(o),iconClass:"k-align-group"})+i(r)}},u={dataSource:[{className:"table-align-top-left",value:"left top"},{className:"table-align-top-center",value:"center top"},{className:"table-align-top-right",value:"right top"},{className:"table-align-bottom-left",value:"left bottom"},{className:"table-align-bottom-center",value:"center bottom"},{className:"table-align-bottom-right",value:"right bottom"},{className:"align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:function(t){var o=t.className,r=t.tooltip;return n.ui.icon(e('<span title="'+i(r)+'"></span>'),{icon:i(o)})},valueTemplate:function(t){var o=t.className,r=t.tooltip;return n.ui.icon(e('<span title="'+i(r)+'"></span>'),{icon:i(o),iconClass:"k-align-group"})}},p=function(e){var t=e.messages;return'<div class="k-editor-dialog k-editor-table-wizard-window k-action-window k-popup-edit-form"><div id="k-table-wizard-tabs" class="k-root-tabs"><ul><li class="k-active">'+t.tableTab+"</li><li>"+t.accessibilityTab+'</li></ul><div id="k-table-properties"></div><div id="k-accessibility-properties"></div></div><div class="k-actions k-actions-start k-actions-horizontal k-window-buttons">'+n.html.renderButton('<button class="k-dialog-ok"><span class="k-button-text">'+t.dialogOk+"</span></button>",{icon:"check",themeColor:"primary"})+n.html.renderButton('<button class="k-dialog-close"><span class="k-button-text">'+t.dialogCancel+"</span></button>",{icon:"cancel-outline"})+"</div></div>"},f=function(e){var t=e.messages;return'<div class="k-editor-dialog k-editor-table-wizard-window k-action-window k-popup-edit-form"><div id="k-cell-properties"></div><div class="k-actions k-actions-start k-actions-horizontal k-window-buttons">'+n.html.renderButton('<button class="k-dialog-ok"><span class="k-button-text">'+t.dialogOk+"</span></button>",{icon:"check",themeColor:"primary"})+n.html.renderButton('<button class="k-dialog-close"><span class="k-button-text">'+t.dialogCancel+"</span></button>",{icon:"cancel-outline"})+"</div></div>"},h=n.Class.extend({init:function(e){this.options=e},_openTablePropertiesDialog:function(){var t,i=this,o=i.options,r=o.dialogOptions,a=o.table,s=o.messages,l=n.support.browser.msie;function d(e){e.preventDefault(),i.destroy(),t.destroy()}function c(e){d(e),o.closeCallback()}r.close=c,r.minWidth=400,r.title=s.tableProperties,r.visible=o.visible;var u=(t=e(i._dialogTemplate(s)).appendTo(document.body).kendoWindow(r).addClass("k-editor-window").closest(".k-window").toggleClass("k-rtl",o.isRtl).end().find(".k-dialog-ok").on("click",(function(e){i.collectTableDialogValues(a),d(e),i.change&&i.change(),o.closeCallback(a)})).end().find(".k-dialog-close").on("click",c).end().data("kendoWindow")).element;if(this.components={},i._initTabStripComponent(u),i._tablePropertiesForm=i._createTablePropertiesForm(t,s),i._accessibilityPropertiesForm=i._createAccessibilityPropertiesForm(t,s),t.center(),t.open(),l){var p=u.closest(".k-window").height();u.css("max-height",p)}},_openCellPropertiesDialog:function(){var t,i=this,o=i.options,r=o.dialogOptions,a=o.table,s=o.messages,l=n.support.browser.msie;function d(e){e.preventDefault(),i.destroy(),t.destroy()}function c(e){d(e),o.closeCallback()}r.close=c,r.minWidth=400,r.title=s.tableCellProperties,r.visible=o.visible;var u=(t=e(i._dialogTemplate(s,f)).appendTo(document.body).kendoWindow(r).addClass("k-editor-window").closest(".k-window").toggleClass("k-rtl",o.isRtl).end().find(".k-dialog-ok").on("click",(function(e){i.collectCellDialogValues(a),d(e),i.change&&i.change(),o.closeCallback(a)})).end().find(".k-dialog-close").on("click",c).end().data("kendoWindow")).element;if(i._cellPropertiesForm=i._createCellPropertiesForm(t,s),t.center(),t.open(),l){var p=u.closest(".k-window").height();u.css("max-height",p)}},open:function(e){e?this._openCellPropertiesDialog():this._openTablePropertiesDialog()},_initTabStripComponent:function(e){(this.components={}).tabStrip=e.find("#k-table-wizard-tabs").kendoTabStrip({animation:!1}).data("kendoTabStrip")},collectTableDialogValues:function(){var e=this,t=e.options.table;e._collectTableViewValues(t),e._collectAccessibilityViewValues(t)},collectCellDialogValues:function(){var e=this.options.table;this._collectCellViewValues(e)},_collectTableViewValues:function(e){var t=this.components.tableView,n=e.tableProperties,i=e.cellProperties=e.cellProperties||{};n.width=t.width.value(),n.widthUnit=t.widthUnit.value(),n.height=t.height.value(),n.columns=t.columns.value(),n.rows=t.rows.value(),n.heightUnit=t.heightUnit.value(),n.cellSpacing=t.cellSpacing.value(),n.cellPadding=t.cellPadding.value(),n.alignment=t.alignment.value(),n.position=t.position.value(),n.bgColor=t.bgColor.value(),n.borderWidth=t.borderWidth.value(),n.borderColor=t.borderColor.value(),n.borderStyle=t.borderStyle.value(),n.collapseBorders=t.collapseBorders.check(),i.width||(i.selectAllCells=!0,i.width=100/e.tableProperties.columns,i.widthUnit="%")},_collectCellViewValues:function(e){var t=e.cellProperties=e.cellProperties||{},n=this.components.cellView;t.selectAllCells=n.selectAllCells.check(),t.width=n.width.value(),t.widthUnit=n.widthUnit.value(),t.height=n.height.value(),t.heightUnit=n.heightUnit.value(),t.cellMargin=n.cellMargin.value(),t.cellPadding=n.cellPadding.value(),t.alignment=n.alignment.value(),t.bgColor=n.bgColor.value(),t.className=n.className.value(),t.id=n.id.value(),t.borderWidth=n.borderWidth.value(),t.borderColor=n.borderColor.value(),t.borderStyle=n.borderStyle.value(),t.wrapText="wrap"==n.wrapTextValue.value(),t.width||(t.selectAllCells=!0,t.width=100/e.tableProperties.columns,t.widthUnit="%")},_collectAccessibilityViewValues:function(e){var t=e.tableProperties,n=this.components.accessibilityView;t.captionContent=n.captionContent.value(),t.captionAlignment=n.captionAlignment.value(),t.summary=n.summary.value(),t.cellsWithHeaders=n.cellsWithHeaders.value(),t.className=n.className.value(),t.id=n.id.value(),t.headerRows=n.headerRows.value(),t.headerColumns=n.headerColumns.value()},_addUnit:function(t,n){n&&-1==e.inArray(n,t)&&t.push(n)},_initNumericTextbox:function(t,n,i,r,a){var s=r[n]=t.kendoNumericTextBox(a?e.extend({},o,a):o).data("kendoNumericTextBox");n in i&&s.value(parseInt(i[n],10))},_initDropDownList:function(e,t,n,i,o){var r=i[t]=e.kendoDropDownList({dataSource:o}).data("kendoDropDownList");this._setComponentValue(r,n,t)},_initBorderStyleDropDown:function(e,t,n,i,o){var r=i[t]=e.kendoDropDownList({dataSource:o,optionLabel:this.options.messages.borderNone}).data("kendoDropDownList");this._setComponentValue(r,n,t)},_initTablePositionDropDown:function(e,t){var n=this.options.messages,i=this.components.tableView,o=l.dataSource;o[0].tooltip=n.tableAlignLeft,o[1].tooltip=n.tableAlignCenter,o[2].tooltip=n.tableAlignRight,this._initPositionDropDown(e,l,"position",t,i)},_initTableAlignmentDropDown:function(e,t){var n=this.options.messages,i=this.components.tableView,o=d.dataSource;o[0].tooltip=n.alignLeft,o[1].tooltip=n.alignCenter,o[2].tooltip=n.alignRight,o[3].tooltip=n.alignRemove,this._initAlignmentDropDown(e,d,"alignment",t,i)},_initCellAlignmentDropDown:function(e,t){var n=this.options.messages,i=this.components.cellView,o=c.dataSource;o[0].tooltip=n.alignLeftTop,o[1].tooltip=n.alignCenterTop,o[2].tooltip=n.alignRightTop,o[3].tooltip=n.alignLeftMiddle,o[4].tooltip=n.alignCenterMiddle,o[5].tooltip=n.alignRightMiddle,o[6].tooltip=n.alignLeftBottom,o[7].tooltip=n.alignCenterBottom,o[8].tooltip=n.alignRightBottom,o[9].tooltip=n.alignRemove,this._initAlignmentDropDown(e,c,"alignment",t,i)},_initAccessibilityAlignmentDropDown:function(e,t){var n=this.options.messages,i=this.components.accessibilityView,o=u.dataSource;o[0].tooltip=n.alignLeftTop,o[1].tooltip=n.alignCenterTop,o[2].tooltip=n.alignRightTop,o[3].tooltip=n.alignLeftBottom,o[4].tooltip=n.alignCenterBottom,o[5].tooltip=n.alignRightBottom,o[6].tooltip=n.alignRemove,this._initAlignmentDropDown(e,u,"captionAlignment",t,i)},_initTextWrapDropDown:function(e,t){var n=this.options.messages,i="wrapTextValue";t.wrapTextValue=t.wrapText?"wrap":"nowrap";var o=this.components.cellView,r=s.dataSource;r[0].tooltip=n.wrapText,r[1].tooltip=n.fitToCell;var a=o[i]=e.kendoDropDownList(s).data("kendoDropDownList");a.list.addClass("k-text-wrap"),this._setComponentValue(a,t,i)},_initPositionDropDown:function(e,t,n,i,o){var r=o[n]=e.kendoDropDownList(t).data("kendoDropDownList");r.list.addClass("k-position"),this._setComponentValue(r,i,n)},_initAlignmentDropDown:function(e,t,n,i,o){var r=o[n]=e.kendoDropDownList(t).data("kendoDropDownList");r.list.addClass("k-align"),this._setComponentValue(r,i,n)},_initAssociationDropDown:function(e,t,n,i,o){var r=o[t]=e.kendoDropDownList(n).data("kendoDropDownList");this._setComponentValue(r,i,t)},_setComponentValue:function(e,t,n){n in t&&e.value(t[n])},_initColorPicker:function(e,t,n,i){var o=i[t]=e.kendoColorPicker({buttons:!1,clearButton:!0}).data("kendoColorPicker");n[t]&&o.value(n[t])},_initInput:function(e,t,n,i,o){var r=i[t]=e.kendoTextBox(o||{}).data("kendoTextBox");t in n&&r.value(n[t])},_initCheckbox:function(e,t,n,i,o){var r=i[t]=e.kendoCheckBox(o||{}).data("kendoCheckBox");t in n&&r.check(n[t])},_initTextArea:function(e,t,n,i,o){var r=i[t]=e.kendoTextArea(o||{}).data("kendoTextArea");t in n&&r.value(n[t])},destroy:function(){this._destroyComponents(this.components),delete this.components},_destroyComponents:function(e){for(var t in e)e[t].destroy&&e[t].destroy(),delete e[t]},_dialogTemplate:function(e,t){return n.template(t||p)({messages:e})},_onColumnsNumberChange:function(e){var t=this.components.accessibilityView.headerColumns,n=t.value(),i=e.sender.value();i<n&&t.value(i),t.max(i)},_onRowsNumberChange:function(e){var t=this.components.accessibilityView.headerRows,n=t.value(),i=e.sender.value();i<n&&t.value(i),t.max(i)},_createTablePropertiesForm:function(t,n){var o,s=this,l=s.options.table,d=t.element.find("#k-table-properties"),c=s.components.tableView={},u=l.tableProperties=l.tableProperties||{};return s._addUnit(r,u.widthUnit),s._addUnit(r,u.heightUnit),u.borderStyle=u.borderStyle||"",(o=d.kendoForm({renderButtons:!1,layout:"grid",grid:{cols:4},items:[{colSpan:2,field:"k-editor-table-columns",label:i(n.columns),editor:function(t,n){s._initNumericTextbox(e('<input type="numeric" id="k-editor-table-columns" />').appendTo(t),"columns",u,c,{min:1,value:4,change:s._onColumnsNumberChange.bind(s)})}},{colSpan:2,field:"k-editor-table-rows",label:i(n.rows),editor:function(t,n){s._initNumericTextbox(e('<input type="numeric" id="k-editor-table-rows" />').appendTo(t),"rows",u,c,{min:1,value:4,change:s._onRowsNumberChange.bind(s)})}},{colSpan:1,field:"k-editor-table-width",label:i(n.width),editor:function(t,o){s._initNumericTextbox(e('<input id="k-editor-table-width" />').appendTo(t),"width",u,c,{placeholder:i(n.auto)})}},{colSpan:1,field:"k-editor-table-width-type",label:{encoded:!1,text:"&nbsp;"},editor:function(t,i){s._initDropDownList(e('<input id="k-editor-table-width-type" aria-label="'+n.units+'" />').appendTo(t),"widthUnit",u,c,r)}},{colSpan:1,field:"k-editor-table-height",label:i(n.height),editor:function(t,o){s._initNumericTextbox(e('<input id="k-editor-table-height" />').appendTo(t),"height",u,c,{placeholder:i(n.auto)})}},{colSpan:1,field:"k-editor-table-height-type",label:{encoded:!1,text:"&nbsp;"},editor:function(t,i){s._initDropDownList(e('<input id="k-editor-table-height-type" aria-label="'+n.units+'" />').appendTo(t),"heightUnit",u,c,r)}},{colSpan:2,field:"k-editor-table-position",label:i(n.position),editor:function(t,n){s._initTablePositionDropDown(e('<input id="k-editor-table-position" class="k-position" />').appendTo(t),u)}},{colSpan:2,field:"k-editor-table-alignment",label:i(n.alignment),editor:function(t,n){s._initTableAlignmentDropDown(e('<input id="k-editor-table-alignment" class="k-align" />').appendTo(t),u)}},{colSpan:2,field:"k-editor-table-cell-spacing",label:i(n.cellSpacing),editor:function(t,o){s._initNumericTextbox(e('<input id="k-editor-table-cell-spacing" />').appendTo(t),"cellSpacing",u,c,{placeholder:i(n.auto)})}},{colSpan:2,field:"k-editor-table-cell-padding",label:i(n.cellPadding),editor:function(t,o){s._initNumericTextbox(e('<input id="k-editor-table-cell-padding" />').appendTo(t),"cellPadding",u,c,{placeholder:i(n.auto)})}},{colSpan:"full",field:"k-editor-table-bg",label:i(n.tableBackground),editor:function(t,n){s._initColorPicker(e('<input id="k-editor-table-bg" />').appendTo(t),"bgColor",u,c)}},{colSpan:1,field:"k-editor-border-width",label:i(n.borderWidth),editor:function(t,n){s._initNumericTextbox(e('<input id="k-editor-border-width" />').appendTo(t),"borderWidth",u,c)}},{colSpan:1,field:"k-editor-border-color",label:i(n.borderColor),editor:function(t,n){s._initColorPicker(e('<input id="k-editor-border-color" />').appendTo(t),"borderColor",u,c)}},{colSpan:2,field:"k-editor-border-style",label:i(n.borderStyle),editor:function(t,n){s._initBorderStyleDropDown(e('<input id="k-editor-border-style" />').appendTo(t),"borderStyle",u,c,a)}},{colSpan:"full",field:"k-editor-collapse-borders",label:"",editor:function(t,o){s._initCheckbox(e('<input id="k-editor-collapse-borders"/>').appendTo(t),"collapseBorders",u,c,{label:i(n.collapseBorders)})}}]}).data("kendoForm")).layoutWrapper.addClass("k-gap-x-4"),o},_createCellPropertiesForm:function(t,n){var o,s=this,l=s.options.table,d=t.element.find("#k-cell-properties"),c=(s.components=s.components||{}).cellView={},u=l.selectedCells&&l.selectedCells[0]||{borderStyle:"",wrapText:!0};return s._addUnit(r,u.widthUnit),s._addUnit(r,u.heightUnit),(o=d.kendoForm({renderButtons:!1,layout:"grid",grid:{cols:4},items:[{colSpan:"full",field:"k-editor-selectAllCells",label:"",editor:function(t,o){s._initCheckbox(e('<input id="k-editor-selectAllCells" />').appendTo(t),"selectAllCells",l.tableProperties,c,{label:i(n.selectAllCells)})}},{colSpan:1,field:"k-editor-cell-width",label:i(n.width),hint:i(n.applyToColumn),editor:function(t,o){s._initNumericTextbox(e('<input id="k-editor-cell-width" />').appendTo(t),"width",u,c,{placeholder:i(n.auto)})}},{colSpan:1,field:"k-editor-cell-width-type",label:{encoded:!1,text:"&nbsp;"},editor:function(t,i){s._initDropDownList(e('<input id="k-editor-cell-width-type" aria-label="'+n.units+'" />').appendTo(t),"widthUnit",u,c,r)}},{colSpan:1,field:"k-editor-cell-height",label:i(n.height),hint:i(n.applyToRow),editor:function(t,o){s._initNumericTextbox(e('<input id="k-editor-cell-height" />').appendTo(t),"height",u,c,{placeholder:i(n.auto)})}},{colSpan:1,field:"k-editor-cell-height-type",label:{encoded:!1,text:"&nbsp;"},editor:function(t,i){s._initDropDownList(e('<input id="k-editor-cell-height-type" aria-label="'+n.units+'" />').appendTo(t),"heightUnit",u,c,r)}},{colSpan:2,field:"k-editor-cell-alignment",label:i(n.alignment),editor:function(t,n){s._initCellAlignmentDropDown(e('<input id="k-editor-cell-alignment" class="k-align" />').appendTo(t),u)}},{colSpan:2,field:"k-editor-wrap-text",label:"Text control",editor:function(t,n){s._initTextWrapDropDown(e('<input id="k-editor-wrap-text" />').appendTo(t),u)}},{colSpan:"full",field:"k-editor-cell-bg",label:i(n.background),editor:function(t,n){s._initColorPicker(e('<input id="k-editor-cell-bg" />').appendTo(t),"bgColor",u,c)}},{colSpan:2,field:"k-editor-table-cell-margin",label:i(n.cellMargin),editor:function(t,o){s._initNumericTextbox(e('<input id="k-editor-table-cell-margin" />').appendTo(t),"cellMargin",u,c,{placeholder:i(n.auto)})}},{colSpan:2,field:"k-editor-table-cells-padding",label:i(n.cellPadding),editor:function(t,o){s._initNumericTextbox(e('<input id="k-editor-table-cells-padding" />').appendTo(t),"cellPadding",u,c,{placeholder:i(n.auto)})}},{colSpan:1,field:"k-editor-cell-border-width",label:i(n.borderWidth),editor:function(t,o){s._initNumericTextbox(e('<input id="k-editor-cell-border-width" />').appendTo(t),"borderWidth",u,c,{placeholder:i(n.auto)})}},{colSpan:1,field:"k-editor-cell-border-color",label:i(n.borderColor),editor:function(t,o){s._initColorPicker(e('<input id="k-editor-cell-border-color" />').appendTo(t),"borderColor",u,c,{placeholder:i(n.auto)})}},{colSpan:2,field:"k-editor-cell-border-style",label:i(n.borderStyle),editor:function(t,n){s._initBorderStyleDropDown(e('<input id="k-editor-cell-border-style" />').appendTo(t),"borderStyle",u,c,a)}},{colSpan:"full",field:"k-editor-cell-id",label:{text:i(n.id),optional:!0},editor:function(t,n){s._initInput(e('<input id="k-editor-cell-id" />').appendTo(t),"id",u,c)}},{colSpan:"full",field:"k-editor-cell-css-class",label:{text:i(n.cssClass),optional:!0},editor:function(t,n){s._initInput(e('<input id="k-editor-cell-css-class" />').appendTo(t),"className",u,c)}}]}).data("kendoForm")).layoutWrapper.addClass("k-gap-x-4"),o},_createAccessibilityPropertiesForm:function(t,n){var o,r=this,a=r.options.table,s=t.element.find("#k-accessibility-properties"),l=r.components.accessibilityView={},d=a.tableProperties;return(o=s.kendoForm({renderButtons:!1,layout:"grid",grid:{cols:4},items:[{colSpan:"full",field:"k-editor-id",label:{text:i(n.id),optional:!0},editor:function(t,n){r._initInput(e('<input id="k-editor-id" />').appendTo(t),"id",d,l)}},{colSpan:"full",field:"k-editor-css-class",label:{text:i(n.cssClass),optional:!0},editor:function(t,n){r._initInput(e('<input id="k-editor-css-class" />').appendTo(t),"className",d,l)}},{layout:"grid",grid:{cols:4,gutter:16},colSpan:"full",type:"group",label:"Accessibility",items:[{colSpan:2,field:"k-editor-table-caption",label:{text:i(n.caption),optional:!0},editor:function(t,n){r._initInput(e('<input id="k-editor-table-caption" />').appendTo(t),"captionContent",d,l)}},{colSpan:2,field:"k-editor-accessibility-alignment",label:i(n.captionAlignment),editor:function(t,n){r._initAccessibilityAlignmentDropDown(e('<input id="k-editor-accessibility-alignment" />').appendTo(t),d)}},{colSpan:1,field:"k-editor-table-header-rows",label:i(n.headerRows),editor:function(t,n){r._initNumericTextbox(e('<input id="k-editor-table-header-rows" />').appendTo(t),"headerRows",d,l,{max:d.rows||4})}},{colSpan:1,field:"k-editor-table-header-columns",label:i(n.headerColumns),editor:function(t,n){r._initNumericTextbox(e('<input id="k-editor-table-header-columns" />').appendTo(t),"headerColumns",d,l,{max:d.columns||4})}},{colSpan:2,field:"k-editor-cells-headers",label:i(n.associateCellsWithHeaders),editor:function(t,i){var o=e('<select id="k-editor-cells-headers">\n                                    <option value="none">'+n.associateNone+'</option>\n                                    <option value="scope">'+n.associateScope+'</option>\n                                    <option value="ids">'+n.associateIds+"</option>\n                                </select>").appendTo(t);r._initAssociationDropDown(o,"cellsWithHeaders",{valuePrimitive:!0},d,l)}},{colSpan:"full",field:"k-editor-accessibility-summary",label:{text:i(n.summary),optional:!0},editor:function(t,i){r._initTextArea(e('<textarea id="k-editor-accessibility-summary"></textarea>').appendTo(t),"summary",d,l,{rows:5,placeholder:n.tableSummaryPlaceholder})}}]}]}).data("kendoForm")).layoutWrapper.addClass("k-gap-x-4"),o}});n.ui.editor.TableWizardDialog=h}(window.kendo.jQuery);return kendo}));
//# sourceMappingURL=kendo.editor.min.js.map
