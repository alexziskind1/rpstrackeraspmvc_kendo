/**
 * Kendo UI v2023.2.718 (http://www.telerik.com/kendo-ui)
 * Copyright 2023 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("kendo.popup.js"),require("kendo.html.button.js"),require("kendo.actionsheet.js")):"function"==typeof define&&define.amd?define(["kendo.popup.min","kendo.html.button.min","kendo.actionsheet.min"],t):((e="undefined"!=typeof globalThis?globalThis:e||self).kendotimeselector=e.kendotimeselector||{},e.kendotimeselector.js=t())}(this,(function(){return function(e,t){var i=window.kendo,n=i.ui,o=i.htmlEncode,s=n.Widget,r=i.html,l=e.extend,a=i.mediaQuery,c="k-focus",u=i.keys,p=".kendoTimeSelector",d=(r=i.html,function(e){var t=e.value;return"<li class='k-item' data-value='"+o(t)+"'><span>"+o(t)+"</span></li>"}),m=s.extend({init:function(e,t){var n=this;s.fn.init.call(n,e,t),n.bigScreenMQL=a("large"),n.smallScreenMQL=a("small"),"auto"==n.options.adaptiveMode&&n.smallScreenMQL.onChange((function(){n.popup&&i.isFunction(n.popup.fullscreen)&&n.popup.fullscreen(n.smallScreenMQL.mediaQueryList.matches)})),n._wrappers(),n._buttons(),n._attchHandlers(),n._shortCuts(),n._columns(),n._popup()},options:{name:"TimeSelector",columns:[],shortcuts:[],adaptiveMode:"none",size:"medium",fillMode:"solid",rounded:"medium",messages:{set:"Set",cancel:"Cancel",days:"Days",hours:"Hours",minutes:"Minutes",milliseconds:"Milliseconds",seconds:"Seconds"}},events:["change"],addTranslate:function(){for(var e,t,i,n,o,s=this._listsContainer.find(".k-time-container.k-content.k-scrollable"),r=s.length,l=0;l<r;l++)t=h((e=s.eq(l)).find(".k-item:visible").eq(0)),n="translateY("+((i=e.outerHeight())-t)/2+"px)",o=i-t,e.find("ul").css({transform:n,"-ms-transform":n}),e.find(".k-scrollable-placeholder").css({height:e.find("ul").height()+o}),e.off(p).on("click"+p,".k-item",this._itemClickHandler.bind(this)).on("scroll"+p,this._listScrollHandler.bind(this))},applyValue:function(t){if(t){var n=this,o=this._listsContainer.find(".k-time-container.k-content.k-scrollable"),s=function(e){var t,i=Math.floor(e/864e5);t=e%864e5;var n=Math.floor(t/36e5);t=e%36e5;var o=Math.floor(t/6e4);t=e%6e4;var s=Math.floor(t/1e3);return{days:i,hours:n,minutes:o,seconds:s,milliseconds:t=e%1e3}}(t);o.each((function(t,o){var r=n.options.columns[t],l=s[r.name];l>=r.min&&l<=r.max&&n._scrollListToPosition(e(o),i.format(r.selectorFormat,l))}))}},toggle:function(){this.popup.toggle()},destroy:function(){this._listContainer.off(p),this._timeSelectorWrapper.off(p),this.popup&&(this.popup.destroy(),this.popup=null),this.bigScreenMQL&&this.bigScreenMQL.destroy(),this.smallScreenMQL&&this.smallScreenMQL.destroy()},_attchHandlers:function(){var e=this;e._listContainer.on("keydown"+p,this._scrollerKeyDownHandler.bind(this)),e._timeSelectorWrapper.on("click"+p,".k-time-fast-selection button",this._applyShortCut.bind(this)),e._timeSelectorWrapper.on("click"+p,".k-timeduration-footer button.k-time-cancel",this._cancelClickHandler.bind(this)),e._timeSelectorWrapper.on("click"+p,".k-timeduration-footer button.k-time-accept",this._setClickHandler.bind(this)),e._listContainer.on("mouseover"+p,".k-time-list-wrapper",this._mouseOverHandler.bind(this))},_applyShortCut:function(t){t.preventDefault(),this._value=parseInt(e(t.currentTarget).attr(i.attr("value"))),this.options.change(this._value),this.popup.close(),this.options.focus()},_scrollerKeyDownHandler:function(t){var n=this,o=t.keyCode,s=e(t.currentTarget).find(".k-time-list-wrapper.k-focus"),r=n._listContainer.find(".k-time-list-wrapper"),l=r.length,a=r.index(s),c=i.support.isRtl(n.wrapper),p=h(s.find(".k-item:visible").eq(0)),d=s.find(".k-time-container.k-content.k-scrollable");if(s.length)return o!=u.UP&&o!=u.DOWN||!t.altKey?void(o==u.RIGHT&&!c||o==u.LEFT&&c?a+1<l&&n._focusList(r.eq(a+1)):o==u.LEFT&&!c||o==u.RIGHT&&c?a-1>=0&&n._focusList(r.eq(a-1)):o==u.UP?(d.scrollTop(d.scrollTop()-p),t.preventDefault()):o==u.DOWN?(d.scrollTop(d.scrollTop()+p),t.preventDefault()):o===u.ENTER?n._setClickHandler(t):o===u.ESC&&n._cancelClickHandler(t)):(t.preventDefault(),n.toggle(),void setTimeout((function(){n.popup.visible()||n.options.focus()}),100))},_mouseOverHandler:function(t){this._focusList(e(t.currentTarget))},_focusList:function(e){this._listContainer.find(".k-time-list-wrapper").removeClass(c),e.addClass(c),this._listContainer.trigger("focus"),this._scrollTop=e.find(".k-scrollable").scrollTop()},_setClickHandler:function(t){var n;e(i._activeElement()).attr(i.attr("value"))||(t.preventDefault(),this._value=864e5*((n=this._currentValues).days||0)+36e5*(n.hours||0)+6e4*(n.minutes||0)+1e3*(n.seconds||0)+(n.milliseconds||0),this.options.change(this._value),this.popup.close(),this.options.focus())},_cancelClickHandler:function(t){e(i._activeElement()).attr(i.attr("value"))||(t.preventDefault(),this.popup.close(),this.options.focus())},_itemClickHandler:function(t){var i=e(t.originalEvent.currentTarget),n=i.find(".k-item:visible").index(e(t.currentTarget)),o=h(i.find(".k-item:visible").eq(0));i.scrollTop(n*o)},_listScrollHandler:function(t){var i=this,n=h(e(t.currentTarget).find(".k-item:visible").eq(0));i._internalScroll||(i._scrollingTimeout&&clearTimeout(i._scrollingTimeout),i._scrollingTimeout=setTimeout((function(){t.currentTarget.scrollTop%n>1&&(t.currentTarget.scrollTop+=n-t.currentTarget.scrollTop%n),i._scrollTop=t.currentTarget.scrollTop,i._updateCurrentlySelected()}),100))},_findSelectedValue:function(e){var t,i,n=(t=e.scrollTop(),i=h(e.find(".k-item:visible").eq(0)),Math.max(Math.round(t/i),0));return e.find(".k-item:visible").eq(n).attr("data-value")},_updateCurrentlySelected:function(){var t=this,i=this._listsContainer.find(".k-content.k-scrollable");this._listsContainer.is(":visible")&&(t._currentValues={},i.each((function(){var i=e(this);t._currentValues[i.attr("data-name")]=parseInt(t._findSelectedValue(i))})))},_scrollListToPosition:function(e,t){var i=e.find('.k-item[data-value="'+t+'"]'),n=h(i);e.scrollTop(e.find(".k-item:visible").index(i)*n)},_renderList:function(t,n){if(n){for(var s,r,l,a=e((s={name:n.name,title:this.options.messages[n.name]},r=s.title,l=s.name,'<div class="k-time-list-wrapper"><span class="k-title">'+o(r)+'</span><div class="k-time-list"><div class="k-content k-scrollable k-time-container" data-name="'+o(l)+'"><ul class="k-reset"></ul><div class="k-scrollable-placeholder"></div></div></div></div>')),c="",u=n.min;u<=n.max;u+=n.step)c+=d({value:i.format(n.selectorFormat,u)});a.find("ul").html(c),a.appendTo(t)}},_columns:function(){var e,t=this,i=t.options;if(t._listsContainer)for(var n=0;n<i.columns.length;n++)e=i.columns[n],t._renderList(t._listsContainer,e)},_shortCuts:function(){var t,n=this,o=n.options;if(n._shortcuts)for(var s=0;s<o.shortcuts.length;s++)t=o.shortcuts[s],e(r.renderButton('<button class="k-button '+i.getValidCssClass("k-button-","size",n.options.size||"medium")+' k-button-solid k-button-solid-base k-rounded-md">'+t.text+"</button>",{rounded:o.rounded})).attr(i.attr("value"),t.value).appendTo(n._shortcuts)},_buttons:function(){var t=this.options;e("<div class='k-actions k-actions-stretched k-actions-horizontal k-timeduration-footer'>"+r.renderButton('<button class="k-time-cancel k-button">'+o(t.messages.cancel)+"</button>",{rounded:t.rounded,size:t.size})+r.renderButton('<button class="k-time-accept k-button k-button-solid k-button-solid-primary">'+o(t.messages.set)+"</button>",{rounded:t.rounded,size:t.size})+"</div>").appendTo(this._timeSelectorWrapper)},_wrappers:function(){var t=this,n=t.options;t._timeSelectorWrapper=e("<div></div>"),t._listContainer=e("<div tabindex='0' class='k-timeselector "+i.getValidCssClass("k-timeselector-","size",t.options.size||"medium")+"'></div>"),t._listContainer.appendTo(t._timeSelectorWrapper),n.shortcuts&&(t._shortcuts=e("<div class='k-actions k-actions-start k-actions-horizontal k-time-fast-selection'></div>").appendTo(t._listContainer)),n.columns.length&&(t._listsContainer=e("<div class='k-time-list-container'><span class='k-time-highlight'></span></div>").appendTo(t._listContainer),t._listsContainer.attr("id",n.id))},_popup:function(){var e=this,t=e.options;"auto"!=t.adaptiveMode||e.bigScreenMQL.mediaQueryList.matches?e.popup=new n.Popup(e._timeSelectorWrapper,l(!0,{},t.popup,{anchor:t.anchor,open:t.open,close:t.close,isRtl:i.support.isRtl(t.anchor),activate:function(){e.addTranslate(),e._value?e.applyValue(e._value):e._updateCurrentlySelected(),e._focusList(e._listContainer.find(".k-time-list-wrapper").eq(0))}})):(e._timeSelectorWrapper.appendTo(document.body),e.popup=new n.ActionSheet(e._timeSelectorWrapper,{adaptive:!0,title:"Set time",subtitle:"00/00/00",closeButton:!0,fullscreen:e.smallScreenMQL.mediaQueryList.matches,popup:l(!0,{},t.popup,{anchor:t.anchor,open:t.open,close:t.close,isRtl:i.support.isRtl(t.anchor)}),activate:function(){e.addTranslate(),e._value?e.applyValue(e._value):e._updateCurrentlySelected(),e._focusList(e._listContainer.find(".k-time-list-wrapper").eq(0))}}),e._timeSelectorWrapper.find(".k-timeduration-footer").appendTo(e.popup.element))}});function h(e){return e.length&&e[0].getBoundingClientRect().height}n.plugin(m)}(window.kendo.jQuery),kendo}));
//# sourceMappingURL=kendo.timeselector.min.js.map
