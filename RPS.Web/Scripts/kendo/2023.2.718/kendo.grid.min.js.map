{"version":3,"file":"kendo.grid.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendogrid","js","this","$","undefined$1","GroupsPager","kendo","window","ui","DataSource","data","ObservableObject","tbodySupportsInnerHtml","support","tbodyInnerHtml","activeElement","_activeElement","Widget","outerWidth","_outerWidth","outerHeight","_outerHeight","keys","isPlainObject","extend","map","grep","isArray","Array","inArray","push","prototype","isFunction","encode","htmlEncode","isEmptyObject","contains","math","Math","DOT","PROGRESS","ERROR","DATA_CELL","attr","NAVROW","NAVCELL","ITEMROW","COLGROUP","HEADERCELLS","CARET_ALT_DOWN","CARET_ALT_RIGHT","CARET_ALT_RIGHT_CACHE","NS","EDIT","BEFOREEDIT","SAVE","REMOVE","DETAILINIT","FILTERMENUINIT","COLUMNMENUINIT","FILTERMENUOPEN","COLUMNMENUOPEN","CELLCLOSE","CHANGE","COLUMNHIDE","COLUMNSHOW","SAVECHANGES","DATABOUND","DETAILEXPAND","DETAILCOLLAPSE","ITEM_CHANGE","PAGE","PAGING","SCROLL","SYNC","LOAD_START","LOAD_END","FOCUSED","HOVER","ACTIVE","FOCUSABLE","SELECTED","CHECKBOX","CHECKBOXINPUT","NORECORDSCLASS","SORTED_CLASS","STICKY_CELL_CLASS","STICKY_HEADER_CLASS","STICKY_FOOTER_CLASS","STICKY_HEADER_NO_BORDER_CLASS","GROUPING_ROW","RESIZE","ROWRESIZE","COLUMNRESIZE","COLUMNREORDER","COLUMNLOCK","COLUMNUNLOCK","COLUMNSTICK","COLUMNUNSTICK","ROWREORDER","NAVIGATE","CLICK","MOUSEDOWN","MOUSEUP","MOUSEENTER","MOUSELEAVE","MOUSEMOVE","DUBLECLICK","HEIGHT","WIDTH","AUTO","TABINDEX","FUNCTION","STRING","BOTTOM","CONTAINER_FOR","FIELD","INPUT","INCELL","INLINE","OVERFLOW","SORT","GROUP_SORT","COLLAPSE","EXPAND","ID","PX","TR","DIV","ARIA_LABEL","ARIA_OWNS","ARIA_ROWCOUNT","ARIA_COLCOUNT","ARIA_COLINDEX","ARIA_ROWINDEX","ARIA_EXPANDED","ARIA_CHECKED","ARIA_ACTIVEDESCENDANT","ROLE","NONE","ROW","ROWGROUP","COLUMNHEADER","GRIDCELL","formatRegExp","leftRegExp","RegExp","rightRegExp","nonDataCellsRegExp","filterRowRegExp","COMMANDBUTTONTMPL","ref","className","text","SELECTCOLUMNTMPL","size","SELECTCOLUMNHEADERTMPL","DRAGHANDLECOLUMNTMPL","icon","SORTHEADERTMPL","isRtl","browser","isIE11","msie","version","isMac","test","navigator","userAgent","classNames","Pager","init","element","options","fn","call","dataSource","useRanges","_omitPrefetch","name","totalPages","ceil","_collapsedTotal","pageSize","groupsTotal","VirtualScrollable","that","_refreshHandler","refresh","bind","setDataSource","wrap","unbind","virtual","itemHeight","noop","prefetch","maxScrollHeight","events","destroy","wrapper","add","verticalScrollbar","off","clearTimeout","_timeout","_scrollingTimeout","drag","scrollbar","css","width","overflow","content","children","first","parent","on","_wheelScroll","_wrapper","kineticScrollNeeded","touch","UserEvents","allowSelection","start","e","sender","capture","move","scrollTop","y","delta","scrollLeft","x","preventDefault","appendTo","_scroll","ctrlKey","wheelDeltaY","clientHeight","scrollHeight","delayLoading","currentTarget","rowHeight","skip","_rangeStart","height","innerHeight","isScrollingUp","_scrollbarTop","firstItemIndex","max","floor","lastItemOffset","lastItemIndex","_preventScroll","_prevScrollTop","_scrollTop","_scrolling","_fetch","trigger","setTimeout","_page","take","scrollToTop","_scrollTo","scrollToBottom","_scrollWrapperToTop","_scrollWrapperToBottom","_scrollWrapperOnColumnResize","initialScrollTop","scrollWidth","clientWidth","_wrapperScrolled","_isScrolledToBottom","_isWrapperScrolledToBottom","_isScrolledToTop","parseInt","itemIndex","rowIndex","position","index","result","rangeStart","scrollIntoView","row","container","containerHeight","containerScroll","elementOffset","offsetTop","elementHeight","offsetHeight","scrollingUp","currentSkip","fetching","webkitCorrection","webkit","total","_isGroupPaged","min","_fetching","callback","isGroupPaged","_groupRangeExists","inRange","range","repaintScrollbar","shouldScrollWrapper","totalHeight","idx","html","maxHeight","wrapperElement","wasScrolledToBottom","addScrollBarHeight","offsetWidth","action","cancel","page","attrEquals","attrName","attrValue","groupCells","count","join","stringifyAttributes","attributes","defaultCommands","create","iconClass","save","edit","themeColor","update","canceledit","excel","pdf","search","cursor","context","value","document","body","reorder","selector","source","dest","before","sourceIndex","eq","elements","lockedContent","filter","find","attachCustomCommandEvent","commands","length","command","commandName","click","replace","normalizeColumns","columns","encoded","hide","locked","parentIds","column","hidden","field","isVisible","addHiddenStyle","footerAttributes","headerAttributes","uid","guid","headers","id","columnParent","parents","columnParents","inserted","splice","setColumnVisibility","visible","setVisibility","show","method","removeHiddenStyle","setColumnMediaVisibility","setColumnMatchesMedia","_hideByMedia","matchesMedia","columnMatchesMedia","isUndefined","media","isCellVisible","style","display","visibleColumns","columnsWithMedia","i","minScreenWidth","Error","concat","toJQuery","toArray","findColumnByField","moveCellsBetweenContainers","sources","target","leafs","destination","groups","sourcesDepth","depth","targetDepth","rows","insertAfter","last","cells","rowSpan","addRowSpanValue","moveCells","updateCellIndex","thead","offset","allColumns","leafColumns","el","hasClass","columnPosition","cell","temp","sourcePosition","columnVisiblePosition","ths","t","cellCounts","decorateCellWithClass","classes","match","cssClasses","split","pop","findReorderTarget","masterColumns","parentColumns","rtl","targetLocked","findParentColumnWithChildren","targetIndex","flatColumnsInDomOrder","flatColumns","lockedColumns","nonLockedColumns","targetParentContainerIndex","hiddenLeafColumnsCount","counter","sumWidths","cols","columnsWidth","colWidth","indexOf","removeEmptyRows","emptyRowsCount","remove","mapColumnToCellRows","setLeftAndRightStyles","left","right","createColumnAttribute","attribute","property","addColumnAttribute","removeColumnAttribute","stickyColumns","sticky","visibleNonLockedColumns","visibleLockedColumns","visibleLeafColumns","visibleLeafExportColumns","values","childColumns","visibleChildColumns","editField","title","format","editor","editorOptions","label","leafDataCells","indexAttr","sort","a","b","indexA","indexB","parentColumnsCells","closest","headerRows","level","parentCellsWithChildren","prevCells","prevAll","colSpan","parentCell","getAttribute","childColumnsCells","colSpanAttr","child","next","appendContent","tbody","table","empty","placeholder","tmp","innerHTML","createElement","addClass","getValidCssClass","firstChild","replaceChild","normalizeCols","hasDetails","colgroup","each","_","col","$col","removeAttr","is","append","prepend","convertToObject","array","item","formatGroupValue","columnValues","groupValue","setCellVisibility","pad","hideColumnCells","columnIndex","groupRows","hasSubgroups","items","groupFooters","aggregates","showColumnCells","updateColspan","toAdd","toRemove","num","tableWidth","Grid","DataBoundWidget","_events","_element","_ariaId","_columns","_foreignKeyPromises","when","apply","then","_continueInit","_dataSource","_stickyColumns","_tbody","_thead","_rowResizing","_groupable","_toolbar","_pageable","_setContentHeight","_templates","_navigatable","_selectable","_clipboard","_details","_editable","_attachCustomCommandsEvent","_adaptiveColumns","_minScreenSupport","autoBind","fetch","_group","_groups","_footer","_resizeHandler","resize","notify","scrollableContent","scrollable","leftMostPosition","groupable","virtualScrollable","navigatable","selectable","toolbar","filterable","sortable","allowCopy","pageable","persistSelection","editable","encodeTitles","rowTemplate","altRowTemplate","noRecords","resizable","reorderable","columnMenu","detailTemplate","columnResizeHandleWidth","mobile","loaderType","messages","cancelDelete","confirmation","confirmDelete","expandCollapseColumnHeader","groupHeader","ungroupHeader","itemsSelected","dragHandleLabel","toolbarLabel","groupingHeaderLabel","filterCellTitle","reorderableInstance","_angularItems","_destroyColumnAttachments","_navigatableTables","_headertables","pager","timer","_progressTimeOut","_collapseGroupsTimeOut","_endlessFetchTimeOut","_destroyGroupable","clearArea","_selectedIds","copyHandler","updateClipBoardState","clearAreaHandler","_resizeUserEvents","_resizeHandleDocumentClickHandler","_destroyRowResizing","_destroyVirtualScrollable","editableUserEvents","_lockedContentUserEvents","_destroyEditable","_progressHandler","_errorHandler","_clearSortClasses","_sortHandler","lockedHeader","_removeLockedContainers","pane","_isMobile","minScreenResizeHandler","_detachColumnMediaResizeHandler","_draggableInstance","_draggableRowsInstance","lockedRowTemplate","lockedAltRowTemplate","footerTemplate","groupFooterTemplate","lockedGroupFooterTemplate","noRecordsTemplate","scrollables","footer","lockedTable","lockedFooter","_groupableClickHandler","_groupRows","_setContentWidthHandler","getOptions","deepExtend","initialData","_data","group","aggregate","transport","$angular","setOptions","currentOptions","mobileWrapper","roleSelector","after","removeClass","_setEvents","_items","includeGroupRows","tr","dataItems","n","resizeHandle","angular","get","th","filterMenu","_aria","tbodyId","headerGroupId","footerGroupId","tableOwned","rowsCount","gridRole","_hasDetails","groupingHeader","gridId","tableTabindex","numberOfFixedRows","trailingColumns","_trailingColumns","virtualScroll","_ariaRowIndex","_ariaColumnIndex","role","_ariaHeaderFooter","_ariaLockedContent","_ariaGroupTitles","previousIndex","dataIndex","cellsIndex","dataVirtual","not","lockedHeaderRows","firstIndex","Number","MAX_VALUE","lastIndex","lockedLastIndex","previousVirtual","nextVirtual","eachHeaderCell","j","current","currentIndex","lockedParent","setAttribute","prev","forEach","type","rowGroup","groupId","_ariaLocked","_cellId","lockedRows","ownedCells","_cellsIds","tableRows","_ariaAddHiddenColIndex","leafColsCount","_ariaRemoveHiddenColIndex","currentRow","numberOfHeaderRows","bodyRows","footerRows","totalNumberOfItems","previousItems","previousMaster","prefix","_createResizeHandle","headerWrap","ieCorrection","leftMargin","leftBorderWidth","top","indicatorWidth","halfResizeHandle","rtlCorrection","mozilla","parseFloat","_autoFitLeafColumn","_positionColumnResizeHandle","lockedHead","button","buttons","which","hasAttribute","_resizeHandleDocumentClick","_resetResizeHandleHeader","_hideResizeHandle","_positionColumnResizeHandleTouch","threshold","minHold","hold","resizeColumn","columnWidth","isLocked","isHidden","mobileOS","contentTable","header","columnMinWidth","minResizableWidth","gridWidth","constrain","totalWidth","_footerWidth","_scrollVirtualWrapperOnColumnResize","_applyLockedContainersWidth","_syncLockedContentHeight","_syncLockedHeaderHeight","_updateStickyColumns","_resizable","columnStart","isMobile","Resizable","handle","hint","location","rtlMultiplier","currentWidth","resizeend","newWidth","oldWidth","_addLockedRowResizing","_getMinRowHeight","minHeight","currentMinHeight","_cacheRowHeight","_cachedRowsHeight","_clearCachedRowsHeight","_mapCachedRowsHeight","input","ds","output","Object","key","_rowResizerDblClick","newHeight","resizer","rowResizer","oldHeight","select","rowPair","pairMinHeight","_setupRowResizer","_attachRowResizerEvents","isIn","_getResizerTop","inner","paddingTop","getComputedStyle","_getResizerContainer","_createRowResizer","targetHeight","positionIntarget","offsetY","previousRow","_detachRowResizerEvents","_mapResizedRows","multiSelectionLocked","pairNew","pairMin","r","rowStart","rowResizing","_draggable","kendoDraggable","autoScroll","dragstart","dragend","_reorderable","kendoReorderable","draggable","dropFilter","dragOverContainers","lockable","inSameContainer","change","oldIndex","newIndex","reorderColumn","_reorderHeader","destPosition","sourceLockedColumnsCount","lockedColumnDepth","nonLockedColumnDepth","sourceLockedColumns","targetLockedColumns","_reorderContent","headerCol","footerCol","beforeVisibleColumn","visibleSources","destIndex","colSourceIndex","colDest","lockedCount","columnsArray","_findClosestVisibleColumnIndex","slice","_hasFilterRow","_hasVirtualColumns","reverse","closestVisibleColumn","leafIndex","autoFitColumn","_hasReorderableRows","_hasDragHandleColumn","_draggableRows","_checkBoxSelection","Selectable","parseOptions","clickMoveClick","moveClickMove","clone","elm","innerText","cursorOffset","_reorderableRows","smartPosition","allowIcon","orientation","reorderDropCue","positionDropCue","dropTarget","firstCellLeft","getOffset","transform","externalDraggable","_triggerRowRorder","args","reorderRows","rowsLength","targetItem","dataItem","_rowDropping","pushMove","autoFitColumns","headerTable","leafCols","minWidth","contentDiv","menu","thWidth","visibleLocked","notGroupOrHierarchyCol","notGroupOrHierarchyVisibleCell","footerTable","tables","safari","oldColumnWidth","newColumnWidth","lockChanged","destColumn","groupHeaderColumnTemplateColumns","groupHeaderColumnTemplate","sourceColumns","_updateLockedCols","_updateCols","_updateColumnCellIndex","_updateColumnSorters","_renderGroupRows","_updateTablesWidth","_updateFirstColumnClass","lockColumn","unstickColumn","unlockColumn","stickColumn","_removeStickyAttributes","_removeStickyStyles","_anyStickyColumns","_updateStickyFilterCells","cellIndex","td","lockedColumnOffset","_modelForContainer","_editMode","getByUid","_calculateColumnIndex","virtualOffset","editContainer","_editContainer","_mousedownOnEditCell","tap","isLockedCell","has","end","closeCell","editCell","_scrollVirtualWrapper","shouldCloseCell","_virtualColScroll","_belongsToGrid","editRow","_isVirtualInlineEditable","stopPropagation","removeRow","_confirmation","model","isColumnEditable","_attachModelChange","_shouldClearEditableState","_clearEditableState","kendoEditable","fields","skipFocus","_isVirtualIncellEditable","_editableState","adjustRowHeight","_relatedRow","_syncLockedScroll","_adjustLockedHorizontalScrollBar","touchScroller","_adjustRowsHeight","table1","table2","diff","lockedHeigth","tableHeigth","syncTableHeight","_syncLockedFooterHeight","editView","_editCancelClickHandler","_editUpdateClickHandler","_detachModelChange","_destroyEditView","_editableIsClosing","close","_confirmDialog","purge","navigate","_modelChangeHandler","_modelChange","isCancel","_displayCell","ns","state","storage","settings","Template","templateSettings","tmpl","template","_cellTmpl","_removeRow","schema","mode","cancelRow","_removeGroupIfEmpty","idField","sync","_createPopupEditor","_createInlineEditor","_editCancelClick","_editUpdateClick","saveRow","_setCurrent","focusTable","_editFields","updateText","cancelText","updateIconClass","cancelIconClass","tempCommand","buttonsHTML","editMenuGuid","unescape","getCommand","_createButton","kendoWindow","modal","userTriggered","clearContainer","Form","buttonsTemplate","formData","_openPopUpEditor","windowEditor","windowOptions","_editAnimation","center","open","Editable","cancelChanges","_displayRow","valid","deferred","Deferred","reject","promise","resolve","related","newRow","nextRow","isSelected","isAlt","replaceWith","angularElements","angularData","_showMessage","Confirm","preventScroll","closable","okText","done","fail","confirmDialog","confirm","_shouldMapHights","_isVirtualEditable","_virtualPageToTop","saveChanges","addRow","createAt","view","createAtBottom","toLowerCase","virtualEditable","serverPaging","_removeCurrent","_virtualAddRow","insert","_editModel","_firstEditableColumnIndex","_virtualAddRowAtBottom","_virtualAddRowAtTop","at","_virtualPageToBottom","_virtualPage","_clickAdd","_clickCancel","_clickExcel","saveAsExcel","_clickPdf","saveAsPDF","_pdfInitialized","_clickSave","_searchInput","_searchTimeOut","searchFields","expression","filters","logic","getColumnsFields","endless","_endlessPageSize","_pushExpression","isServerFiltering","serverFiltering","defaultOperators","string","number","date","enums","boolean","operator","modelInfo","reader","fieldInfo","parseFn","parse","_createClickHandler","_addClickHandler","_cancelClickHandler","_saveClickHandler","_excelClickHandler","_pdfClickHandler","_serachHandler","_attachToolbarClicks","prependTo","grid","_processItems","kendoToolBar","navigateOnTab","tools","searchText","spriteCssClass","_processAttr","keyValue","replaceAll","attributeClassMatch","renderButton","_hasFooters","groupRow","collapseGroup","expandGroup","_isLocked","_attachGroupable","draggables","enabled","chrome","Groupable","groupContainer","draggableElements","allowDrag","removeGroup","_showUngroupedColumn","_hideGroupedColumns","_resetEndless","_addGroupableOptionsToHeader","colID","hideOnGroup","showColumn","hideColumn","_skip","_pageSize","_take","headerCell","columnOptions","columnFieldMap","headerCells","_headerCells","kendoGroupable","_removeGroupableOptionsFromHeader","removeData","_continuousItems","lockedItems","nonLockedItems","multi","notString","multiple","aria","dragToSelect","selectedValues","_persistSelectedRows","_uncheckCheckBoxes","_checkRows","_toggleHeaderCheckState","event","useAllItems","relatedTarget","continuousItems","ignoreOverlapped","addIdToRanges","triggerChange","lastSelection","eventObject","keyCode","SPACEBAR","shiftKey","_deselectCheckRows","clear","_lastActive","LEFT","RIGHT","UP","DOWN","selectRange","_firstSelectee","toCompare","compareElements","stopImmediatePropagation","tableClick","copySelection","areaClipBoard","val","getTSV","copySelectionToClipboard","includeHeaders","_createAreaClipBoard","execCommand","jQuery","Event","metaKey","getSelection","toString","selection","createRange","opacity","selected","delimeter","hasLockedCols","cellsOffset","lockedCols","inLockedArea","_getCellField","cellText","rowsOffset","getTitle","headerIndex","findIndex","_anyColumnHasMediaQuery","_setColumnsMediaVisibility","_attachColumnMediaResizeHandler","_columnsWithMediaQuery","_columnMediaResizeHandler","_onColumnMediaResize","_setContentMediaWidth","_setColumnMediaVisibility","_showColumnByMedia","_hideColumnByMedia","initiallyHidden","headerColumns","headerColgroup","headerColumnsCount","visibleHeaderColumnsCount","hiddenHeaderColumnsCount","totalHeaderWidth","currentHeaderWidth","colgroupChild","columnStyleWidth","hideMinScreenCols","screenWidth","innerWidth","screen","_iterateMinScreenCols","any","_setStickyColumns","filterCells","stickyStyle","updateStyles","visibleStickyColumns","stickyWidths","_calculateStickyWidths","_setStickyClassAttributes","_setStickyStyleAttributes","_setStickyStyles","initialLeftWidth","initialRightWidth","nextColumnLeft","nextColumnRight","fill","_sumColumnWidth","masterIndex","stickyLeft","stickyRight","childCols","childStickyWidths","cellClassRegExp","headerClassRegExp","footerClassRegExp","headerClassNoBorderRegExp","leafsCols","_getColumnHeader","groupHeaderColumnTemplateClass","_sumCurrentWidths","getSelectedData","selectedRanges","selectedRangeNames","selectedSingleItems","_mapSelectionToData","exportSelectedToExcel","ooxml","exporter","ExcelExporter","book","sheets","autoWidth","freezePane","exportData","sortHandler","exportDataSort","isExcelExportableColumn","_addRangeSelectionRows","_addSingleSelectionRows","workbook","Workbook","skipCustomHeight","toDataURLAsync","dataURI","saveAs","fileName","proxyURL","forceProxy","_setExporterColumns","_createExportRows","_rows","_dataRows","_prepareColumn","columnsFilter","curr","isRowSelection","nodeName","columnMapHandler","fieldAttr","_relatedCell","clearSelection","checked","prop","rangeSelectedAttr","modelId","allRows","selectedViewIds","selectedKeyNames","ids","_updateCurrentAttr","nextId","descId","headerId","_current","_scrollCurrent","tableContainer","isInLockedContainer","isInContent","scrollableContainer","addBack","_rowVirtualIndex","preventTrigger","_filterFocusable","siblings","colspan","_virtualCellIndex","_lastCellIndex","_updateSelctCheckbox","nextCheckbox","focus","elementToLowercase","tagName","isHorizontal","elementOffsetDir","containerOffsetDir","abs","offsetLeft","bottomDistance","firefoxCorrection","edge","dataTables","headerTables","_tableFocus","_tableBlur","_tableKeyDown","_filterFocus","_findCellIndex","startIndex","reversed","_scrollToColumn","HOME","END","requestInProgress","canHandle","isDefaultPrevented","altKey","handled","F10","_focusToolbar","_moveUp","_moveDown","_moveRight","_moveLeft","PAGEDOWN","_handlePageDown","PAGEUP","_handlePageUp","_handleHome","_handleEnd","_handleSpaceKey","ENTER","F2","_handleEnterKey","ESC","_handleEscKey","TAB","_handleTabKey","focusable","currentTable","collapseRow","_moveColumn","_prevHorizontalCell","_tabNext","_horizontalContainer","expandRow","_nextHorizontalCell","nextAll","_prevVerticalCell","_verticalContainer","_nextVerticalCell","isLeft","ctrl","rowContainer","isInLockedTable","isInBody","filterFocusable","_handleEditing","active","isInCell","blur","_toggleCurrent","descriptors","_canDrag","dir","link","originalIndex","_currentDataIndex","lockedColumnsCount","tmpIndex","currentRowCells","hiddenColumns","up","step","back","switchRow","isEdited","isIE","_initMobile","_createPane","Pane","viewEngine","viewOptions","renderOnInit","wrapInSections","detachOnHide","detachOnDestroy","_scrollable","asLowerString","parseVirtualSettings","insertBefore","_createVirtualScrollable","_scrollLeft","isScrollingLeft","originalPageSize","_endlessFetchInProgress","_skipRerenderItemsCount","_cacheEditableState","_restoreEditableState","movable","one","_averageRowHeight","scroll","_focusEditable","loadStart","_progress","loadEnd","_onVirtualPaging","_isVirtualPopupEditable","editableState","editedModel","inlineMode","incellMode","virtualColumns","_getByUid","editedField","_canFocusEditable","isElementVisibleInWrapper","widget","widgetInstance","_renderNoRecordsContent","noRecordsElement","_setContentWidth","expander","hiddenDivClass","isNaN","footerWrap","contentWidth","nonLockedCols","nonLockedColsWidth","initialHeight","scrollableHeight","itemsCount","_rowHeight","_sum","_measures","currentRowHeight","_requestStart","_error","relatedRow","selectableRow","childCells","originalCells","pagerWrap","_groupPaging","_togglePagerVisibility","_wrapFooter","_appendLockedColumnFooter","footerRow","_appendCols","_columnMenu","menuOptions","hasMultiColumnHeaders","hasLockableColumns","hasStickableColumns","stickable","initCallback","openCallback","closeCallback","stickCallback","unstickCallback","filterHandler","compare","forceUnique","checkSource","owner","stick","unstick","filtering","componentType","kendoColumnMenu","_hasFilterMenu","_filterable","filterInit","filterOpen","columnFilterable","kendoFilterMultiCheck","kendoFilterMenu","_filterRow","rowheader","_updateHeader","suggestDataSource","operators","customDataSource","cellOptions","delay","inputWidth","suggestionOperator","minLength","dataTextField","showOperators","kendoFilterCell","_sortable","sorterInstance","kendoColumnSorter","draggableColumns","initialColumns","len","normalizeHeaderCells","_updateColumnIDs","_checkboxClick","_headerCheckboxClick","_foreignKeyBindings","_fetchForeignKeyValues","_hasBoundForeignKey","dataValueField","checkBox","isSelecting","_tmpl","alt","skipGroupCells","classAttribute","rowTemplateFunc","paramName","getter","rowTemplateResult","dirtyCellTemplate","_dirtyCellTemplate","columnAttributes","Function","colSpanAttributes","dirty","dirtyFields","charAt","_headerCellText","headerTemplate","_dirtyIndicatorTemplate","f","useWithBlock","fieldValue","_virtualCols","considerNext","widths","c","sumOfWidths","colsToRender","firstColspan","lastColspan","widthOfHiddenColumns","virtualCols","columnLeafs","columnsLocked","groupHeaderColumnTemplateLockedColumns","groupHeaderColumnTemplateNonLockedColumns","_detailTmpl","_footerTmpl","g","_groupHeaderTmpl","lockedGroupHeaderColumnTemplate","_noRecordsTmpl","resultTemplate","scrollableNoGridHeightStyles","currentCustomTemplate","templateName","rowClass","scope","fieldsMap","_emptyAggregates","headerTemplateIndex","resultHtml","groupCellBuilder","groupCellLockedContentBuilder","templateFunctionStorage","templateFunctionCount","hasFiltering","columnsWithoutFiltering","_toggleDetails","omitAnimation","detailRow","expanding","masterRow","masterRowIndex","ariaLabelText","ariaExpandText","detailCell","toggle","correctIdx","classesRegEx","sectionRowIndex","_createHeaderCells","currentTh","isGroupedBy","outerHTML","_appendLockedColumnContent","spanIdx","skipHiddenCount","colOffset","detach","lockedCells","_appendLockedColumnHeader","filtercellCells","hasFilterRow","filterCellOffset","leafColumnsCount","removeRowSpanValue","syncHeight","hasTHead","headerContent","_updateHeadersAttr","_prepareColumns","filterRow","existingFilterRow","hasLockedColumns","_retrieveFirstColumn","parentRow","childRow","totalColSpan","_updateHeaderCols","_autoColumns","toJSON","_setRowCachedHeight","$row","cachedHeight","_rowsHtml","templates","cachedHeights","_groupData","skipFooter","firstColumn","footerDefaults","_groupAggregatesDefaultObject","groupItems","headerData","footerData","subgroupsCount","_groupRowHtml","groupHeaderBuilder","skipColspan","skipLastGroup","isLockedTable","groupData","firstVisibleColumnGroupHeaderTemplate","groupHeaderTemplate","currentItems","expanded","_groupsState","isNew","excludeHeader","templateColspan","groupHtmlBuilder","_skippedGroups","shift","groupToCollapse","footerCount","showFooter","relatedGroup","groupCountAfterCollapse","groupUid","groupObject","_getGroupByUid","currentGroupCount","_calculateGroupsTotal","_serverGroupsTotal","_currentRangeStart","toHide","_groupToCollapse","footersVisibility","groupsCount","groupCountAfterExpand","groupCount","toggleVisibility","_firstDataItem","grouped","headerCellIndex","_columnVisibilitySetter","_setParentsVisibility","_updateContentWidth","predicate","p","originalColumn","columnLeafIndex","_buildSkeleton","loaderHTML","columnsCount","skeleton","progress","_resize","force","_isActiveInTable","contentScrollLeft","cachedItemsToSkip","isCurrentInHeader","_renderContent","_renderLockedContent","_restoreCurrent","contentResized","resetTouchEvents","_muteAngularRebind","_restoreSelection","selectedRows","dataItemKey","cmd","_cleanupDetailItems","_angularGroupItems","_angularGroupFooterItems","endlessAppend","flatViewLength","flatView","groupRowLockedContentBuilder","groupRowBuilder","groupRowBuilderFunc","groupHeaderData","prevElement","newGroupRowElement","firstColumnGroupData","alwaysVisible","rows2","containers","containersLength","heights","offsetHeight1","offsetHeight2","row1","row2","direct","focusElement","isInputElement","isHeader","isInput","activeEl","halfHeight","includeAdditionalData","backslashEscapeQuotes","exportable","ExcelMixin","PDFMixin","_drawPDF_autoPageBreak","allPages","origBody","cont","toggleUnexportableColumns","paddingRight","_initPDFProgress","startingPage","draw","_destructive","pageNumber","pageNum","drawing","drawDOM","always","err","renderPage","restore","visibleInExport","visibleInExportOnly","_toggledDuringExport","_drawPDF","paperSize","doc","Group","exportPage","_drawPDFShadow","avoidLinks","loading","pb","kendoProgressBar","chunkCount","plugin"],"sources":["kendo.grid.js"],"mappings":"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","sourcesContent":["(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('kendo.data.js'), require('kendo.columnsorter.js'), require('kendo.editable.js'), require('kendo.window.js'), require('kendo.filtermenu.js'), require('kendo.filtercell.js'), require('kendo.columnmenu.js'), require('kendo.groupable.js'), require('kendo.pager.js'), require('kendo.selectable.js'), require('kendo.sortable.js'), require('kendo.reorderable.js'), require('kendo.resizable.js'), require('kendo.ooxml.js'), require('kendo.excel.js'), require('kendo.pane.js'), require('kendo.progressbar.js'), require('kendo.pdf.js'), require('kendo.dialog.js'), require('kendo.switch.js'), require('kendo.html.button.js'), require('kendo.textbox.js'), require('kendo.form.js'), require('kendo.toolbar.js'), require('kendo.icons.js')) :\n   typeof define === 'function' && define.amd ? define(['kendo.data', 'kendo.columnsorter', 'kendo.editable', 'kendo.window', 'kendo.filtermenu', 'kendo.filtercell', 'kendo.columnmenu', 'kendo.groupable', 'kendo.pager', 'kendo.selectable', 'kendo.sortable', 'kendo.reorderable', 'kendo.resizable', 'kendo.ooxml', 'kendo.excel', 'kendo.pane', 'kendo.progressbar', 'kendo.pdf', 'kendo.dialog', 'kendo.switch', 'kendo.html.button', 'kendo.textbox', 'kendo.form', 'kendo.toolbar', 'kendo.icons'], factory) :\n   (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.kendogrid = global.kendogrid || {}, global.kendogrid.js = factory()));\n})(this, (function () {\n   var __meta__ = {\n       id: \"grid\",\n       name: \"Grid\",\n       category: \"web\",\n       description: \"The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.\",\n       depends: [ \"data\", \"columnsorter\", \"sortable\", \"toolbar\", \"html.button\", \"icons\" ],\n       features: [ {\n           id: \"grid-editing\",\n           name: \"Editing\",\n           description: \"Support for record editing\",\n           depends: [ \"editable\", \"window\", \"textbox\", \"form\" ]\n       }, {\n           id: \"grid-filtering\",\n           name: \"Filtering\",\n           description: \"Support for record filtering\",\n           depends: [ \"filtermenu\" ]\n       }, {\n           id: \"grid-columnmenu\",\n           name: \"Column menu\",\n           description: \"Support for header column menu\",\n           depends: [ \"columnmenu\" ]\n       }, {\n           id: \"grid-grouping\",\n           name: \"Grouping\",\n           description: \"Support for grid grouping\",\n           depends: [ \"groupable\" ]\n       }, {\n           id: \"grid-filtercell\",\n           name: \"Row filter\",\n           description: \"Support for grid header filtering\",\n           depends: [ \"filtercell\" ]\n       }, {\n           id: \"grid-paging\",\n           name: \"Paging\",\n           description: \"Support for grid paging\",\n           depends: [ \"pager\" ]\n       }, {\n           id: \"grid-selection\",\n           name: \"Selection\",\n           description: \"Support for row selection\",\n           depends: [ \"selectable\" ]\n       }, {\n           id: \"grid-column-reorder\",\n           name: \"Column reordering\",\n           description: \"Support for column reordering\",\n           depends: [ \"reorderable\" ]\n       }, {\n           id: \"grid-column-resize\",\n           name: \"Column resizing\",\n           description: \"Support for column resizing\",\n           depends: [ \"resizable\" ]\n       }, {\n           id: \"grid-mobile\",\n           name: \"Grid adaptive rendering\",\n           description: \"Support for adaptive rendering\",\n           depends: [ \"dialog\", \"pane\", \"switch\" ]\n       }, {\n           id: \"grid-excel-export\",\n           name: \"Excel export\",\n           description: \"Export grid data as Excel spreadsheet\",\n           depends: [ \"excel\" ]\n       }, {\n           id: \"grid-pdf-export\",\n           name: \"PDF export\",\n           description: \"Export grid data as PDF\",\n           depends: [ \"pdf\", \"drawing\", \"progressbar\" ]\n       } ]\n   };\n\n   (function($, undefined$1) {\n       var kendo = window.kendo,\n           ui = kendo.ui,\n           DataSource = kendo.data.DataSource,\n           ObservableObject = kendo.data.ObservableObject,\n           tbodySupportsInnerHtml = kendo.support.tbodyInnerHtml,\n           activeElement = kendo._activeElement,\n           Widget = ui.Widget,\n           outerWidth = kendo._outerWidth,\n           outerHeight = kendo._outerHeight,\n           keys = kendo.keys,\n\n           isPlainObject = $.isPlainObject,\n           extend = $.extend,\n           map = $.map,\n           grep = $.grep,\n           isArray = Array.isArray,\n           inArray = $.inArray,\n           push = Array.prototype.push,\n           isFunction = kendo.isFunction,\n           encode = kendo.htmlEncode,\n           isEmptyObject = $.isEmptyObject,\n           contains = $.contains,\n           math = Math,\n\n           DOT = \".\",\n           PROGRESS = \"progress\",\n           ERROR = \"error\",\n           HIERARCHY_CELL_CLASS = \"k-hierarchy-cell\",\n           DATA_CELL = \":not(.k-group-cell):not([\" + kendo.attr(\"virtual\") + \"]):not(.k-hierarchy-cell:not(:has(.k-icon.k-i-caret-alt-down,.k-icon.k-i-caret-alt-right,.k-svg-icon.k-svg-i-caret-alt-down,.k-svg-icon.k-svg-i-caret-alt-right,.k-svg-icon.k-svg-i-caret-alt-left,.k-icon.k-i-caret-alt-left))):visible\",\n           SELECTION_CELL_SELECTOR = \"tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)\",\n           NAVROW = \"tr:not(.k-footer-template):visible\",\n           NAVCELL = \":not(.k-group-cell):not(.k-detail-cell):not(.k-hierarchy-cell):visible\",\n           ITEMROW = \"tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible\",\n           COLGROUP = \"col:not(.k-group-col, .k-hierarchy-col)\",\n           HEADERCELLS = \"th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)\",\n           CARET_ALT_DOWN = \"a[class*='-i-caret-alt-down']\",\n           CARET_ALT_RIGHT = \"a[class*='-i-caret-alt-right']\",\n           CARET_ALT_RIGHT_CACHE = CARET_ALT_RIGHT,\n           CARET_ALT_LEFT = \"a[class*='-i-caret-alt-left']\",\n           WRAPPER = \".k-grid\",\n           NS = \".kendoGrid\",\n           CONTENTRLOCKEDCONTAINER = \"k-grid-content-locked\",\n           GROUPCELLCLASS = \"k-group-cell\",\n\n           EDIT = \"edit\",\n           BEFOREEDIT = \"beforeEdit\",\n           SAVE = \"save\",\n           REMOVE = \"remove\",\n           DETAILINIT = \"detailInit\",\n           FILTERMENUINIT = \"filterMenuInit\",\n           COLUMNMENUINIT = \"columnMenuInit\",\n           FILTERMENUOPEN = \"filterMenuOpen\",\n           COLUMNMENUOPEN = \"columnMenuOpen\",\n           CELLCLOSE = \"cellClose\",\n           CHANGE = \"change\",\n           COLUMNHIDE = \"columnHide\",\n           COLUMNSHOW = \"columnShow\",\n           SAVECHANGES = \"saveChanges\",\n           DATABOUND = \"dataBound\",\n           DETAILEXPAND = \"detailExpand\",\n           DETAILCOLLAPSE = \"detailCollapse\",\n           ITEM_CHANGE = \"itemchange\",\n           PAGE = \"page\",\n           PAGING = \"paging\",\n           SCROLL = \"scroll\",\n           SYNC = \"sync\",\n           LOAD_START = \"loadStart\",\n           LOAD_END = \"loadEnd\",\n\n           FOCUSED = \"k-focus\",\n           HOVER = \"k-hover\",\n           ACTIVE = \"k-active\",\n           FOCUSABLE = \":kendoFocusable\",\n           SELECTED = \"k-selected\",\n           CHECKBOX = \"k-checkbox\",\n           CHECKBOXINPUT = \"input[data-role='checkbox'].k-select-checkbox.\" + CHECKBOX,\n           NORECORDSCLASS = \"k-grid-norecords\",\n           LINK_CLASS = \"k-link\",\n           ICON_CLASS = \"k-icon\",\n           SVG_ICON_CLASS = \"k-svg-icon\",\n           ORDER_CLASS = \"k-sort-order\",\n           SORTED_CLASS = \"k-sorted\",\n           HEADER_COLUMN_MENU_CLASS = \"k-grid-column-menu\",\n           FILTER_MENU_CLASS = \"k-grid-filter-menu\",\n           STICKY_CELL_CLASS = \"k-grid-content-sticky k-table-td\",\n           STICKY_HEADER_CLASS = \"k-grid-header-sticky k-header\",\n           STICKY_FOOTER_CLASS = \"k-grid-footer-sticky k-table-td\",\n           STICKY_HEADER_NO_BORDER_CLASS = \"k-grid-no-left-border\",\n           ROW_RESIZER = \"k-row-resizer\",\n           ROW_RESIZER_WRAP = \"k-resizer-wrap\",\n           GROUPING_ROW = \"k-grouping-row\",\n           RESIZE = \"resize\",\n           ROWRESIZE = \"rowResize\",\n           COLUMNRESIZE = \"columnResize\",\n           COLUMNREORDER = \"columnReorder\",\n           COLUMNLOCK = \"columnLock\",\n           COLUMNUNLOCK = \"columnUnlock\",\n           COLUMNSTICK = \"columnStick\",\n           COLUMNUNSTICK = \"columnUnstick\",\n           ROWREORDER = \"rowReorder\",\n           NAVIGATE = \"navigate\",\n           CLICK = \"click\",\n           MOUSEDOWN = \"mousedown\",\n           MOUSEUP = \"mouseup\",\n           MOUSEENTER = \"mouseenter\",\n           MOUSELEAVE = \"mouseleave\",\n           MOUSEMOVE = \"mousemove\",\n           DUBLECLICK = \"dblclick\",\n           HEIGHT = \"height\",\n           WIDTH = \"width\",\n           AUTO = \"auto\",\n           TABINDEX = \"tabIndex\",\n           FUNCTION = \"function\",\n           STRING = \"string\",\n           BOTTOM = \"bottom\",\n           CONTAINER_FOR = \"container-for\",\n           FIELD = \"field\",\n           INPUT = \"input\",\n           INCELL = \"incell\",\n           INLINE = \"inline\",\n           UNIQUE_ID = \"uid\",\n           MINCOLSPANVALUE = 1,\n           COLSPAN = \"colSpan\",\n           OVERFLOW = \"overflow\",\n           HIDDEN = \"hidden\",\n           SORT = \"sort\",\n           GROUP_SORT = \"group-sort\",\n           DELETECONFIRM = \"Are you sure you want to delete this record?\",\n           NORECORDS = \"No records available.\",\n           CONFIRMDELETE = \"Delete\",\n           CANCELDELETE = \"Cancel\",\n           COLLAPSE = \"Collapse\",\n           EXPAND = \"Expand\",\n           ID = \"id\",\n           PX = \"px\",\n           TR = \"tr\",\n           DIV = \"div\",\n\n           ARIA_LABEL = \"aria-label\",\n           ARIA_OWNS = \"aria-owns\",\n           ARIA_ROWCOUNT = \"aria-rowcount\",\n           ARIA_COLCOUNT = \"aria-colcount\",\n           ARIA_CONTROLS = \"aria-controls\",\n           ARIA_COLINDEX = \"aria-colindex\",\n           ARIA_ROWINDEX = \"aria-rowindex\",\n           ARIA_EXPANDED = \"aria-expanded\",\n           ARIA_CHECKED = \"aria-checked\",\n           ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n           ROLE = \"role\",\n           NONE = \"none\",\n           ROW = \"row\",\n           ROWGROUP = \"rowgroup\",\n           COLUMNHEADER = \"columnheader\",\n           GRIDCELL = \"gridcell\",\n\n           formatRegExp = /(\\}|\\#)/ig,\n           templateHashRegExp = /#/ig,\n           whitespaceRegExp = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n           leftRegExp = new RegExp(\"(\\\\s*left\\\\s*:\\\\s*\\\\d*px;?)*\", \"ig\"),\n           rightRegExp = new RegExp(\"(\\\\s*right\\\\s*:\\\\s*\\\\d*px;?)*\", \"ig\"),\n           nonDataCellsRegExp = new RegExp(\"(^|\" + whitespaceRegExp + \")\" + \"(k-group-cell|k-hierarchy-cell)\" + \"(\" + whitespaceRegExp + \"|$)\"),\n           filterRowRegExp = new RegExp(\"(^|\" + whitespaceRegExp + \")\" + \"(k-filter-row)\" + \"(\" + whitespaceRegExp + \"|$)\"),\n           COMMANDBUTTONTMPL = function (ref) {\n              var className = ref.className;\n              var attr = ref.attr;\n              var text = ref.text;\n\n              return (\"<button type=\\\"button\\\" class=\\\"\" + className + \"\\\" \" + attr + \">\" + text + \"</button>\");\n       },\n           SELECTCOLUMNTMPL = function (ref) {\n              var size = ref.size;\n\n              return \"<input tabindex=\\\"-1\\\" class=\\\"k-select-checkbox \" + CHECKBOX + \" \" + size + \" k-rounded-md\\\" data-role=\\\"checkbox\\\" aria-label=\\\"Select row\\\" aria-checked=\\\"false\\\" type=\\\"checkbox\\\">\";\n       },\n           SELECTCOLUMNHEADERTMPL = function (ref) {\n              var size = ref.size;\n\n              return \"<input tabindex=\\\"-1\\\" class=\\\"k-select-checkbox \" + CHECKBOX + \" \" + size + \" k-rounded-md\\\" data-role=\\\"checkbox\\\" aria-label=\\\"Select all rows\\\" aria-checked=\\\"false\\\" type=\\\"checkbox\\\">\";\n       },\n           DRAGHANDLECOLUMNTMPL = function () { return kendo.ui.icon(\"reorder\"); },\n           SORTHEADERTMPL = function (ref) {\n              var text = ref.text;\n\n              return (\"<span class=\\\"k-cell-inner\\\"><span class=\\\"k-link\\\"><span class=\\\"k-column-title\\\">\" + text + \"</span></span></span>\");\n       },\n           isRtl = false,\n           browser = kendo.support.browser;\n\n       var isIE11 = browser.msie && browser.version === 11;\n       var isMac = /Mac OS/.test(navigator.userAgent);\n       var classNames = {\n           content: \"k-content\",\n           scrollContainer: \"k-scroll-container\",\n           headerCellInner: \"k-cell-inner\"\n       };\n       var GroupsPager;\n\n       if (ui.Pager) {\n           GroupsPager = ui.Pager.extend({\n               init: function(element, options) {\n                   ui.Pager.fn.init.call(this, element, extend(true, {}, options));\n                   this.dataSource.options.useRanges = true;\n                   this.dataSource._omitPrefetch = true;\n               },\n               options: {\n                   name: \"GroupsPager\"\n               },\n\n               totalPages: function() {\n                   var that = this;\n\n                   return Math.ceil((that._collapsedTotal() || 0) / (that.pageSize() || 1));\n               },\n               _collapsedTotal: function() {\n                   var dataSource = this.dataSource;\n                   return dataSource ? (dataSource.groupsTotal(true) || 0) : 0;\n               }\n           });\n       }\n\n       var VirtualScrollable = Widget.extend({\n           init: function(element, options) {\n               var that = this;\n\n               Widget.fn.init.call(that, element, options);\n               that._refreshHandler = that.refresh.bind(that);\n               that.setDataSource(options.dataSource);\n               that.wrap();\n           },\n\n           setDataSource: function(dataSource) {\n               var that = this;\n               if (that.dataSource) {\n                   that.dataSource.unbind(CHANGE, that._refreshHandler);\n               }\n               that.dataSource = dataSource;\n               that.dataSource.bind(CHANGE, that._refreshHandler);\n               that.dataSource.options.useRanges = true;\n               that.dataSource.options.virtual = true;\n           },\n\n           options: {\n               name: \"VirtualScrollable\",\n               itemHeight: $.noop,\n               prefetch: true,\n               maxScrollHeight: 250000\n           },\n\n           events: [\n               PAGING,\n               PAGE,\n               SCROLL,\n               LOAD_START,\n               LOAD_END\n           ],\n\n           destroy: function() {\n               var that = this;\n\n               Widget.fn.destroy.call(that);\n\n               that.dataSource.unbind(CHANGE, that._refreshHandler);\n               that.wrapper.add(that.verticalScrollbar).off(NS);\n\n               clearTimeout(that._timeout);\n               if (that._scrollingTimeout) {\n                   clearTimeout(that._scrollingTimeout);\n               }\n\n               if (that.drag) {\n                   that.drag.destroy();\n                   that.drag = null;\n               }\n               that.wrapper = that.element = that.verticalScrollbar = null;\n               that._refreshHandler = null;\n           },\n\n           wrap: function() {\n               var that = this,\n                   // workaround for IE issue where scroll is not raised if container is same width as the scrollbar\n                   scrollbar = kendo.support.scrollbar() + 1,\n                   element = that.element,\n                   wrapper;\n\n               element.css( {\n                   width: AUTO,\n                   overflow: \"hidden\"\n               }).css((isRtl ? \"padding-left\" : \"padding-right\"), scrollbar);\n               that.content = element.children().first();\n               wrapper = that.wrapper = that.content.wrap('<div class=\"k-virtual-scrollable-wrap\"/>')\n                                   .parent()\n                                   .on(\"DOMMouseScroll\" + NS + \" mousewheel\" + NS, that._wheelScroll.bind(that));\n               that._wrapper();\n\n               if (kendo.support.kineticScrollNeeded || kendo.support.touch) {\n                   that.wrapper.css(\"touch-action\", NONE);\n                   that.drag = new kendo.UserEvents(that.wrapper, {\n                       global: true,\n                       allowSelection: true,\n                       start: function(e) {\n                           e.sender.capture();\n                       },\n                       move: function(e) {\n                           that.verticalScrollbar.scrollTop(that.verticalScrollbar.scrollTop() - e.y.delta);\n                           kendo.scrollLeft(wrapper, kendo.scrollLeft(wrapper) - e.x.delta);\n                           e.preventDefault();\n                       }\n                   });\n               }\n\n               that.verticalScrollbar = $('<div class=\"k-scrollbar k-scrollbar-vertical\" />')\n                                           .css({\n                                               width: scrollbar\n                                           }).appendTo(element)\n                                           .on(\"scroll\" + NS, that._scroll.bind(that));\n           },\n\n           _wrapper: function() {\n               var that = this;\n\n               if (isIE11) {\n                   //scrolling the virtual scrollbar to the bottom and then\n                   //scrolling the horizontal content scrollbar does not fire the \"scroll\" event\n                   //seems like a problem in IE 11 only (after version 11.0.9600.18860)\n                   //https://github.com/telerik/kendo-ui-core/issues/3779\n                   that.wrapper.css({\n                       \"overflow-y\": SCROLL\n                   });\n\n                   //hide the wrapper behind the virtual scrollbar\n                   that.element.css((isRtl ? \"padding-left\" : \"padding-right\"), 0);\n               }\n           },\n\n           _wheelScroll: function(e) {\n               if (e.ctrlKey) {\n                   return;\n               }\n\n               var scrollbar = this.verticalScrollbar,\n                   scrollTop = scrollbar.scrollTop(),\n                   delta = kendo.wheelDeltaY(e);\n\n               if (delta && !(delta > 0 && scrollTop === 0) && !(delta < 0 && scrollTop + scrollbar[0].clientHeight == scrollbar[0].scrollHeight)) {\n                   e.preventDefault();\n                   this.verticalScrollbar.scrollTop(scrollTop + (-delta));\n               }\n           },\n\n           _scroll: function(e) {\n               var that = this,\n                   delayLoading = !that.options.prefetch,\n                   scrollTop = e.currentTarget.scrollTop,\n                   dataSource = that.dataSource,\n                   rowHeight = that.itemHeight,\n                   skip = dataSource.skip() || 0,\n                   start = that._rangeStart || skip,\n                   height = that.element.innerHeight(),\n                   isScrollingUp = !!(that._scrollbarTop && that._scrollbarTop > scrollTop),\n                   firstItemIndex = math.max(math.floor(scrollTop / rowHeight), 0),\n                   lastItemOffset = isScrollingUp ? math.ceil(height / rowHeight) : math.floor(height / rowHeight),\n                   lastItemIndex = math.max(firstItemIndex + lastItemOffset, 0);\n\n               if (that._preventScroll) {\n                   that._preventScroll = false;\n                   return;\n               }\n               that._prevScrollTop = that._scrollTop;\n               that._scrollTop = scrollTop - (start * rowHeight);\n               that._scrollbarTop = scrollTop;\n\n               that._scrolling = delayLoading;\n\n               if (!that._fetch(firstItemIndex, lastItemIndex, isScrollingUp)) {\n                   that.wrapper[0].scrollTop = that._scrollTop;\n               }\n\n               that.trigger(SCROLL);\n\n               if (delayLoading) {\n                   if (that._scrollingTimeout) {\n                       clearTimeout(that._scrollingTimeout);\n                   }\n\n                   that._scrollingTimeout = setTimeout(function() {\n                       that._scrolling = false;\n                       that._page(that._rangeStart, that.dataSource.take());\n                   }, 100);\n               }\n           },\n\n           scrollToTop: function() {\n               this._scrollTo(0);\n           },\n\n           scrollToBottom: function() {\n               var scrollbar = this.verticalScrollbar;\n               this._scrollTo(scrollbar[0].scrollHeight - scrollbar.height());\n           },\n\n           _scrollWrapperToTop: function() {\n               this.wrapper.scrollTop(0);\n           },\n\n           _scrollWrapperToBottom: function() {\n               this.wrapper.scrollTop(this.wrapper[0].scrollHeight);\n           },\n\n           _scrollWrapperOnColumnResize: function() {\n               var that = this;\n               var wrapper = this.wrapper;\n               var initialScrollTop = wrapper.scrollTop();\n\n               if (wrapper[0].scrollWidth > wrapper[0].clientWidth) {\n                   if ((!that._wrapperScrolled && initialScrollTop) || that._isScrolledToBottom()) {\n                       wrapper.scrollTop(initialScrollTop + kendo.support.scrollbar());\n                       that._scrollTop = wrapper.scrollTop();\n                       that._wrapperScrolled = true;\n                   }\n               } else if (that._wrapperScrolled) {\n                   if (!that._isWrapperScrolledToBottom()) {\n                       wrapper.scrollTop(initialScrollTop - kendo.support.scrollbar());\n                       that._scrollTop = wrapper.scrollTop();\n                   }\n\n                   that._wrapperScrolled = false;\n               }\n           },\n\n           _scrollTo: function(scrollTop) {\n               var that = this;\n               var scrollbar = that.verticalScrollbar;\n\n               if (scrollbar.scrollTop() !== scrollTop) {\n                   that._preventScroll = true;\n               }\n\n               that.wrapper.scrollTop(scrollTop);\n               that._scrollTop = that.wrapper.scrollTop();\n\n               scrollbar.scrollTop(scrollTop);\n               that._scrollbarTop = scrollbar.scrollTop();\n           },\n\n           _isScrolledToTop: function() {\n               return this.verticalScrollbar.scrollTop() === 0;\n           },\n\n           _isScrolledToBottom: function() {\n               var scrollbar = this.verticalScrollbar;\n               var scrollTop = scrollbar.scrollTop();\n\n               return (scrollTop > 0 && scrollTop >= parseInt(scrollbar[0].scrollHeight - scrollbar.height(), 10));\n           },\n\n           _isWrapperScrolledToBottom: function() {\n               var wrapper = this.wrapper;\n\n               return (wrapper.scrollTop() >= parseInt(wrapper[0].scrollHeight - wrapper.height(), 10));\n           },\n\n           itemIndex: function(rowIndex) {\n               var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n\n               return rangeStart + rowIndex;\n           },\n\n           position: function(index) {\n               var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n               var pageSize = this.dataSource.pageSize();\n               var result;\n\n               if (index > rangeStart) {\n                   result = index - rangeStart;\n               } else {\n                   result = rangeStart - index - 1;\n               }\n\n               return result > pageSize ? pageSize : result;\n           },\n\n           scrollIntoView: function(row) {\n               var container = this.wrapper[0];\n               var containerHeight = container.clientHeight;\n               var containerScroll = !this._isScrolledToBottom() ? (this._scrollTop || container.scrollTop) : container.scrollTop;\n               var elementOffset = row[0].offsetTop;\n               var elementHeight = row[0].offsetHeight;\n\n               if (containerScroll > elementOffset) {\n                   this.verticalScrollbar[0].scrollTop -= containerHeight / 2;\n               } else if (elementOffset + elementHeight >= containerScroll + containerHeight) {\n                   this.verticalScrollbar[0].scrollTop += containerHeight / 2;\n               }\n           },\n\n           _fetch: function(firstItemIndex, lastItemIndex, scrollingUp) {\n               var that = this,\n                   dataSource = that.dataSource,\n                   itemHeight = that.itemHeight,\n                   take = dataSource.take(),\n                   rangeStart = that._rangeStart || dataSource.skip() || 0,\n                   currentSkip = math.floor(firstItemIndex / take) * take,\n                   fetching = false,\n                   prefetchAt = 0.33;\n               var scrollbar = that.verticalScrollbar;\n               var webkitCorrection = browser.webkit ? 1 : 0;\n               var total = dataSource._isGroupPaged() ? dataSource.groupsTotal(true) : dataSource.total();\n\n               if (firstItemIndex < rangeStart) {\n\n                   fetching = true;\n                   rangeStart = math.max(0, lastItemIndex - take);\n                   that._scrollTop = scrollbar.scrollTop() - (rangeStart * itemHeight);\n                   that._page(rangeStart, take);\n\n               } else if (lastItemIndex >= rangeStart + take && !scrollingUp) {\n\n                   fetching = true;\n                   rangeStart = math.min(firstItemIndex, total - take);\n\n                   //ensure the scrollbar can be scrolled to bottom with mouse drag\n                   if (scrollbar.scrollTop() >= scrollbar[0].scrollHeight - scrollbar[0].offsetHeight - webkitCorrection) {\n                       that._scrollTop = that.wrapper[0].scrollHeight - that.wrapper[0].offsetHeight;\n                   } else if (that.dataSource._isGroupPaged() && firstItemIndex >= total - take) {\n                       that._scrollTop = that.wrapper[0].scrollHeight - that.wrapper[0].offsetHeight - (that._scrollTop - that._prevScrollTop);\n                   } else {\n                       that._scrollTop = itemHeight;\n                   }\n\n                   that._page(rangeStart, take);\n\n               } else if (!that._fetching && that.options.prefetch) {\n\n                   if (firstItemIndex < (currentSkip + take) - take * prefetchAt && firstItemIndex > take) {\n                       dataSource.prefetch(currentSkip - take, take, $.noop);\n                   }\n                   if (lastItemIndex > currentSkip + take * prefetchAt) {\n                       dataSource.prefetch(currentSkip + take, take, $.noop);\n                   }\n\n               }\n               return fetching;\n           },\n\n           fetching: function() {\n               return this._fetching;\n           },\n\n           _page: function(skip, take, callback) {\n               var that = this,\n                   delayLoading = !that.options.prefetch,\n                   dataSource = that.dataSource,\n                   isGroupPaged = dataSource._isGroupPaged();\n               callback = isFunction(callback) ? callback : $.noop;\n\n               if (that.trigger(PAGING, { skip: skip, take: take })) {\n                   return;\n               }\n\n               clearTimeout(that._timeout);\n               that._fetching = true;\n               that._rangeStart = skip;\n\n               if ((isGroupPaged && dataSource._groupRangeExists(skip, skip + take)) || (!isGroupPaged && dataSource.inRange(skip, take))) {\n                   that.trigger(LOAD_START);\n\n                   dataSource.range(skip, take, function() {\n                       that.trigger(LOAD_END);\n                       callback();\n                       that.trigger(PAGE);\n                   }, \"page\");\n               } else {\n                   if (!delayLoading) {\n                       that.trigger(LOAD_START);\n                   }\n\n                   that._timeout = setTimeout(function() {\n                       if (!that._scrolling) {\n\n                           if (delayLoading) {\n                               that.trigger(LOAD_START);\n                           }\n\n                           dataSource.range(skip, take, function() {\n                               that.trigger(LOAD_END);\n                               callback();\n                               that.trigger(PAGE);\n                           });\n                       }\n                   }, 100);\n               }\n           },\n\n           repaintScrollbar: function(shouldScrollWrapper) {\n               var that = this,\n                   html = \"\",\n                   maxHeight = that.options.maxScrollHeight,\n                   dataSource = that.dataSource,\n                   scrollbar = !kendo.support.kineticScrollNeeded ? kendo.support.scrollbar() : 0,\n                   wrapperElement = that.wrapper[0],\n                   totalHeight,\n                   idx,\n                   itemHeight;\n               var wasScrolledToBottom = that._isScrolledToBottom();\n\n               itemHeight = that.itemHeight = that.options.itemHeight() || 0;\n\n               var addScrollBarHeight = (wrapperElement.scrollWidth > wrapperElement.offsetWidth) ? scrollbar : 0;\n\n               totalHeight = (dataSource._isGroupPaged() ? dataSource.groupsTotal(true) : dataSource.total()) * itemHeight + addScrollBarHeight;\n\n               for (idx = 0; idx < math.floor(totalHeight / maxHeight); idx++) {\n                   html += '<div style=\"width:1px;height:' + maxHeight + 'px\"></div>';\n               }\n\n               if (totalHeight % maxHeight) {\n                   html += '<div style=\"width:1px;height:' + (totalHeight % maxHeight) + 'px\"></div>';\n               }\n\n               that.verticalScrollbar.html(html);\n\n               if (wasScrolledToBottom && !that._isScrolledToBottom() && !that.dataSource._isGroupPaged()) {\n                   that.scrollToBottom();\n               }\n\n               if (typeof(that._scrollTop) !== \"undefined\" && !!shouldScrollWrapper) {\n                   wrapperElement.scrollTop = that._scrollTop;\n                   that._scrollWrapperOnColumnResize();\n               }\n           },\n\n           refresh: function(e) {\n               var that = this,\n                   dataSource = that.dataSource,\n                   rangeStart = that._rangeStart;\n               var action = (e || {}).action;\n               var shouldScrollWrapper = that._isScrolledToBottom() || !action || (action !== ITEM_CHANGE && action !== REMOVE && action !== SYNC);\n\n               that.trigger(LOAD_END);\n               clearTimeout(that._timeout);\n\n               that.repaintScrollbar(shouldScrollWrapper);\n\n               if (that.drag) {\n                   that.drag.cancel();\n               }\n\n               if (typeof(rangeStart) !== \"undefined\" && !that._fetching) { // we are rebound from outside local range should be reset\n                   if (!action || (action !== SYNC && action !== ITEM_CHANGE && action !== \"expandGroup\")) {\n                       that._rangeStart = dataSource.skip();\n                   }\n\n                   if (dataSource.page() === 1 && (!action || (action !== SYNC && action !== ITEM_CHANGE && action !== \"expandGroup\" && action !== \"collapseGroup\"))) {\n                       // reset the scrollbar position if datasource is filtered\n                       that.verticalScrollbar[0].scrollTop = 0;\n                   }\n               }\n\n               that._fetching = false;\n           }\n       });\n\n       function attrEquals(attrName, attrValue) {\n           return \"[\" + kendo.attr(attrName) + \"=\" + attrValue + \"]\";\n       }\n\n       function groupCells(count) {\n           return new Array(count + 1).join('<td class=\"k-table-td k-group-cell\">&nbsp;</td>');\n       }\n\n       function stringifyAttributes(attributes) {\n           var attr,\n               result = \" \";\n\n           if (attributes) {\n               if (typeof attributes === STRING) {\n                   return attributes;\n               }\n\n               for (attr in attributes) {\n                   if (attributes[attr] !== '') {\n                       result += attr + '=\"' + attributes[attr] + '\"';\n                   }\n               }\n           }\n           return result;\n       }\n\n       var defaultCommands = {\n           create: {\n               text: \"Add new record\",\n               className: \"k-grid-add\",\n               iconClass: \"k-i-plus\"\n           },\n           cancel: {\n               text: \"Cancel changes\",\n               className: \"k-grid-cancel-changes\",\n               iconClass: \"k-i-cancel\"\n           },\n           save: {\n               text: \"Save changes\",\n               className: \"k-grid-save-changes\",\n               iconClass: \"k-i-check\"\n           },\n           destroy: {\n               text: \"Delete\",\n               className: \"k-grid-remove-command\",\n               iconClass: \"k-i-x\"\n           },\n           edit: {\n               text: \"Edit\",\n               className: \"k-grid-edit-command\",\n               iconClass: \"k-i-pencil\",\n               themeColor: \"primary\"\n           },\n           update: {\n               text: \"Save\",\n               className: \"k-grid-save-command\",\n               iconClass: \"k-i-save\",\n               themeColor: \"primary\"\n           },\n           canceledit: {\n               text: \"Cancel\",\n               className: \"k-grid-cancel-command\",\n               iconClass: \"k-i-cancel-outline\"\n           },\n           excel: {\n               text: \"Export to Excel\",\n               className: \"k-grid-excel\",\n               iconClass: \"k-i-file-excel\"\n           },\n           pdf: {\n               text: \"Export to PDF\",\n               className: \"k-grid-pdf\",\n               iconClass: \"k-i-file-pdf\"\n           },\n           search: {\n               text: \"Search...\",\n               className: \"k-grid-search\"\n           }\n       };\n\n       function cursor(context, value) {\n           $('th, th .k-grid-filter-menu, th .k-link', context)\n               .add(document.body)\n               .css('cursor', value);\n       }\n\n       function reorder(selector, source, dest, before, count) {\n           var sourceIndex = source;\n           source = $();\n           count = count || 1;\n           for (var idx = 0; idx < count; idx++) {\n               source = source.add(selector.eq(sourceIndex + idx));\n           }\n\n           if (typeof dest == \"number\") {\n               source[before ? \"insertBefore\" : \"insertAfter\"](selector.eq(dest));\n           } else {\n               source.appendTo(dest);\n           }\n       }\n\n       function elements(lockedContent, content, filter) {\n           return $(lockedContent).add(content).find(filter);\n       }\n\n       function attachCustomCommandEvent(context, container, commands) {\n           var idx,\n               length,\n               command,\n               commandName;\n\n           commands = !isArray(commands) ? [commands] : commands;\n\n           for (idx = 0, length = commands.length; idx < length; idx++) {\n               command = commands[idx];\n\n               if (isPlainObject(command) && command.click) {\n                   commandName = command.name || command.text;\n                   container.on(CLICK + NS, \".k-grid-\" + (commandName || \"\").replace(/\\s/g, \"\"), { commandName: commandName }, command.click.bind(context));\n               }\n           }\n       }\n\n       function normalizeColumns(columns, encoded, hide, locked, parentIds) {\n           return map(columns, function(column) {\n               column = typeof column === STRING ? { field: column } : column;\n\n               var hidden;\n               column.parentIds = parentIds;\n\n               if (!isVisible(column) || hide) {\n                   column.attributes = addHiddenStyle(column.attributes);\n                   column.footerAttributes = addHiddenStyle(column.footerAttributes);\n                   column.headerAttributes = addHiddenStyle(column.headerAttributes);\n                   hidden = true;\n               }\n\n               var uid = kendo.guid();\n               if (locked && !column.locked) {\n                   column.locked = locked;\n               }\n\n               column.headerAttributes = extend({ headers: parentIds }, column.headerAttributes);\n               if (!column.headerAttributes.id) {\n                   column.headerAttributes = extend({ id: uid }, column.headerAttributes);\n                   column.uid = uid;\n               } else {\n                   column.uid = uid = column.headerAttributes.id;\n               }\n\n               if (column.columns) {\n                   column.columns = normalizeColumns(column.columns, encoded, hidden, column.locked, parentIds ? (parentIds + \" \" + uid) : uid);\n               }\n               return extend({ encoded: encoded, hidden: hidden, locked: locked }, column);\n           });\n       }\n\n       function columnParent(column, columns) {\n           var parents = [];\n           columnParents(column, columns, parents);\n           return parents[parents.length - 1];\n       }\n\n       function columnParents(column, columns, parents) {\n           parents = parents || [];\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               if (column === columns[idx]) {\n                   return true;\n               } else if (columns[idx].columns) {\n                   var inserted = parents.length;\n                   parents.push(columns[idx]);\n                   if (!columnParents(column, columns[idx].columns, parents)) {\n                       parents.splice(inserted, parents.length - inserted);\n                   } else {\n                       return true;\n                   }\n               }\n           }\n           return false;\n       }\n\n       function setColumnVisibility(column, visible) {\n           setVisibility(column, visible, visible);\n       }\n\n       function setVisibility(column, visible, show) {\n           var method = show ? removeHiddenStyle : addHiddenStyle;\n           column.hidden = !visible;\n           column.attributes = method(column.attributes);\n           column.footerAttributes = method(column.footerAttributes);\n           column.headerAttributes = method(column.headerAttributes);\n       }\n\n\n       function setColumnMediaVisibility(column, visible) {\n           setColumnMatchesMedia(column);\n           var hideByMedia = column._hideByMedia;\n           setVisibility(column, visible, hideByMedia ? column.matchesMedia : visible);\n       }\n\n       function setColumnMatchesMedia(column) {\n           column.matchesMedia = columnMatchesMedia(column);\n       }\n\n       function columnMatchesMedia(column) {\n           return column && (isUndefined(column.media) || (!isUndefined(column.media) && kendo.matchesMedia(column.media)));\n       }\n\n       function isCellVisible() {\n           return this.style.display !== NONE;\n       }\n\n       function isElementVisible(element) {\n           return $(element)[0].style.display !== NONE;\n       }\n\n       function isVisible(column) {\n           return visibleColumns([column]).length > 0;\n       }\n\n       function visibleColumns(columns) {\n           return grep(columns, function(column) {\n               var result = !column.hidden && column.matchesMedia !== false;\n\n               if (result && column.columns) {\n                   result = visibleColumns(column.columns).length > 0;\n               }\n               return result;\n           });\n       }\n\n       function columnsWithMedia(columns) {\n           var result = [];\n           var column;\n\n           for (var i = 0; i < columns.length; i++) {\n               column = columns[i];\n\n               if (!isUndefined(column.media)) {\n                   if (!isUndefined(column.minScreenWidth)) {\n                       throw new Error(\"Using 'media' and 'minScreenWidth' options at the same time is not supported.\");\n                   }\n\n                   result.push(column);\n               }\n\n               if (column.columns) {\n                   result = result.concat(columnsWithMedia(column.columns));\n               }\n           }\n\n           return result;\n       }\n\n       function isUndefined(value) {\n           return typeof value === \"undefined\";\n       }\n\n       function toJQuery(elements) {\n           return $(elements).map(function() { return this.toArray(); });\n       }\n\n       function updateCellRowSpan(cell, columns, sourceLockedColumnsCount) {\n           var lockedColumnDepth = depth(lockedColumns(columns));\n           var nonLockedColumnDepth = depth(nonLockedColumns(columns));\n\n           var rowSpan = cell.rowSpan;\n           if (sourceLockedColumnsCount) {\n               if (lockedColumnDepth > nonLockedColumnDepth) {\n                   cell.rowSpan = (rowSpan - (lockedColumnDepth - nonLockedColumnDepth)) || 1;\n               } else {\n                   cell.rowSpan = rowSpan + (nonLockedColumnDepth - lockedColumnDepth);\n               }\n           } else {\n               if (lockedColumnDepth > nonLockedColumnDepth) {\n                   cell.rowSpan = rowSpan + (lockedColumnDepth - nonLockedColumnDepth);\n               } else {\n                   cell.rowSpan = (rowSpan - (nonLockedColumnDepth - lockedColumnDepth)) || 1;\n               }\n           }\n       }\n\n       function findColumnByField(columns, field) {\n           for (var i = 0; i < columns.length; i++) {\n               if (columns[i].field == field) {\n                   return columns[i];\n               }\n           }\n       }\n\n       function moveCellsBetweenContainers(sources, target, leafs, columns, container, destination, groups, action) {\n           var sourcesDepth = depth(sources);\n           var targetDepth = depth([target]);\n\n           if (sourcesDepth > targetDepth) {\n               var groupCells = new Array(groups + 1).join('<th class=\"k-group-cell k-header k-table-th\" scope=\"col\">&nbsp;</th>');\n               var rows = destination.children(\":not(.k-filter-row)\");\n               $(new Array((sourcesDepth - targetDepth) + 1).join(\"<tr class='k-table-row'>\" + groupCells + \"</tr>\")).insertAfter(rows.last());\n           }\n\n           addRowSpanValue(destination, sourcesDepth - targetDepth);\n\n           moveCells(leafs, columns, container, destination, action);\n       }\n\n       function updateCellIndex(thead, columns, offset) {\n           offset = offset || 0;\n\n           var position;\n           var cell;\n           var allColumns = columns;\n           columns = leafColumns(columns);\n\n           var cells = {};\n           var rows = thead.find(\">tr:not(.k-filter-row)\");\n\n           var filter = function() {\n               var el = $(this);\n               return !el.hasClass(\"k-group-cell\") && !el.hasClass(\"k-hierarchy-cell\");\n           };\n\n           for (var idx = 0, length = columns.length; idx < length; idx++) {\n               position = columnPosition(columns[idx], allColumns);\n\n               if (!cells[position.row]) {\n                   cells[position.row] = rows.eq(position.row)\n                       .find(\".k-header\")\n                       .filter(filter);\n               }\n\n               cell = cells[position.row].eq(position.cell);\n               cell.attr(kendo.attr(\"index\"), offset + idx);\n           }\n\n\n           return columns.length;\n       }\n\n       function depth(columns) {\n           var result = 1;\n           var max = 0;\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               if (columns[idx].columns) {\n                   var temp = depth(columns[idx].columns);\n                   if (temp > max) {\n                       max = temp;\n                   }\n               }\n           }\n           return result + max;\n       }\n\n       function moveCells(leafs, columns, container, destination, action) {\n           var sourcePosition = columnVisiblePosition(leafs[0], columns);\n\n           var ths = container.find(\">tr:not(.k-filter-row)\").eq(sourcePosition.row).children(\"th.k-header\");\n\n           var t = $();\n           var sourceIndex = sourcePosition.cell;\n           var idx;\n\n           for (idx = 0; idx < leafs.length; idx++) {\n               t = t.add(ths.eq(sourceIndex + idx));\n           }\n\n           destination.find(\">tr:not(.k-filter-row)\").eq(sourcePosition.row)[action](t);\n\n           var children = [];\n           for (idx = 0; idx < leafs.length; idx++) {\n               if (leafs[idx].columns) {\n                   children = children.concat(leafs[idx].columns);\n               }\n           }\n\n           if (children.length) {\n               moveCells(children, columns, container, destination, action);\n           }\n       }\n\n       function columnPosition(column, columns, row, cellCounts) {\n           var result;\n           var idx;\n\n           row = row || 0;\n           cellCounts = cellCounts || {};\n           cellCounts[row] = cellCounts[row] || 0;\n\n           for (idx = 0; idx < columns.length; idx++) {\n              if (columns[idx] == column) {\n                   result = { cell: cellCounts[row], row: row };\n                   break;\n              } else if (columns[idx].columns) {\n                  result = columnPosition(column, columns[idx].columns, row + 1, cellCounts);\n                  if (result) {\n                       break;\n                  }\n              }\n\n              cellCounts[row]++;\n           }\n           return result;\n       }\n       function findParentColumnWithChildren(columns, index, source, rtl) {\n           var target;\n           var locked = !!source.locked;\n           var targetLocked;\n\n           do {\n               target = columns[index];\n               index += rtl ? 1 : -1;\n               targetLocked = !!target.locked;\n           } while (target && index > -1 && index < columns.length && target != source && !target.columns && targetLocked === locked);\n\n           return target;\n       }\n\n       function decorateCellWithClass(html) {\n           var element = html;\n           var classes = element.match(/class=[\"][^\"]+/g);\n           if (classes) {\n               var cssClasses = classes[0].split('\\\"').pop();\n               element = element.replace(cssClasses, cssClasses + \" k-table-td\");\n           } else {\n               element = element.replace(\"<td\",\"<td class='k-table-td'\");\n           }\n\n           return element;\n       }\n\n       function findReorderTarget(columns, target, source, before, masterColumns) {\n           if (target.columns) {\n               target = target.columns;\n               return target[before ? 0 : target.length - 1];\n           } else {\n               var parent = columnParent(target, columns);\n               var parentColumns;\n\n               if (parent) {\n                   parentColumns = parent.columns;\n               } else {\n                   parentColumns = columns;\n               }\n\n               var index = inArray(target, parentColumns);\n               if (index === 0 && before) {\n                   index++;\n               } else if ((index == parentColumns.length - 1 && !before) || (!source.locked && !target.columns && !before)) {\n                   index--;\n               } else if (index > 0 || (index === 0 && !before)) {\n                   index++;\n               }\n\n               var sourceIndex = inArray(source, parentColumns);\n               target = findParentColumnWithChildren(parentColumns, index, source, sourceIndex > index);\n               var targetIndex = inArray(target, masterColumns);\n               if (target.columns && (!targetIndex || targetIndex === parentColumns.length - 1)) {\n                   return null;\n               }\n\n               if (target && target != source && target.columns) {\n                   return findReorderTarget(columns, target, source, before, masterColumns);\n               }\n           }\n           return null;\n       }\n\n       function columnVisiblePosition(column, columns, row, cellCounts) {\n           var result;\n           var idx;\n\n           row = row || 0;\n           cellCounts = cellCounts || {};\n           cellCounts[row] = cellCounts[row] || 0;\n\n           for (idx = 0; idx < columns.length; idx++) {\n              if (columns[idx] == column) {\n                   result = { cell: cellCounts[row], row: row };\n                   break;\n              } else if (columns[idx].columns) {\n                  result = columnVisiblePosition(column, columns[idx].columns, row + 1, cellCounts);\n                  if (result) {\n                       break;\n                  }\n              }\n\n              if (!columns[idx].hidden) {\n                  cellCounts[row]++;\n              }\n           }\n           return result;\n       }\n\n       function flatColumnsInDomOrder(columns) {\n           var result = flatColumns(lockedColumns(columns));\n           return result.concat(flatColumns(nonLockedColumns(columns)));\n       }\n\n       function targetParentContainerIndex(flatColumns, columns, sourceIndex, targetIndex) {\n           var column = flatColumns[sourceIndex];\n           var target = flatColumns[targetIndex];\n\n           var parent = columnParent(column, columns);\n           columns = parent ? parent.columns : columns;\n\n           return inArray(target, columns);\n       }\n\n       function flatColumns(columns) {\n           var result = [];\n           var children = [];\n           for (var idx = 0; idx < columns.length; idx++) {\n               result.push(columns[idx]);\n               if (columns[idx].columns) {\n                   children = children.concat(columns[idx].columns);\n               }\n\n           }\n           if (children.length) {\n               result = result.concat(flatColumns(children));\n           }\n           return result;\n       }\n\n       function hiddenLeafColumnsCount(columns) {\n           var counter = 0;\n           var column;\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               column = columns[idx];\n\n               if (column.columns) {\n                   counter += hiddenLeafColumnsCount(column.columns);\n               } else if (column.hidden) {\n                   counter++;\n               }\n           }\n           return counter;\n       }\n\n       function sumWidths(cols) {\n           var width = 0;\n\n           for (var idx = 0, length = cols.length; idx < length; idx++) {\n               if (!cols[idx].hidden) {\n                   width += parseInt(cols[idx].width, 10);\n               }\n           }\n\n           return width;\n       }\n\n       function columnsWidth(cols) {\n           var colWidth, width = 0;\n\n           for (var idx = 0, length = cols.length; idx < length; idx++) {\n               colWidth = cols[idx].style.width;\n               if (colWidth && colWidth.indexOf(\"%\") == -1) {\n                   width += parseInt(colWidth, 10);\n               }\n           }\n\n           return width;\n       }\n\n       function removeRowSpanValue(container, count) {\n           var cells = container.find(\"tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)\");\n\n           var rowSpan;\n           for (var idx = 0; idx < cells.length; idx++) {\n               rowSpan = cells[idx].rowSpan;\n               if (rowSpan > 1) {\n                   cells[idx].rowSpan = (rowSpan - count) || 1;\n               }\n           }\n       }\n\n       function addRowSpanValue(container, count) {\n           var cells = container.find(\"tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)\");\n\n           for (var idx = 0; idx < cells.length; idx++) {\n               cells[idx].rowSpan += count;\n           }\n       }\n\n       function removeEmptyRows(container) {\n           var rows = container.find(\"tr:not(.k-filter-row)\");\n\n           var emptyRowsCount = rows.filter(function() {\n               return !$(this).children().length;\n           }).remove().length;\n\n           var cells = rows.find(\"th:not(.k-group-cell,.k-hierarchy-cell)\");\n\n           for (var idx = 0; idx < cells.length; idx++) {\n               if (cells[idx].rowSpan > 1) {\n                   cells[idx].rowSpan -= emptyRowsCount;\n               }\n           }\n           return rows.length - emptyRowsCount;\n       }\n\n       function mapColumnToCellRows(columns, cells, rows, rowIndex, offset) {\n           var idx, row, length, children = [];\n\n           for (idx = 0, length = columns.length; idx < length; idx++) {\n               row = rows[rowIndex] || [];\n               row.push(cells.eq(offset + idx));\n               rows[rowIndex] = row;\n\n               if (columns[idx].columns) {\n                   children = children.concat(columns[idx].columns);\n               }\n           }\n\n           if (children.length) {\n               mapColumnToCellRows(children, cells, rows, rowIndex + 1, offset + columns.length);\n           }\n       }\n\n       function setLeftAndRightStyles(element, left, right) {\n           element.css({\n               \"left\": left,\n               \"right\": right\n           });\n       }\n\n       function createColumnAttribute(column, attribute, property) {\n           column[attribute] = column[attribute] || {};\n           column[attribute][property] = column[attribute][property] || \"\";\n       }\n\n       function addColumnAttribute(column, attribute, property, value) {\n           createColumnAttribute(column, attribute, property);\n\n           if (column[attribute][property] !== \"\") {\n               column[attribute][property] += \" \" + value;\n           } else {\n               column[attribute][property] = value;\n           }\n       }\n\n       function removeColumnAttribute(column, attribute, property, value) {\n           createColumnAttribute(column, attribute, property);\n\n           column[attribute][property] = column[attribute][property].replace(value, \"\");\n       }\n\n       function lockedColumns(columns) {\n           return grep(columns, function(column) {\n               return column.locked;\n           });\n       }\n\n       function nonLockedColumns(columns) {\n           return grep(columns, function(column) {\n               return !column.locked;\n           });\n       }\n\n       function stickyColumns(columns) {\n           return grep(columns, function(column) {\n               return column.sticky && !column.locked;\n           });\n       }\n\n       function visibleStickyColumns(columns) {\n           return grep(columns, function(column) {\n               return column.sticky && !column.locked && isVisible(column);\n           });\n       }\n\n       function visibleNonLockedColumns(columns) {\n           return grep(columns, function(column) {\n               return !column.locked && isVisible(column);\n           });\n       }\n\n       function visibleLockedColumns(columns) {\n           return grep(columns, function(column) {\n               return column.locked && isVisible(column);\n           });\n       }\n\n       function visibleLeafColumns(columns) {\n           var result = [];\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               if (columns[idx].hidden) {\n                   continue;\n               }\n\n               if (columns[idx].columns) {\n                   result = result.concat(visibleLeafColumns(columns[idx].columns));\n               } else {\n                   result.push(columns[idx]);\n               }\n           }\n\n           return result;\n       }\n\n       function visibleLeafExportColumns(columns) {\n           var result = [];\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               if (columns[idx].hidden) {\n                   continue;\n               }\n\n               if (columns[idx].columns) {\n                   result = result.concat(visibleLeafColumns(columns[idx].columns));\n               } else {\n                   result.push({\n                       field: columns[idx].field,\n                       width: columns[idx].width,\n                       values: columns[idx].values\n                   });\n               }\n           }\n\n           return result;\n       }\n\n       function childColumns(columns) {\n           var result = [];\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               if (columns[idx].columns) {\n                   result = result.concat(columns[idx].columns);\n               }\n           }\n\n           return result;\n       }\n\n       function visibleChildColumns(columns) {\n           var result = childColumns(columns);\n\n           result = result.filter(function(e) {\n               return !e.hidden;\n           });\n\n           return result;\n       }\n\n       function leafColumns(columns) {\n           var result = [];\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               if (!columns[idx].columns) {\n                   result.push(columns[idx]);\n                   continue;\n               }\n               result = result.concat(leafColumns(columns[idx].columns));\n           }\n\n           return result;\n       }\n\n       function getColumnsFields(columns) {\n           var result = [];\n           columns = leafColumns(columns);\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               if (typeof columns[idx] === \"string\") {\n                   result.push(columns[idx]);\n               } else if (columns[idx].field) {\n                   result.push(columns[idx].field);\n               }\n           }\n           return result;\n       }\n\n       function editField(column) {\n           return {\n               field: column.field,\n               title: column.title,\n               format: column.format,\n               editor: column.editor,\n               values: column.values,\n               editorOptions: extend(true, { format: column.format }, column.editorOptions),\n               label: column.title || column.field || \"\"\n           };\n       }\n\n       function leafDataCells(container) {\n           var rows = container.find(\">tr:not(.k-filter-row)\");\n\n           var filter = function() {\n               var el = $(this);\n               return !el.hasClass(\"k-group-cell\") && !el.hasClass(\"k-hierarchy-cell\");\n           };\n\n           var cells = $();\n           if (rows.length > 1) {\n               cells = rows.find(\"th\")\n                   .filter(filter)\n                   .filter(function() { return this.rowSpan > 1; });\n           }\n\n           cells = cells.add(rows.last().find(\"th\").filter(filter));\n\n           var indexAttr = kendo.attr(\"index\");\n           cells.sort(function(a, b) {\n               a = $(a);\n               b = $(b);\n\n               var indexA = a.attr(indexAttr);\n               var indexB = b.attr(indexAttr);\n\n               if (indexA === undefined$1) {\n                   indexA = $(a).index();\n               }\n               if (indexB === undefined$1) {\n                   indexB = $(b).index();\n               }\n\n               indexA = parseInt(indexA, 10);\n               indexB = parseInt(indexB, 10);\n               return indexA > indexB ? 1 : (indexA < indexB ? -1 : 0);\n           });\n\n           return cells;\n       }\n\n       function parentColumnsCells(cell) {\n           var container = cell.closest(\"table\");\n           var result = $().add(cell);\n\n           var row = cell.closest(TR);\n           var headerRows = container.find(\"tr:not(.k-filter-row)\");\n           var level = headerRows.index(row);\n           if (level > 0) {\n               var parent = headerRows.eq(level - 1);\n               var parentCellsWithChildren = parent.find(\"th:not(.k-group-cell,.k-hierarchy-cell)\").filter(function() {\n                   return !$(this).attr(\"rowspan\");\n               });\n\n               var offset = 0;\n               var index = row.find(\"th:not(.k-group-cell,.k-hierarchy-cell)\").index(cell);\n\n               var prevCells = cell.prevAll(\":not(.k-group-cell,.k-hierarchy-cell)\").filter(function() {\n                   return this.colSpan > 1;\n               });\n\n               for (var idx = 0; idx < prevCells.length; idx++) {\n                   offset += prevCells[idx].colSpan || 1;\n               }\n\n               index += Math.max(offset - 1, 0);\n\n               offset = 0;\n               for (idx = 0; idx < parentCellsWithChildren.length; idx++) {\n                   var parentCell = parentCellsWithChildren.eq(idx);\n                   if (parentCell.attr(\"data-colspan\")) {\n                       offset += parentCell[0].getAttribute(\"data-colspan\");\n                   } else {\n                       offset += 1;\n                   }\n                   if (index >= idx && index < offset) {\n                       result = parentColumnsCells(parentCell).add(result);\n                       break;\n                   }\n               }\n           }\n           return result;\n       }\n\n       function childColumnsCells(cell) {\n           var container = cell.closest(\"thead\");\n           var result = $().add(cell);\n\n           var row = cell.closest(TR);\n           var headerRows = container.find(\"tr:not(.k-filter-row)\");\n           var level = headerRows.index(row) + cell[0].rowSpan;\n           var colSpanAttr = kendo.attr(\"colspan\");\n\n           if (level <= headerRows.length - 1) {\n               var child = row.next();\n               var prevCells = cell.prevAll(\":not(.k-group-cell,.k-hierarchy-cell)\");\n\n               var idx;\n\n               prevCells = prevCells.filter(function() {\n                   return !this.rowSpan || this.rowSpan === 1;\n               });\n\n               var offset = 0;\n\n               for (idx = 0; idx < prevCells.length; idx++) {\n                   offset += parseInt(prevCells.eq(idx).attr(colSpanAttr), 10) || 1;\n               }\n\n               var cells = child.find(\"th:not(.k-group-cell,.k-hierarchy-cell)\");\n               var colSpan = parseInt(cell.attr(colSpanAttr), 10) || 1;\n\n               idx = 0;\n\n               while (idx < colSpan) {\n                   child = cells.eq(idx + offset);\n                   result = result.add(childColumnsCells(child));\n                   var value = parseInt(child.attr(colSpanAttr), 10);\n                   if (value > 1) {\n                       colSpan -= value - 1;\n                   }\n                   idx++;\n               }\n           }\n\n           return result;\n       }\n\n       function appendContent(tbody, table, html, empty, size) {\n           var placeholder,\n               tmp = tbody;\n\n           // necessary for AngularJS to cleanup its guts.\n           if (empty) {\n               tbody.empty();\n           }\n\n           if (tbodySupportsInnerHtml) {\n               tbody[0].innerHTML = html;\n           } else {\n               placeholder = document.createElement(DIV);\n               placeholder.innerHTML = \"<table class='k-grid-table k-table'><tbody class='k-table-tbody'>\" + html + \"</tbody></table>\";\n               $(placeholder).find(\"table\").addClass(kendo.getValidCssClass(\"k-table-\", \"size\", size));\n               tbody = placeholder.firstChild.firstChild;\n               table[0].replaceChild(tbody, tmp[0]);\n               tbody = $(tbody);\n           }\n           return tbody;\n       }\n\n       function addHiddenStyle(attr) {\n           attr = attr || {};\n           var style = attr.style;\n\n           if (!style) {\n               style = \"display:none\";\n           } else {\n               style = style.replace(/display:[^;]*/i, \"display:none\");\n               if (!style.match(/display:/i)) {\n                   style = style.replace(/(.*)?/i, \"display:none;$1\");\n               }\n           }\n\n           return extend({}, attr, { style: style });\n       }\n\n       function hasHiddenStyle(attr) {\n           attr = attr || {};\n           var style = attr.style || \"\";\n\n           return style.indexOf(\"display:none\") !== -1;\n       }\n\n       function removeHiddenStyle(attr) {\n           attr = attr || {};\n           var style = attr.style;\n\n           if (style) {\n               attr.style = style.replace(/(display\\s*:\\s*none\\s*;?)*/ig, \"\");\n           }\n\n           return attr;\n       }\n\n       function normalizeCols(table, visibleColumns, hasDetails, groups) {\n           var colgroup = table.find(\">colgroup\"),\n               width,\n               cols = map(visibleColumns, function(column) {\n                       width = column.width;\n                       if (width && parseInt(width, 10) !== 0) {\n                           return kendo.format((\"<col \" + (kendo.attr('style-width')) + \"=\\\"{0}\\\"/>\"), typeof width === STRING ? width : width + PX);\n                       }\n\n                       return \"<col />\";\n                   });\n\n           if (hasDetails || colgroup.find(\".k-hierarchy-col\").length) {\n               cols.splice(0, 0, '<col class=\"k-hierarchy-col\" />');\n           }\n\n           if (colgroup.length) {\n               colgroup.remove();\n           }\n\n           colgroup = $(new Array(groups + 1).join('<col class=\"k-group-col\">') + cols.join(\"\"));\n\n           colgroup.each(function (_, col) {\n               var $col = $(col);\n\n               if ($col.attr(kendo.attr(\"style-width\"))) {\n                   $col.css('width', $col.attr(kendo.attr(\"style-width\")));\n                   $col.removeAttr(kendo.attr(\"style-width\"));\n               }\n           });\n\n           if (!colgroup.is(\"colgroup\")) {\n               colgroup = $(\"<colgroup/>\").append(colgroup);\n           }\n\n           table.prepend(colgroup);\n       }\n\n       function normalizeHeaderCells(container, columns) {\n           var lastIndex = 0;\n           var idx , len;\n           var th = container.find(\"th:not(.k-group-cell)\");\n\n           for (idx = 0, len = columns.length; idx < len; idx ++) {\n               if (columns[idx].locked) {\n                   th.eq(idx).insertBefore(th.eq(lastIndex));\n                   th = container.find(\"th:not(.k-group-cell)\");\n                   lastIndex ++;\n               }\n           }\n       }\n\n       function convertToObject(array) {\n           var result = {},\n               item,\n               idx,\n               length;\n\n           for (idx = 0, length = array.length; idx < length; idx++) {\n               item = array[idx];\n               result[item.value] = item.text;\n           }\n\n           return result;\n       }\n\n       function formatGroupValue(value, format, columnValues, encoded) {\n           var isForeignKey = columnValues && columnValues.length && isPlainObject(columnValues[0]) && \"value\" in columnValues[0],\n               groupValue = isForeignKey ? convertToObject(columnValues)[value] : value;\n\n           groupValue = groupValue != null ? groupValue : \"\";\n\n           return format ? kendo.format(format, groupValue) : (encoded === false ? groupValue : kendo.htmlEncode(groupValue));\n       }\n\n       function setCellVisibility(cells, index, visible) {\n           var pad = 0,\n               state,\n               cell = cells[pad];\n\n           while (cell) {\n               state = visible ? true : cell.style.display !== NONE;\n\n               if (state && !nonDataCellsRegExp.test(cell.className) && --index < 0) {\n                   cell.style.display = visible ? \"\" : NONE;\n                   break;\n               }\n\n               cell = cells[++pad];\n           }\n       }\n\n       function hideColumnCells(rows, columnIndex) {\n           var idx = 0,\n               length = rows.length,\n               cell, row;\n\n           for ( ; idx < length; idx += 1) {\n               row = rows.eq(idx);\n               if (row.is(\".k-grouping-row,.k-detail-row\")) {\n                   cell = row.children(\":not(.k-group-cell):first,.k-detail-cell\").last();\n                   cell.attr(\"colspan\", parseInt(cell.attr(\"colspan\"), 10) - 1);\n               } else {\n                   if (row.hasClass(\"k-grid-edit-row\") && (cell = row.children(\".k-edit-container\")[0])) {\n                       cell = $(cell);\n                       cell.attr(\"colspan\", parseInt(cell.attr(\"colspan\"), 10) - 1);\n                       cell.find(\"col\").eq(columnIndex).remove();\n                       row = cell.find(TR).first();\n                   }\n\n                   setCellVisibility(row[0].cells, columnIndex, false);\n               }\n           }\n       }\n\n       function groupRows(data) {\n           var result = [];\n           var item;\n\n           for (var idx = 0; idx < data.length; idx++) {\n               item = data[idx];\n               if (!(\"field\" in item && \"value\" in item && \"items\" in item)) {\n                   break;\n               }\n\n               result.push(item);\n\n               if (item.hasSubgroups) {\n                   result = result.concat(groupRows(item.items));\n               }\n           }\n\n           return result;\n       }\n\n       function groupFooters(data) {\n           var result = [];\n           var item;\n\n           for (var idx = 0; idx < data.length; idx++) {\n               item = data[idx];\n               if (!(\"field\" in item && \"value\" in item && \"items\" in item)) {\n                   break;\n               }\n\n               if (item.hasSubgroups) {\n                   result = result.concat(groupFooters(item.items));\n               }\n\n               result.push(item.aggregates);\n           }\n\n           return result;\n       }\n\n       function showColumnCells(rows, columnIndex) {\n           var idx = 0,\n               length = rows.length,\n               cell, row, columns;\n\n           for ( ; idx < length; idx += 1) {\n               row = rows.eq(idx);\n               if (row.is(\".k-grouping-row,.k-detail-row\")) {\n                   cell = row.children(\":not(.k-group-cell):first,.k-detail-cell\").last();\n                   cell.attr(\"colspan\", parseInt(cell.attr(\"colspan\"), 10) + 1);\n               } else {\n                   if (row.hasClass(\"k-grid-edit-row\") && (cell = row.children(\".k-edit-container\")[0])) {\n                       cell = $(cell);\n                       cell.attr(\"colspan\", parseInt(cell.attr(\"colspan\"), 10) + 1);\n                       normalizeCols(cell.find(\">form>table\"), visibleColumns(columns), false, 0);\n                       row = cell.find(TR).first();\n                   }\n\n                   setCellVisibility(row[0].cells, columnIndex, true);\n               }\n           }\n       }\n\n       function updateColspan(toAdd, toRemove, num) {\n           num = num || 1;\n\n           var item, idx, length;\n           for (idx = 0, length = toAdd.length; idx < length; idx++) {\n               item = toAdd.eq(idx).children().last();\n               item.attr(\"colspan\", parseInt(item.attr(\"colspan\"), 10) + num);\n\n               item = toRemove.eq(idx).children().last();\n               item.attr(\"colspan\", parseInt(item.attr(\"colspan\"), 10) - num);\n           }\n       }\n\n       function tableWidth(table) {\n           var idx, length, width = 0;\n           var cols = table.find(\">colgroup>col\");\n\n           for (idx = 0, length = cols.length; idx < length; idx += 1) {\n               width += parseInt(cols[idx].style.width, 10);\n           }\n\n           return width;\n       }\n       var Grid = kendo.ui.DataBoundWidget.extend({\n           init: function(element, options, events) {\n               var that = this;\n\n               options = isArray(options) ? { dataSource: options } : options;\n\n               Widget.fn.init.call(that, element, options);\n\n               if (events) {\n                   that._events = events;\n               }\n\n               isRtl = kendo.support.isRtl(element);\n               CARET_ALT_RIGHT = isRtl ? CARET_ALT_LEFT : CARET_ALT_RIGHT_CACHE;\n\n               that._element();\n\n               that._ariaId();\n\n               that._columns($.extend(true, [], that.options.columns));\n\n               if (that._foreignKeyPromises) {\n                   $.when.apply(null, that._foreignKeyPromises)\n                       .then(function() {\n                           that._foreignKeyPromises = null;\n                           that._continueInit();\n                       });\n               } else {\n                   that._continueInit();\n               }\n           },\n\n           _continueInit: function() {\n               var that = this;\n\n               that._dataSource();\n\n               that._stickyColumns();\n\n               that._tbody();\n\n               that._thead();\n\n               that._rowResizing();\n\n               that._groupable();\n\n               that._toolbar();\n\n               that._pageable();\n\n               that._setContentHeight();\n\n               that._templates();\n\n               that._navigatable();\n\n               that._selectable();\n\n               that._clipboard();\n\n               that._details();\n\n               that._editable();\n\n               that._attachCustomCommandsEvent();\n\n               that._adaptiveColumns();\n\n               that._minScreenSupport();\n\n               if (that.options.autoBind) {\n                   that.dataSource.fetch();\n               } else {\n                   that._group = that._groups() > 0;\n                   that._footer();\n               }\n\n               if (that.lockedContent) {\n                   that.wrapper.addClass(\"k-grid-lockedcolumns\");\n                   that._resizeHandler = function() {\n                       that.resize();\n                   };\n                   $(window).on(\"resize\" + NS, that._resizeHandler);\n               }\n\n               kendo.notify(that);\n           },\n\n           events: [\n              CHANGE,\n              \"dataBinding\",\n              \"cancel\",\n              DATABOUND,\n              DETAILEXPAND,\n              DETAILCOLLAPSE,\n              DETAILINIT,\n              FILTERMENUINIT,\n              FILTERMENUOPEN,\n              COLUMNMENUINIT,\n              COLUMNMENUOPEN,\n              EDIT,\n              BEFOREEDIT,\n              SAVE,\n              REMOVE,\n              SAVECHANGES,\n              CELLCLOSE,\n              ROWRESIZE,\n              COLUMNRESIZE,\n              COLUMNREORDER,\n              COLUMNSHOW,\n              COLUMNHIDE,\n              COLUMNLOCK,\n              COLUMNUNLOCK,\n              COLUMNSTICK,\n              COLUMNUNSTICK,\n              ROWREORDER,\n              NAVIGATE,\n              \"page\",\n              \"sort\",\n              \"filter\",\n              \"group\",\n              \"groupExpand\",\n              \"groupCollapse\",\n              \"kendoKeydown\"\n           ],\n\n           setDataSource: function(dataSource) {\n               var that = this;\n               var scrollable = that.options.scrollable;\n               var scrollableContent;\n\n               that.options.dataSource = dataSource;\n\n               that._dataSource();\n\n               that._pageable();\n\n               that._thead();\n\n               that._rowResizing();\n\n               if (scrollable) {\n                   if (scrollable.virtual) {\n                       scrollableContent = that.content.find(\">.k-virtual-scrollable-wrap\");\n                       kendo.scrollLeft(scrollableContent, leftMostPosition(scrollableContent, isRtl));\n                   } else {\n                       scrollableContent = that.tbody;\n                       kendo.scrollLeft(that.content, leftMostPosition(scrollableContent, isRtl));\n                   }\n               }\n\n               if (that.options.groupable) {\n                   that._groupable();\n               }\n\n               if (that.virtualScrollable) {\n                   that.virtualScrollable.setDataSource(that.options.dataSource);\n               }\n\n               if (that.options.navigatable) {\n                   that._navigatable();\n               }\n\n               if (that.options.selectable) {\n                   that._selectable();\n               }\n\n               if (that.options.autoBind) {\n                   that.dataSource.fetch();\n               } else {\n                   that._footer();\n               }\n           },\n\n           options: {\n               name: \"Grid\",\n               columns: [],\n               toolbar: null,\n               autoBind: true,\n               filterable: false,\n               scrollable: true,\n               sortable: false,\n               selectable: false,\n               allowCopy: false,\n               navigatable: false,\n               pageable: false,\n               persistSelection: false,\n               editable: false,\n               encodeTitles: false,\n               groupable: false,\n               rowTemplate: \"\",\n               altRowTemplate: \"\",\n               search: false,\n               noRecords: false,\n               dataSource: {},\n               height: null,\n               resizable: false,\n               reorderable: false,\n               columnMenu: false,\n               detailTemplate: null,\n               columnResizeHandleWidth: 3,\n               size: \"medium\",\n               mobile: \"\",\n               loaderType: \"loadingPanel\",\n               messages: {\n                   editable: {\n                       cancelDelete: CANCELDELETE,\n                       confirmation: DELETECONFIRM,\n                       confirmDelete: CONFIRMDELETE\n                   },\n                   commands: {\n                       create: defaultCommands.create.text,\n                       cancel: defaultCommands.cancel.text,\n                       save: defaultCommands.save.text,\n                       destroy: defaultCommands.destroy.text,\n                       edit: defaultCommands.edit.text,\n                       update: defaultCommands.update.text,\n                       canceledit: defaultCommands.canceledit.text,\n                       excel: defaultCommands.excel.text,\n                       pdf: defaultCommands.pdf.text,\n                       search: defaultCommands.search.text\n                   },\n                   noRecords: NORECORDS,\n                   expandCollapseColumnHeader: \"\",\n                   groupHeader: \"Press ctrl + space to group\",\n                   ungroupHeader: \"Press ctrl + space to ungroup\",\n                   itemsSelected: \"items selected\",\n                   dragHandleLabel: \"Drag row\",\n                   toolbarLabel: \"grid toolbar\",\n                   groupingHeaderLabel: \"grid grouping header\",\n                   filterCellTitle: \"filter cell\"\n               },\n               width: null\n           },\n\n           destroy: function() {\n               var that = this,\n                   element,\n                   reorderableInstance;\n\n               that._angularItems(\"cleanup\");\n               that._destroyColumnAttachments();\n\n               Widget.fn.destroy.call(that);\n\n               if (this._navigatableTables) {\n                   this._navigatableTables.off(NS);\n                   this._navigatableTables = null;\n                   this._headertables = null;\n               }\n\n               if (that._resizeHandler) {\n                   $(window).off(\"resize\" + NS, that._resizeHandler);\n               }\n\n               if (that.pager && that.pager.element) {\n                   that.pager.destroy();\n               }\n\n               if (that.timer) {\n                   clearTimeout(that.timer);\n               }\n\n               if (that._progressTimeOut) {\n                   clearTimeout(that._progressTimeOut);\n               }\n\n               if (that._collapseGroupsTimeOut) {\n                   clearTimeout(that._collapseGroupsTimeOut);\n               }\n\n               if (that._endlessFetchTimeOut) {\n                   clearTimeout(that._endlessFetchTimeOut);\n               }\n\n               that.pager = null;\n\n               that._destroyGroupable();\n\n               reorderableInstance = that.wrapper.data(\"kendoReorderable\");\n               if (reorderableInstance) {\n                   reorderableInstance.destroy();\n               }\n\n               reorderableInstance = that.tbody ? that.tbody.data(\"kendoReorderable\") : null;\n               if (reorderableInstance) {\n                   reorderableInstance.destroy();\n               }\n\n               if (that.selectable && that.selectable.element) {\n                   that.selectable.destroy();\n\n                   that.clearArea();\n                   that._selectedIds = null;\n\n                   if (that.copyHandler) {\n                       that.wrapper.off(\"keydown\", that.copyHandler);\n                       that.unbind(that.copyHandler);\n                   }\n                   if (that.updateClipBoardState) {\n                       that.unbind(that.updateClipBoardState);\n                       that.updateClipBoardState = null;\n                   }\n                   if (that.clearAreaHandler) {\n                       that.wrapper.off(\"keyup\", that.clearAreaHandler);\n                   }\n               }\n\n               that.selectable = null;\n\n               if (that.resizable) {\n                   that.resizable.destroy();\n\n                   if (that._resizeUserEvents) {\n                       if (that._resizeHandleDocumentClickHandler) {\n                           $(document).off(\"click\", that._resizeHandleDocumentClickHandler);\n                       }\n                       that._resizeUserEvents.destroy();\n                       that._resizeUserEvents = null;\n                   }\n                   that.resizable = null;\n               }\n\n               that._destroyRowResizing();\n\n               that._destroyVirtualScrollable();\n\n               if (that.editableUserEvents) {\n                   that.editableUserEvents.destroy();\n                   that.editableUserEvents = null;\n               }\n\n               if (that._lockedContentUserEvents) {\n                   that._lockedContentUserEvents.destroy();\n                   that._lockedContentUserEvents = null;\n               }\n\n               that._destroyEditable();\n\n               if (that.dataSource) {\n                   that.dataSource.unbind(CHANGE, that._refreshHandler)\n                              .unbind(PROGRESS, that._progressHandler)\n                              .unbind(ERROR, that._errorHandler)\n                              .unbind(SORT, that._clearSortClasses);\n\n                   that._refreshHandler = that._progressHandler = that._errorHandler = that._sortHandler = null;\n               }\n\n               element = that.element\n                   .add(that.wrapper)\n                   .add(that.table)\n                   .add(that.thead)\n                   .add(that.wrapper.find(\">.k-grid-toolbar\"));\n\n               if (that.content) {\n                   element = element\n                           .add(that.content)\n                           .add(that.content.find(\">.k-virtual-scrollable-wrap\"));\n               }\n\n               if (that.lockedHeader) {\n                   that._removeLockedContainers();\n               }\n\n               if (that.pane) {\n                   that.pane.destroy();\n               }\n\n               if (that._isMobile) {\n                   that.wrapper.off(\"transitionend\" + NS);\n                   that.wrapper.off(\"contextmenu\" + NS);\n               }\n\n               if (that.minScreenResizeHandler) {\n                   $(window).off(\"resize\", that.minScreenResizeHandler);\n               }\n\n               that._detachColumnMediaResizeHandler();\n\n               if (that._draggableInstance && that._draggableInstance.element) {\n                   that._draggableInstance.destroy();\n               }\n\n               that._draggableInstance = null;\n\n               if (that._draggableRowsInstance && that._draggableRowsInstance.element) {\n                   that._draggableRowsInstance.destroy();\n               }\n\n               that._draggableRowsInstance = null;\n\n               element.off(NS);\n\n               kendo.destroy(that.wrapper);\n\n               that.rowTemplate =\n               that.altRowTemplate =\n               that.lockedRowTemplate =\n               that.lockedAltRowTemplate =\n               that.detailTemplate =\n               that.footerTemplate =\n               that.groupFooterTemplate =\n               that.lockedGroupFooterTemplate =\n               that.noRecordsTemplate = null;\n\n               that.scrollables =\n               that.thead =\n               that.tbody =\n               that.element =\n               that.table =\n               that.content =\n               that.footer =\n               that.wrapper =\n               that.lockedTable =\n               that.lockedContent =\n               that.lockedHeader =\n               that.lockedFooter =\n               that._groupableClickHandler =\n               that._groupRows =\n               that._setContentWidthHandler = null;\n           },\n\n           getOptions: function() {\n               var options = this.options;\n               options.dataSource = null;\n\n               var result = extend(true, {}, this.options);\n               result.columns = kendo.deepExtend([], this.columns);\n\n               var dataSource = this.dataSource;\n\n               var initialData = dataSource.options.data && dataSource._data;\n               dataSource.options.data = null;\n\n               result.dataSource = $.extend(true, {}, dataSource.options);\n\n               dataSource.options.data = initialData;\n\n               result.dataSource.data = initialData;\n               result.dataSource.page = dataSource.page();\n               result.dataSource.filter = $.extend(true, {}, dataSource.filter());\n               result.dataSource.pageSize = dataSource.pageSize();\n               result.dataSource.sort = dataSource.sort();\n               result.dataSource.group = dataSource.group();\n               result.dataSource.aggregate = dataSource.aggregate();\n\n               if (result.dataSource.transport) {\n                   result.dataSource.transport.dataSource = null;\n               }\n\n               if (result.pageable && result.pageable.pageSize) {\n                   result.pageable.pageSize = dataSource.pageSize();\n               }\n\n               result.$angular = undefined$1;\n\n               return result;\n           },\n\n           setOptions: function(options) {\n               var currentOptions = this.getOptions();\n               kendo.deepExtend(currentOptions, options);\n               if (!options.dataSource) {\n                   currentOptions.dataSource = this.dataSource;\n               } else {\n                 if (options.dataSource.filter) {\n                     currentOptions.dataSource.filter = options.dataSource.filter;\n                 }\n               }\n               var wrapper = this.wrapper;\n               var events = this._events;\n               var element = this.element;\n\n               this.destroy();\n               this.options = null;\n               if (this._isMobile) {\n                   var mobileWrapper = wrapper.closest(kendo.roleSelector(\"pane\")).parent();\n                   mobileWrapper.after(wrapper);\n                   mobileWrapper.remove();\n                   wrapper.removeClass(\"k-grid-mobile\");\n               }\n               if (wrapper[0] !== element[0]) {\n                   wrapper.before(element);\n                   wrapper.remove();\n               }\n               element.empty();\n\n               this.init(element, currentOptions, events);\n               this._setEvents(currentOptions);\n           },\n\n           items: function() {\n               if (this.lockedContent) {\n                   return this._items(this.tbody).add(this._items(this.lockedTable.children(\"tbody\")));\n               } else {\n                   return this._items(this.tbody);\n               }\n           },\n\n           _items: function(container, includeGroupRows) {\n               return container.children().filter(function() {\n                   var tr = $(this);\n                   return (includeGroupRows ? !tr.hasClass(\"k-detail-row\") : !tr.hasClass(GROUPING_ROW)) && !tr.hasClass(\"k-detail-row\") && !tr.hasClass(\"k-group-footer\");\n               });\n           },\n\n           dataItems: function() {\n               var dataItems = kendo.ui.DataBoundWidget.fn.dataItems.call(this);\n               if (this.lockedContent) {\n                   var n = dataItems.length, tmp = new Array(2 * n);\n                   for (var i = n; --i >= 0;) {\n                       tmp[i] = tmp[i + n] = dataItems[i];\n                   }\n                   dataItems = tmp;\n               }\n\n               return dataItems;\n           },\n\n           _destroyColumnAttachments: function() {\n               var that = this;\n\n               that.resizeHandle = null;\n\n               if (!that.thead) {\n                   return;\n               }\n\n               this.angular(\"cleanup\", function() {\n                   return { elements: that.thead.get() };\n               });\n\n               that.thead.add(that.lockedHeader).find(\"th\").each(function() {\n                   var th = $(this),\n                       filterMenu = th.data(\"kendoFilterMenu\"),\n                       sortable = th.data(\"kendoColumnSorter\"),\n                       columnMenu = th.data(\"kendoColumnMenu\");\n\n                   if (filterMenu) {\n                       filterMenu.destroy();\n                   }\n\n                   if (sortable) {\n                       sortable.destroy();\n                   }\n\n                   if (columnMenu) {\n                       columnMenu.destroy();\n                   }\n               });\n           },\n\n           _attachCustomCommandsEvent: function() {\n               var that = this,\n                   columns = leafColumns(that.columns || []),\n                   command,\n                   idx,\n                   length;\n\n               for (idx = 0, length = columns.length; idx < length; idx++) {\n                   command = columns[idx].command;\n\n                   if (command) {\n                       attachCustomCommandEvent(that, that.wrapper, command);\n                   }\n               }\n           },\n\n           _aria: function() {\n               var wrapper = this.wrapper,\n                   gridRole = this._hasDetails() ? \"treegrid\" : this.options.navigatable ? \"grid\" : null,\n                   table = this.table,\n                   toolbar = wrapper.find(\".k-grid-toolbar\"),\n                   groupingHeader = wrapper.find(\".k-grouping-header\"),\n                   gridId = table.attr(ID),\n                   tableTabindex = table.attr(TABINDEX),\n                   tbodyId, headerGroupId, footerGroupId, tableOwned,\n                   numberOfFixedRows = this.thead.find(TR).length + this.wrapper.find(\".k-grid-footer-wrap table tr\").length,\n                   trailingColumns = this._trailingColumns(),\n                   virtual = this.virtualScroll,\n                   pageable = this.options.pageable,\n                   rowsCount;\n\n               table.attr(TABINDEX, tableTabindex >= 0 ? tableTabindex : 0);\n\n               if (gridRole) {\n                   table.attr(ROLE, gridRole);\n               }\n\n               table.find(\"tbody, thead, tfoot\").attr(ROLE, ROWGROUP);\n               table.find(TR).attr(ROLE, ROW);\n               table.find(\"th\").attr(ROLE, COLUMNHEADER);\n               table.find(\"td\").attr(ROLE, GRIDCELL);\n\n               if ((pageable && this.dataSource.totalPages() > 1) || (virtual && virtual.rows)) {\n                   if (this._groups() > 0) {\n                       rowsCount = -1;\n                   } else if (this._hasDetails()) {\n                       rowsCount = numberOfFixedRows + (this.dataSource.total() * 2);\n                   } else {\n                       rowsCount = numberOfFixedRows + this.dataSource.total();\n                   }\n\n                   table.attr(ARIA_ROWCOUNT, rowsCount);\n               } else if (this._hasDetails()) {\n                   if (this._groups() > 0) {\n                       rowsCount = -1;\n                   } else {\n                       rowsCount = numberOfFixedRows + (this.dataSource.total() * 2);\n                   }\n\n                   table.attr(ARIA_ROWCOUNT, rowsCount);\n               }\n\n               if (rowsCount && rowsCount > 0) {\n                   this._ariaRowIndex();\n               }\n\n               if ((virtual && virtual.columns) ||\n                   (!table.attr(ARIA_COLCOUNT) &&\n                       (table.find(\"td:hidden\").length > 0 ||\n                       wrapper.find(\".k-grid-content-locked td:hidden\").length > 0))) {\n                           table.attr(ARIA_COLCOUNT, trailingColumns + leafColumns(this.columns).length);\n                           this._ariaColumnIndex();\n               }\n\n               if (!gridId) {\n                   gridId = kendo.guid();\n                   table.attr(ID, gridId);\n               }\n\n               if (this.pager) {\n                   this.pager.element.attr(ARIA_CONTROLS, gridId);\n               }\n\n               toolbar.attr({\n                   role: \"toolbar\",\n                   \"aria-label\": this.options.messages.toolbarLabel,\n                   \"aria-controls\": gridId\n               });\n\n               groupingHeader.attr({\n                   role: \"toolbar\",\n                   \"aria-label\": this.options.messages.groupingHeaderLabel,\n                   \"aria-controls\": gridId\n               });\n\n               headerGroupId = this._ariaHeaderFooter(\"header\", \"thead\", \"th, td\", COLUMNHEADER);\n               footerGroupId = this._ariaHeaderFooter(\"footer\", \"tfoot\", \"td\", GRIDCELL);\n\n               if (wrapper.find(\".k-grid-content-locked\").length > 0) {\n                   this._ariaLockedContent();\n               }\n\n               if (!!headerGroupId || !!footerGroupId) {\n                   tbodyId = this.tbody.attr(ID) || kendo.guid();\n                   tableOwned = [headerGroupId, tbodyId, footerGroupId].join(\" \");\n\n                   this.tbody.attr(ID, tbodyId);\n                   table.attr(ARIA_OWNS, tableOwned);\n               }\n\n               if (this.options.groupable) {\n                   this._ariaGroupTitles();\n               }\n           },\n\n           _ariaColumnIndex: function() {\n               var trailingColumns = this._trailingColumns(),\n                   dataVirtual = this.tbody.find(\">tr\").last().find(\"> td[data-virtual]\"),\n                   headerRows = this.thead.find(\">tr\").not(\".k-filter-row\"),\n                   lockedHeaderRows = this.wrapper.find(\".k-grid-header-locked thead > tr\").not(\".k-filter-row\"),\n                   firstIndex = Number.MAX_VALUE,\n                   lastIndex = 0,\n                   lockedLastIndex = 0,\n                   previousVirtual = 0,\n                   nextVirtual = 0,\n                   previousIndex, i, cells, dataIndex, cellsIndex,\n                   eachHeaderCell = function(j, cell) {\n                       var current = cell.getAttribute(\"data-index\"),\n                           currentIndex = Number(current),\n                           lockedParent = $(cell).closest(\".k-grid-header-locked\");\n\n                       if (lockedParent.length === 0 && currentIndex < firstIndex) {\n                           firstIndex = currentIndex;\n                       }\n\n                       if (lockedParent.length > 0 && lockedLastIndex < currentIndex) {\n                           lockedLastIndex = currentIndex;\n                       }\n\n                       if (lockedParent.length === 0 && lastIndex < currentIndex) {\n                           lastIndex = currentIndex;\n                       }\n\n                       if (current !== null) {\n                           cell.setAttribute(ARIA_COLINDEX, Number(currentIndex) + 1);\n                           previousIndex = Number(currentIndex) + 1 + cell.getAttribute(\"colspan\");\n                       } else {\n                           cell.setAttribute(ARIA_COLINDEX, previousIndex + 1);\n                           previousIndex = previousIndex + cell.getAttribute(\"colspan\");\n                       }\n                   };\n\n               if (dataVirtual.length === 2) {\n                   previousVirtual = Number(dataVirtual[0].getAttribute(\"colspan\"));\n                   nextVirtual = Number(dataVirtual[1].getAttribute(\"colspan\"));\n               } else if (dataVirtual.length === 1 && dataVirtual.prev().length === 0) {\n                   previousVirtual = Number(dataVirtual[0].getAttribute(\"colspan\"));\n               } else if (dataVirtual.length === 1 && dataVirtual.prev().length === 1) {\n                   nextVirtual = Number(dataVirtual[0].getAttribute(\"colspan\"));\n               }\n\n               for (i = 0; i < lockedHeaderRows.length; i++) {\n                   previousIndex = 0;\n                   lockedHeaderRows.eq(i).find(\"th\").each(eachHeaderCell);\n               }\n\n               for (i = 0; i < headerRows.length; i++) {\n                   previousIndex = 0;\n                   headerRows.eq(i).find(\"th\").each(eachHeaderCell);\n               }\n\n               for (i = 0; i <= lockedLastIndex; i++) {\n                   dataIndex = i + trailingColumns;\n                   cells = this.wrapper.find(\".k-grid-content-locked tbody > tr > td:nth-child(\" + (i + 1) + \")\");\n                   cells.attr(ARIA_COLINDEX, dataIndex + 1);\n               }\n\n               for (i = previousVirtual; i <= lastIndex - firstIndex - nextVirtual; i++) {\n                   if (previousVirtual === 0 ) {\n                       cellsIndex = i + 1;\n                   } else {\n                       cellsIndex = i - previousVirtual + 2;\n                   }\n\n                   dataIndex = firstIndex + i + trailingColumns;\n\n                   cells = this.tbody.find(\"> tr > td:nth-child(\" + cellsIndex + \")\");\n                   cells.attr(ARIA_COLINDEX, dataIndex + 1);\n               }\n           },\n\n           _ariaGroupTitles: function() {\n               var that = this,\n                   groups = that.dataSource.group(),\n                   ths = that.wrapper.find(\".k-grid-header th\");\n\n               ths.each(function(i, el) {\n                   if (el.getAttribute(\"title\") === that.options.messages.ungroupHeader) {\n                           el.setAttribute(\"title\", that.options.messages.groupHeader);\n                   }\n               });\n\n               if (groups && groups.length > 0) {\n                   groups.forEach(function(group) {\n                       var field = group.field,\n                           el = ths.filter(\"[\" + kendo.attr(\"field\") + \"='\" + field + \"']\");\n\n                       if (el.attr(\"title\") === that.options.messages.groupHeader) {\n                           el.attr(\"title\", that.options.messages.ungroupHeader);\n                       }\n                   });\n               }\n           },\n\n           _ariaHeaderFooter: function(type, group, el, role) {\n               var that = this,\n                   wrapper = that.wrapper,\n                   table = wrapper.find(\".k-grid-\" + type + \" .k-grid-\" + type + \"-wrap table\"),\n                   lockedTable = wrapper.find(\".k-grid-\" + type + \" .k-grid-\" + type + \"-locked table\"),\n                   groupId = \"\",\n                   rowGroup;\n\n               if (table.length > 0) {\n                   rowGroup = table.find(group + \", tbody\");\n                   groupId = rowGroup.attr(ID) || kendo.guid();\n\n                   table.attr(ROLE, NONE);\n                   table.find(TR).attr(ROLE, ROW);\n                   table.find(el).attr(ROLE, role);\n                   rowGroup.attr({\n                       role: ROWGROUP,\n                       id: groupId\n                   });\n               }\n\n               if (lockedTable.length > 0) {\n                   that._ariaLocked(type, group, el, role);\n               }\n\n               lockedTable.find(\"td\").attr(ROLE, GRIDCELL);\n               table.find(\"td\").attr(ROLE, GRIDCELL);\n\n               return groupId;\n           },\n\n           _ariaId: function() {\n               var id = this.element.attr(ID) || \"aria\";\n\n               if (id) {\n                   this._cellId = id + \"_active_cell\";\n               }\n           },\n\n           _ariaLocked: function(type, group, el, role) {\n               var that = this,\n                   wrapper = that.wrapper,\n                   table = wrapper.find(\".k-grid-\" + type + \" .k-grid-\" + type + \"-wrap table\"),\n                   lockedTable = wrapper.find(\".k-grid-\" + type + \" .k-grid-\" + type + \"-locked table\"),\n                   rows = table.find(TR),\n                   lockedRows = lockedTable.find(TR);\n\n               lockedTable.attr(ROLE, NONE);\n               lockedTable.find(group + \", tbody\").attr(ROLE, NONE);\n               lockedRows.attr(ROLE, NONE);\n\n               lockedTable.find(el).attr(ROLE, role);\n\n               rows.each(function(i, row) {\n                   var ownedCells = [];\n\n                   ownedCells = that._cellsIds(lockedRows.eq(i).find(el), \"locked_\" + type, i);\n                   ownedCells = ownedCells.concat(that._cellsIds($(row).find(el), type, i));\n\n                   row.setAttribute(ARIA_OWNS, ownedCells.join(\" \"));\n               });\n           },\n\n           _ariaLockedContent: function() {\n               var that = this,\n                   table = that.table,\n                   tableRows = table.find(TR),\n                   lockedTable = that.wrapper.find(\".k-grid-content-locked table\"),\n                   lockedRows = lockedTable.find(TR);\n\n               lockedTable.attr(ROLE, NONE);\n               lockedTable.find(\"tbody\").attr(ROLE, NONE);\n               lockedRows.attr(ROLE, NONE);\n               lockedTable.find(\"td\").attr(ROLE, GRIDCELL);\n\n               tableRows.each(function(i, row) {\n                   var ownedCells = [];\n\n                   ownedCells = that._cellsIds(lockedRows.eq(i).find(\"td\"), \"locked_datacell\", i);\n                   ownedCells = ownedCells.concat(that._cellsIds($(row).find(\"td\"), \"datacell\", i));\n\n                   row.setAttribute(ARIA_OWNS, ownedCells.join(\" \"));\n               });\n           },\n\n           _ariaAddHiddenColIndex: function() {\n               var virtualScroll = this.virtualScroll || {},\n                   columns = this.columns,\n                   table = this.table,\n                   leafColsCount = leafColumns(columns).length;\n\n               if (!virtualScroll.columns && !table.attr(ARIA_COLCOUNT)) {\n                   this._ariaColumnIndex();\n\n                   table.attr(ARIA_COLCOUNT, leafColsCount);\n               }\n           },\n\n           _ariaRemoveHiddenColIndex: function() {\n               var virtualScroll = this.virtualScroll || {},\n                   columns = this.columns,\n                   leafColsCount = leafColumns(columns).length;\n\n               if (!virtualScroll.columns && (leafColsCount === visibleLeafColumns(this.columns).length)) {\n                   this.wrapper.find(\"td, th\").removeAttr(ARIA_COLINDEX);\n\n                   this.table.removeAttr(ARIA_COLCOUNT);\n               }\n           },\n\n           _ariaRowIndex: function() {\n               var headerRows = this.thead.find(\">tr\"),\n                   numberOfHeaderRows = headerRows.length,\n                   bodyRows = this.tbody.find(\">tr\"),\n                   footerRows = this.wrapper.find(\".k-grid-footer-wrap tfoot > tr\"),\n                   totalNumberOfItems = this.dataSource.total(),\n                   previousItems = this.dataSource.skip() || 0,\n                   currentIndex = 1,\n                   previousMaster = false,\n                   i, currentRow;\n\n               if (this._hasDetails()) {\n                   totalNumberOfItems = totalNumberOfItems * 2;\n                   previousItems = previousItems * 2;\n               }\n\n               for (i = 0; i < numberOfHeaderRows; i++) {\n                   headerRows.eq(i).attr(ARIA_ROWINDEX, currentIndex + i);\n               }\n\n               currentIndex = numberOfHeaderRows + previousItems;\n\n               for (i = 0; i < bodyRows.length; i++) {\n                   currentRow = bodyRows.eq(i);\n\n                   if (this._hasDetails() && currentRow.hasClass(\"k-master-row\")) {\n                       if (previousMaster) {\n                           currentIndex = currentIndex + 2;\n                       } else {\n                           currentIndex = currentIndex + 1;\n                       }\n\n                       previousMaster = true;\n                   } else {\n                       currentIndex = currentIndex + 1;\n                       previousMaster = false;\n                   }\n\n                   currentRow.attr(ARIA_ROWINDEX, currentIndex);\n               }\n\n               currentIndex = numberOfHeaderRows + totalNumberOfItems + 1;\n\n               for (i = 0; i < footerRows.length; i++) {\n                   footerRows.eq(i).attr(ARIA_ROWINDEX, currentIndex + i);\n               }\n           },\n\n           _cellsIds: function(elements, prefix, i) {\n               var ownedCells = [];\n\n               elements.each(function(j, cell) {\n                   var id = cell.getAttribute(ID) || prefix + \"_\" + i + \"_\" + j;\n\n                   cell.setAttribute(ID, id);\n\n                   ownedCells.push(id);\n               });\n\n               return ownedCells;\n           },\n\n           _trailingColumns: function() {\n               return this._groups() + (this._hasDetails() ? 1 : 0);\n           },\n\n           _element: function() {\n               var that = this,\n                   table = that.element;\n\n               if (!table.is(\"table\")) {\n                   if (that.options.scrollable) {\n                       table = that.element.find(\"> .k-grid-content > table\");\n                   } else {\n                       table = that.element.children(\"table\");\n                   }\n\n                   if (!table.length) {\n                       table = $(\"<table />\").appendTo(that.element);\n                   }\n               }\n\n               table.addClass(\"k-grid-table k-table\");\n               table.addClass(kendo.getValidCssClass(\"k-table-\", \"size\", that.options.size));\n               that.table = table;\n\n               that._wrapper();\n           },\n\n           _createResizeHandle: function(container, th) {\n               var that = this;\n               var indicatorWidth = that.options.columnResizeHandleWidth;\n               var scrollable = that.options.scrollable;\n               var resizeHandle = that.resizeHandle;\n               var halfResizeHandle = (indicatorWidth * 3) / 2;\n               var rtlCorrection = 0;\n               var headerWrap;\n               var ieCorrection;\n               var webkitCorrection;\n               var firefoxCorrection;\n               var leftMargin;\n               var invisibleSpace;\n               var leftBorderWidth;\n               var scrollLeft;\n               var left;\n               var top;\n\n               if (resizeHandle && that.lockedContent && resizeHandle.data(\"th\")[0] !== th[0]) {\n                   resizeHandle.off(NS).remove();\n                   resizeHandle = null;\n               }\n\n               if (!resizeHandle) {\n                   resizeHandle = that.resizeHandle = $('<div class=\"k-resize-handle\"><div class=\"k-resize-handle-inner\"></div></div>');\n                   container.append(resizeHandle);\n               }\n\n               scrollLeft = kendo.scrollLeft(container);\n\n               if (isRtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                   scrollLeft = scrollLeft * -1;\n               }\n\n               leftBorderWidth = parseFloat(container.css(\"borderLeftWidth\"));\n\n               left = th.offset().left + scrollLeft - parseFloat(th.css(\"marginLeft\")) - (container.offset().left + leftBorderWidth);\n\n               if (!isRtl) {\n                   left += th[0].offsetWidth;\n              } else {\n                   if (scrollable) {\n                       rtlCorrection = (left <= scrollLeft ? halfResizeHandle : 0);// when shown on first column headers are misaligned due to the width of the resize handler\n                       headerWrap = th.closest(\".k-grid-header-wrap, .k-grid-header-locked\");\n                       invisibleSpace = headerWrap[0].scrollWidth - headerWrap[0].offsetWidth; // the difference between the entire width and the visible area\n                       leftMargin = parseFloat(headerWrap.css(\"marginLeft\"));\n                       ieCorrection = browser.msie ? 2 * kendo.scrollLeft(headerWrap) + leftBorderWidth - leftMargin - rtlCorrection : 0;\n                       webkitCorrection = -rtlCorrection;\n                       firefoxCorrection = browser.mozilla ? leftBorderWidth - leftMargin - rtlCorrection : 0;\n\n                       left -= webkitCorrection + firefoxCorrection + ieCorrection;\n                   }\n               }\n\n               top = th.offset().top - parseFloat(th.css(\"marginTop\")) - (container.offset().top + parseFloat(container.css(\"borderTopWidth\")));\n\n               resizeHandle.css({\n                   top: top, //scrollable ? 0 : heightAboveHeader(that.wrapper),\n                   left: left - halfResizeHandle,\n                   height: outerHeight(th),\n                   width: indicatorWidth * 3 - rtlCorrection\n               })\n               .data(\"th\", th)\n               .show();\n\n               resizeHandle.off(DUBLECLICK + NS).on(DUBLECLICK + NS, function() {\n                   that._autoFitLeafColumn(parseInt(th.attr(kendo.attr(\"index\")), 10));\n               });\n           },\n\n           _positionColumnResizeHandle: function() {\n               var that = this,\n                   lockedHead = that.lockedHeader ? that.lockedHeader.find(\"thead\").first() : $();\n\n               that.thead.add(lockedHead).on(MOUSEMOVE + NS, \"tr:not(.k-filter-row) > th\", function(e) {\n                   var button = typeof e.buttons !== \"undefined\" ? e.buttons : (e.which || e.button);\n\n                   var th = $(this);\n                   if (th.hasClass(\"k-group-cell\") || th.hasClass(\"k-hierarchy-cell\")) {\n                       return;\n                   }\n\n                   if (typeof button !== \"undefined\" && button !== 0) {\n                       //do not create a new resize handle if a mouse button is still pressed\n                       //this happens during resizing or before UserEvents trigger \"start\"\n                       return;\n                   }\n\n                   if (th[0].hasAttribute(kendo.attr(COLSPAN))) {\n                       // resizing multi-column headers is not supported\n                       return;\n                   }\n\n                   that._createResizeHandle(th.closest(DIV), th);\n               });\n           },\n\n           _resizeHandleDocumentClick: function(e) {\n               if ($(e.target).closest(\".k-column-active\").length) {\n                   return;\n               }\n\n               $(document).off(e);\n\n               this._resetResizeHandleHeader();\n               this._hideResizeHandle();\n           },\n\n           _resetResizeHandleHeader: function() {\n               var th;\n\n               if (!this.resizeHandle) {\n                   return;\n               }\n\n               th = $(this.resizeHandle).data(\"th\");\n\n               if (th) {\n                   th.find(DOT + LINK_CLASS).find(DOT + ICON_CLASS + \",\" + DOT + SVG_ICON_CLASS).show();\n                   th.find(DOT + ORDER_CLASS).show();\n                   th.find(DOT + HEADER_COLUMN_MENU_CLASS).show();\n                   th.find(DOT + FILTER_MENU_CLASS).show();\n               }\n           },\n\n           _hideResizeHandle: function() {\n               if (this.resizeHandle) {\n                   this.resizeHandle.data(\"th\")\n                       .removeClass(\"k-column-active\");\n\n                   if (this.lockedContent && !this._isMobile) {\n                       this.resizeHandle.off(NS).remove();\n                       this.resizeHandle = null;\n                   } else {\n                       this.resizeHandle.hide();\n                   }\n               }\n           },\n\n           _positionColumnResizeHandleTouch: function() {\n               var that = this,\n                   lockedHead = that.lockedHeader ? that.lockedHeader.find(\"thead\").first() : $();\n\n               that._resizeUserEvents = new kendo.UserEvents(lockedHead.add(that.thead), {\n                   filter: \"th:not(.k-group-cell):not(.k-hierarchy-cell)\",\n                   threshold: 10,\n                   minHold: 500,\n                   hold: function(e) {\n                       var th = $(e.target);\n\n                       e.preventDefault();\n\n                       if (that.resizeHandle) {\n                           that.resizeHandle.data(\"th\")\n                               .removeClass(\"k-column-active\");\n                           that._resetResizeHandleHeader();\n                       }\n\n                       th.addClass(\"k-column-active\");\n\n                       th.find(DOT + LINK_CLASS).find(DOT + ICON_CLASS + \",\" + DOT + SVG_ICON_CLASS).hide();\n                       th.find(DOT + ORDER_CLASS).hide();\n                       th.find(DOT + HEADER_COLUMN_MENU_CLASS).hide();\n                       th.find(DOT + FILTER_MENU_CLASS).hide();\n\n                       that._createResizeHandle(th.closest(DIV), th);\n\n                       if (!that._resizeHandleDocumentClickHandler) {\n                           that._resizeHandleDocumentClickHandler = that._resizeHandleDocumentClick.bind(that);\n                       }\n\n                       $(document).on(\"click\", that._resizeHandleDocumentClickHandler);\n                   }\n               });\n           },\n\n           resizeColumn: function(column, columnWidth) {\n               var that = this;\n               var isLocked = !!column.locked;\n               var isHidden = !!column.hidden;\n               var options = this.options;\n               var scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0;\n               var index = isLocked ? inArray(column, visibleLockedColumns(visibleLeafColumns(that.columns))) : inArray(column, visibleNonLockedColumns(visibleLeafColumns(that.columns)));\n               var contentTable = isLocked ? that.lockedTable : that.table;\n               var footer = that.footer || $();\n               var header = isLocked ? that.lockedHeader.find(\"table\") : that.thead.closest(\"table\");\n               var columnMinWidth = column.minResizableWidth || 10;\n               var gridWidth = isLocked ? outerWidth(contentTable.find(\"tbody\")) : outerWidth(that.tbody); // IE returns 0 if grid is empty and scrolling is enabled\n               var col;\n\n               if (isHidden) {\n                   column.width = columnWidth > columnMinWidth ? columnWidth : columnMinWidth;\n                   return;\n               }\n\n               if (that.footer && that.lockedContent) {\n                   footer = isLocked ? that.footer.children(\".k-grid-footer-locked\") : that.footer.children(\".k-grid-footer-wrap\");\n               }\n\n               if (options.scrollable) {\n\n                   col = header.find(\"col:not(.k-group-col,.k-hierarchy-col)\").eq(index)\n                       .add(contentTable.children(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index))\n                       .add(footer.find(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index));\n               } else {\n                   col = contentTable.find(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index);\n               }\n\n               if (options.scrollable) {\n                   var constrain = false;\n                   var totalWidth = that.wrapper.width() - scrollbar;\n                   var width = columnWidth = columnWidth > columnMinWidth ? columnWidth : columnMinWidth;\n\n                   if (isLocked && gridWidth - columnWidth + width > totalWidth) {\n                       width = columnWidth + (totalWidth - gridWidth - scrollbar * 2);\n                       if (width < 0) {\n                           width = columnWidth;\n                       }\n                       constrain = true;\n                   }\n\n                   if (width > 10 && width >= columnMinWidth) {\n                       col.css('width', width);\n\n                       if (gridWidth) {\n                           if (constrain) {\n                               width = totalWidth - scrollbar * 2;\n                           } else {\n                               width = gridWidth + (columnWidth - column.width);\n                           }\n\n                           contentTable\n                               .add(header)\n                               .add(footer)\n                               .css('width', width);\n\n                           if (!isLocked) {\n                               that._footerWidth = width;\n                           }\n                       }\n                   }\n\n               that._scrollVirtualWrapperOnColumnResize();\n               } else if (columnWidth > 10 && columnWidth >= columnMinWidth) {\n                   col.css('width', columnWidth);\n               }\n\n               column.width = columnWidth;\n\n               that._applyLockedContainersWidth();\n               that._syncLockedContentHeight();\n               that._syncLockedHeaderHeight();\n               that._updateStickyColumns();\n           },\n\n           _resizable: function() {\n               var that = this,\n                   options = that.options,\n                   container,\n                   columnStart,\n                   columnWidth,\n                   columnMinWidth,\n                   gridWidth,\n                   isMobile = this._isMobile,\n                   scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0,\n                   isLocked,\n                   col, th;\n\n               if (options.resizable === true || (options.resizable && options.resizable.columns === true)) {\n                   container = options.scrollable ? that.wrapper.find(\".k-grid-header-wrap\").first() : that.wrapper;\n\n                   if (isMobile) {\n                       that._positionColumnResizeHandleTouch(container);\n                   } else {\n                       that._positionColumnResizeHandle(container);\n                   }\n\n                   if (that.resizable) {\n                       that.resizable.destroy();\n                   }\n\n                   that.resizable = new ui.Resizable(container.add(that.lockedHeader), {\n                       handle: (!!options.scrollable ? \"\" : \">\") + \".k-resize-handle\",\n                       hint: function(handle) {\n                           return $('<div class=\"k-grid-resize-indicator\" />').css({\n                               height: outerHeight(handle.data(\"th\")) + that.tbody.attr(\"clientHeight\")\n                           });\n                       },\n                       start: function(e) {\n                           th = $(e.currentTarget).data(\"th\");\n\n                           if (isMobile) {\n                               that._hideResizeHandle();\n                           }\n\n                           var header = th.closest(\"table\"),\n                               index = $.inArray(th[0], leafDataCells(th.closest(\"thead\")).filter(\":visible\"));\n\n                           isLocked = header.parent().hasClass(\"k-grid-header-locked\");\n\n                           var contentTable = isLocked ? that.lockedTable : that.table,\n                               footer = that.footer || $();\n\n                           if (that.footer && that.lockedContent) {\n                               footer = isLocked ? that.footer.children(\".k-grid-footer-locked\") : that.footer.children(\".k-grid-footer-wrap\");\n                           }\n\n                           cursor(that.wrapper, 'col-resize');\n\n                           if (options.scrollable) {\n                               col = header.find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index)\n                                   .add(contentTable.children(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index))\n                                   .add(footer.find(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index));\n                           } else {\n                               col = contentTable.children(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index);\n                           }\n\n                           var columns = $.map(that.columns, function(a) {\n                               return !a.hidden && ((isLocked && a.locked) || ((!isLocked && !a.locked))) ? a : null;\n                           });\n\n                           columnStart = e.x.location;\n                           columnWidth = outerWidth(th);\n                           columnMinWidth = leafColumns(columns)[index].minResizableWidth || 10;\n                           gridWidth = isLocked ? outerWidth(contentTable.children(\"tbody\")) : outerWidth(that.tbody); // IE returns 0 if grid is empty and scrolling is enabled\n\n                           // fix broken UI in Chrome38+\n                           if (browser.webkit) {\n                               that.wrapper.addClass(\"k-grid-column-resizing\");\n                           }\n                       },\n                       resize: function(e) {\n                           var rtlMultiplier = isRtl ? -1 : 1,\n                               currentWidth = columnWidth + (e.x.location * rtlMultiplier) - (columnStart * rtlMultiplier);\n\n                           if (options.scrollable) {\n                               var footer;\n                               if (isLocked && that.lockedFooter) {\n                                   footer = that.lockedFooter.children(\"table\");\n                               } else if (that.footer) {\n                                   footer = that.footer.find(\">.k-grid-footer-wrap>table\");\n                               }\n                               if (!footer || !footer[0]) {\n                                   footer = $();\n                               }\n                               var header = th.closest(\"table\");\n                               var contentTable = isLocked ? that.lockedTable : that.table;\n                               var constrain = false;\n                               var totalWidth = that.wrapper.width() - scrollbar;\n                               var width = currentWidth;\n\n                               if (isLocked && gridWidth - columnWidth + width > totalWidth) {\n                                   width = columnWidth + (totalWidth - gridWidth - scrollbar * 2);\n                                   if (width < 0) {\n                                       width = currentWidth;\n                                   }\n                                   constrain = true;\n                               }\n\n                               if (width > 10 && width >= columnMinWidth) {\n                                   col.css('width', width);\n\n                                   if (gridWidth) {\n                                       if (constrain) {\n                                           width = totalWidth - scrollbar * 2;\n                                       } else {\n                                           width = gridWidth + (e.x.location * rtlMultiplier) - (columnStart * rtlMultiplier);\n                                       }\n\n                                       contentTable\n                                           .add(header)\n                                           .add(footer)\n                                           .css('width', width);\n\n                                       if (!isLocked) {\n                                           that._footerWidth = width;\n                                       }\n                                   }\n                               }\n\n                               that._scrollVirtualWrapperOnColumnResize();\n                           } else if (currentWidth > 10 && currentWidth >= columnMinWidth) {\n                               col.css('width', currentWidth);\n                           }\n                       },\n                       resizeend: function() {\n                           var newWidth = outerWidth(th),\n                               column,\n                               header;\n\n                           cursor(that.wrapper, \"\");\n\n                           if (browser.webkit) {\n                               that.wrapper.removeClass(\"k-grid-column-resizing\");\n                           }\n\n                           if (th && columnWidth != newWidth) {\n                               header = that.lockedHeader ? that.lockedHeader.find(\"thead\").first().find(TR).first().add(that.thead.find(TR).first()) : th.parent();\n\n                               var index = th.attr(kendo.attr(\"index\"));\n                               if (!index) {\n                                   index = header.find(\"th:not(.k-group-cell):not(.k-hierarchy-cell)\").index(th);\n                               }\n                               column = leafColumns(that.columns)[index];\n\n                               column.width = newWidth;\n\n                               that.trigger(COLUMNRESIZE, {\n                                   column: column,\n                                   oldWidth: columnWidth,\n                                   newWidth: newWidth\n                               });\n\n                               that._applyLockedContainersWidth();\n                               that._syncLockedContentHeight();\n                               that._syncLockedHeaderHeight();\n                               that._updateStickyColumns();\n                           }\n\n                           that._resetResizeHandleHeader();\n                           that._hideResizeHandle();\n                           th = null;\n                       }\n                   });\n\n               }\n           },\n\n           // Row resizing functionality below\n           _addLockedRowResizing: function(tr) {\n               var index = tr.index();\n\n               return this.lockedTable.find(TR).eq(index)\n                   .add(this.tbody.find(TR).eq(index));\n           },\n\n           _getMinRowHeight: function(row) {\n               var minHeight = 0;\n\n               row.each(function (i, el) {\n                   var currentMinHeight;\n\n                   el.style.height = '';\n                   currentMinHeight = outerHeight(el);\n\n                   if (currentMinHeight > minHeight) {\n                       minHeight = currentMinHeight;\n                   }\n               });\n\n               return minHeight;\n           },\n\n           _cacheRowHeight: function(rows, height) {\n               var that = this;\n\n               if (!that._cachedRowsHeight) {\n                   that._cachedRowsHeight = {};\n               }\n\n               rows.each(function (i, el) {\n                   var uid = el.getAttribute(\"data-uid\");\n\n                   that._cachedRowsHeight[uid] = height;\n               });\n           },\n\n           _clearCachedRowsHeight: function(rows) {\n               var that = this;\n\n               if (rows && that._cachedRowsHeight) {\n                   rows.each(function (i, el) {\n                       var uid = el.getAttribute(\"data-uid\");\n\n                       delete that._cachedRowsHeight[uid];\n                   });\n               } else {\n                   that._cachedRowsHeight = null;\n               }\n           },\n\n           _mapCachedRowsHeight: function(method, target) {\n               var input = this._cachedRowsHeight,\n                   ds = this.dataSource,\n                   output = {};\n\n               Object.keys(input).forEach(function (key) {\n                   var item = ds[method](key);\n\n                   output[item[target]] = input[key];\n               });\n\n               this._cachedRowsHeight = output;\n           },\n\n           _rowResizerDblClick: function() {\n               var that = this,\n                   resizer = that.rowResizer,\n                   row = resizer.data(TR),\n                   oldHeight = outerHeight(row),\n                   newHeight, rows;\n\n               if (row.hasClass(SELECTED)) {\n                   rows = that.select();\n               } else {\n                   rows = row;\n               }\n\n               if (that.lockedTable) {\n                   row = that._addLockedRowResizing(row);\n\n                   if (row.hasClass(SELECTED)) {\n                       rows = that.lockedTable.find(DOT + SELECTED);\n                   } else {\n                       rows = that.lockedTable.find(TR).eq(row.index());\n                   }\n\n                   rows.each(function (i, el) {\n                       var rowIndex = el.rowIndex,\n                           rowPair = $(el).add(that.tbody.find(TR).eq(rowIndex)),\n                           pairMinHeight = that._getMinRowHeight(rowPair);\n\n                       rowPair.css(HEIGHT, pairMinHeight);\n                   });\n               } else {\n                   rows.css(HEIGHT, AUTO);\n               }\n\n               that._clearCachedRowsHeight(rows);\n\n               resizer.removeClass(HOVER);\n               resizer.removeClass(ACTIVE);\n\n               newHeight = outerHeight(row);\n\n               if (oldHeight != newHeight) {\n                   that.trigger(ROWRESIZE, {\n                       row: row,\n                       rows: rows,\n                       oldHeight: oldHeight,\n                       newHeight: newHeight\n                   });\n               }\n           },\n\n           _setupRowResizer: function _setupRowResizer(resizer, row, top) {\n               resizer\n                   .data(TR, row)\n                   .css({\n                       top: top\n                   });\n           },\n\n           _attachRowResizerEvents: function() {\n               var rowResizer = this.rowResizer,\n                   delay = 200,\n                   isIn = false;\n\n               rowResizer\n                   .on(MOUSEDOWN + NS, function (e) {\n                       if (e.button === 0) {\n                           rowResizer.removeClass(HOVER);\n                           rowResizer.addClass(ACTIVE);\n                       }\n                   })\n                   .on(MOUSEUP + NS, function (e) {\n                       if (e.button === 0) {\n                           rowResizer.removeClass(ACTIVE);\n                           rowResizer.addClass(HOVER);\n                       }\n                   })\n                   .on(MOUSEENTER + NS, function () {\n                       isIn = true;\n\n                       setTimeout(function () {\n                           if (isIn) {\n                               rowResizer.addClass(HOVER);\n                           }\n                       }, delay);\n                   })\n                   .on(MOUSELEAVE + NS, function () {\n                       isIn = false;\n                       rowResizer.removeClass(HOVER);\n                   });\n           },\n\n           _getResizerTop: function(tr, container) {\n               var resizer = this.rowResizer,\n                   inner = resizer.find(DOT + ROW_RESIZER)[0],\n                   paddingTop = parseInt(getComputedStyle(resizer[0]).paddingTop);\n\n               return tr.offset().top -\n                   parseFloat(tr.css(\"marginTop\")) -\n                   (container.offset().top + parseFloat(container.css(\"borderTopWidth\"))) -\n                   inner.clientHeight -\n                   paddingTop +\n                   container.scrollTop();\n           },\n\n           _getResizerContainer: function() {\n               var container = this.tbody.closest(DIV);\n\n               if (this.lockedTable) {\n                   container = container.closest(DOT + \"k-grid-container\");\n               }\n\n               return container;\n           },\n\n           _createRowResizer: function(e) {\n               var that = this,\n                   tr = $(e.currentTarget),\n                   targetHeight = e.currentTarget.clientHeight,\n                   positionIntarget = e.offsetY,\n                   rowResizer = that.rowResizer,\n                   previousRow = tr.prev(TR + \":visible\"),\n                   container = that._getResizerContainer(),\n                   top;\n\n               if (!rowResizer) {\n                   rowResizer = that.rowResizer = $('<div class=\"k-resizer-wrap\"><div class=\"k-row-resizer\"></div></div>');\n                   container.append(rowResizer);\n                   that._attachRowResizerEvents();\n\n                   rowResizer.off(DUBLECLICK + NS).on(DUBLECLICK + NS, that._rowResizerDblClick.bind(that));\n               }\n\n               top = that._getResizerTop(tr, container);\n\n               if (previousRow.length !== 0 && targetHeight / 2 > positionIntarget) {\n                   if (!previousRow.hasClass(GROUPING_ROW)) {\n                       that._setupRowResizer(rowResizer, previousRow, top);\n                   }\n               } else {\n                   if (!tr.hasClass(GROUPING_ROW)) {\n                       that._setupRowResizer(rowResizer, tr, top + targetHeight);\n                   }\n               }\n           },\n\n           _detachRowResizerEvents: function() {\n               var rowResizer = this.rowResizer;\n\n               rowResizer\n                   .off(MOUSEDOWN + NS)\n                   .off(MOUSEUP + NS)\n                   .off(MOUSEENTER + NS)\n                   .off(MOUSELEAVE + NS);\n           },\n\n           _mapResizedRows: function(rows, multiSelectionLocked, newHeight) {\n               var that = this;\n\n               rows.each(function (i, el) {\n                   var minHeight;\n\n                   if (multiSelectionLocked) {\n                       var rowIndex = el.rowIndex,\n                           pairNew = newHeight,\n                           pairMin = 0,\n                           rowPair = $(el).add(that.tbody.find(TR).eq(rowIndex));\n\n                       rowPair.each(function (i, r) {\n                           var currentMinHeight;\n\n                           r.style.height = '';\n                           currentMinHeight = outerHeight(r);\n\n                           if (currentMinHeight > pairMin) {\n                               pairMin = currentMinHeight;\n                           }\n                       });\n\n                       if (pairNew < pairMin) {\n                           pairNew = pairMin;\n\n                           that._clearCachedRowsHeight(rowPair.eq(0));\n                       } else {\n                           that._cacheRowHeight(rowPair.eq(0), pairNew);\n                       }\n\n                       rowPair.css(HEIGHT, pairNew);\n                   } else {\n                       el.style.height = '';\n                       minHeight = outerHeight(el);\n\n                       if (newHeight > minHeight) {\n                           el.style.height = newHeight + PX;\n\n                           that._cacheRowHeight($(el), newHeight);\n                       } else {\n                           that._clearCachedRowsHeight($(el));\n                       }\n                   }\n               });\n           },\n\n           _rowResizing: function() {\n               var that = this,\n                   options = that.options,\n                   container, rowStart, rowHeight, tr;\n\n               if (options.resizable && options.resizable.rows === true) {\n                   that.tbody\n                       .parent()\n                       .add(that.lockedTable)\n                       .on(MOUSEMOVE + NS, \".k-grid-footer tr, .k-table-tbody tr\", that._createRowResizer.bind(that));\n\n                   if (that.rowResizing) {\n                       that.rowResizing.destroy();\n                   }\n\n                   container = that._getResizerContainer();\n\n                   that.rowResizing = new ui.Resizable(container, {\n                       handle: DOT + ROW_RESIZER_WRAP,\n                       start: function(e) {\n                           tr = $(e.currentTarget).data(TR);\n\n                           if (that.lockedTable) {\n                               tr = that._addLockedRowResizing(tr);\n                           }\n\n                           tr.addClass(HOVER);\n\n                           that._detachRowResizerEvents();\n\n                           rowStart = e.y.location;\n                           rowHeight = outerHeight(tr);\n                       },\n                       resize: function(e) {\n                           var newHeight = rowHeight + e.y.location - rowStart,\n                               minHeight = 0;\n\n                           if (tr.length > 1) {\n                               minHeight = that._getMinRowHeight(tr);\n                           }\n\n                           if (newHeight < minHeight) {\n                               newHeight = minHeight;\n                           }\n\n                           tr.css('height', newHeight);\n\n                           that._setupRowResizer(that.rowResizer, tr, that._getResizerTop(tr, container) + newHeight);\n                       },\n                       resizeend: function() {\n                           var newHeight = outerHeight(tr),\n                               multiSelectionLocked = false,\n                               rows;\n\n                           if (tr.hasClass(SELECTED)) {\n                               rows = that.select();\n\n                               if (tr.length > 1 && rows.length > tr.length) {\n                                   rows = that.lockedTable.find(DOT + SELECTED).not(tr);\n                                   multiSelectionLocked = true;\n                               }\n                           } else {\n                               rows = tr;\n                           }\n\n                           that._mapResizedRows(rows, multiSelectionLocked, newHeight);\n\n                           tr.removeClass(HOVER);\n\n                           that.rowResizer.removeClass(ACTIVE);\n                           that.rowResizer.addClass(HOVER);\n                           that._attachRowResizerEvents();\n\n                           if (multiSelectionLocked) {\n                               rows = that.select();\n                           }\n\n                           if (rowHeight != newHeight) {\n                               that.trigger(ROWRESIZE, {\n                                   row: tr,\n                                   rows: rows,\n                                   oldHeight: rowHeight,\n                                   newHeight: newHeight\n                               });\n                           }\n\n                           tr = null;\n                       }\n                   });\n               }\n           },\n\n           _draggable: function() {\n               var that = this,\n                   reorderable = that.options.reorderable;\n\n               if (reorderable === true || (reorderable && reorderable.columns)) {\n\n                   if (that._draggableInstance) {\n                       that._draggableInstance.destroy();\n                   }\n\n                   var header = that.wrapper.children(\".k-grid-header\");\n\n                   that._draggableInstance = that.wrapper.kendoDraggable({\n                       group: kendo.guid(),\n                       autoScroll: true,\n                       filter: that.content ? \".k-grid-header:first \" + HEADERCELLS : \"table:first>.k-grid-header \" + HEADERCELLS,\n                       dragstart: function() {\n                           header.children(\".k-grid-header-wrap\").off(\"scroll\" + NS + \"scrolling\").on(\"scroll\" + NS + \"scrolling\", function(e) {\n                               if (that.virtualScrollable) {\n                                   kendo.scrollLeft(that.content.find(\">.k-virtual-scrollable-wrap\"), this.scrollLeft);\n                               } else {\n                                   kendo.scrollLeft(that.scrollables.not(e.currentTarget), this.scrollLeft);\n                               }\n                           });\n                       },\n                       dragend: function() {\n                           that._resetResizeHandleHeader();\n                           header.children(\".k-grid-header-wrap\").off(\"scroll\" + NS + \"scrolling\");\n                       },\n                       drag: function() {\n                           that._hideResizeHandle();\n                       },\n                       hint: function(target) {\n                           var title = target.attr(kendo.attr(\"title\"));\n                           if (title) {\n                               title = kendo.htmlEncode(title);\n                           }\n                           return $('<div class=\"k-reorder-clue k-drag-clue\" />')\n                               .html(title || target.attr(kendo.attr(\"field\")) || target.text())\n                               .prepend(kendo.ui.icon({ icon: \"cancel\", iconClass: \"k-drag-status\" }));\n                       }\n                   }).data(\"kendoDraggable\");\n               }\n           },\n\n           _reorderable: function() {\n               var that = this,\n                   reorderable = that.options.reorderable;\n\n               if (reorderable === true || (reorderable && reorderable.columns)) {\n                   if (that.wrapper.data(\"kendoReorderable\")) {\n                       that.wrapper.data(\"kendoReorderable\").destroy();\n                   }\n\n                   that.wrapper.kendoReorderable({\n                       draggable: that._draggableInstance,\n                       dropFilter: HEADERCELLS,\n                       dragOverContainers: function(sourceIndex, targetIndex) {\n                           var columns = flatColumnsInDomOrder(that.columns);\n                           return columns[sourceIndex].lockable !== false && targetParentContainerIndex(columns, that.columns, sourceIndex, targetIndex) > -1;\n                       },\n                       inSameContainer: function(e) {\n                           return $(e.source).parent()[0] === $(e.target).parent()[0] && targetParentContainerIndex(flatColumnsInDomOrder(that.columns), that.columns, e.sourceIndex, e.targetIndex) > -1;\n                       },\n                       change: function(e) {\n                           var columns = flatColumnsInDomOrder(that.columns);\n                           var column = columns[e.oldIndex];\n                           var newIndex = targetParentContainerIndex(columns, that.columns, e.oldIndex, e.newIndex);\n\n                           that.trigger(COLUMNREORDER, {\n                               newIndex: newIndex,\n                               oldIndex: inArray(column, columns),\n                               column: column\n                           });\n\n                           that.reorderColumn(newIndex, column, e.position === \"before\");\n                       }\n                   });\n               }\n           },\n\n           _reorderHeader: function(sources, target, before, container) {\n               var that = this;\n               var sourcePosition = columnPosition(sources[0], that.columns);\n               var destPosition = columnPosition(target, that.columns);\n               var action;\n               var ths;\n\n               var leafs = [];\n               for (var idx = 0; idx < sources.length; idx++) {\n                   if (sources[idx].columns) {\n                       leafs = leafs.concat(sources[idx].columns);\n                   }\n               }\n               if (container) {\n                   ths = elements(container, container, \"tr:eq(\" + sourcePosition.row + \")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)\");\n               } else {\n                   ths = elements(that.lockedHeader, that.thead, \"tr:eq(\" + sourcePosition.row + \")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)\");\n               }\n\n               var sourceLockedColumns = lockedColumns(sources).length;\n               var targetLockedColumns = lockedColumns([target]).length;\n\n               if (leafs.length) {\n                   if (sourceLockedColumns > 0 && targetLockedColumns === 0) {\n                       action = \"prepend\";\n                       moveCellsBetweenContainers(sources, target, leafs, that.columns, that.lockedHeader.find(\"thead\"), that.thead, this._groups(), action);\n                   } else if (sourceLockedColumns === 0 && targetLockedColumns > 0) {\n                       action = destPosition.cell === 0 && sources[0].columns && !target.columns && !that._group ? \"prepend\" : \"append\";\n                       moveCellsBetweenContainers(sources, target, leafs, nonLockedColumns(that.columns), that.thead, that.lockedHeader.find(\"thead\"), this._groups(), action);\n                   }\n\n                   if (target.columns || sourcePosition.cell - destPosition.cell > 1 || destPosition.cell - sourcePosition.cell > 1) {\n                       target = findReorderTarget(that.columns, target, sources[0], before, that.columns);\n                       if (target) {\n                           if (sourceLockedColumns > 0 && targetLockedColumns === 0) {\n                               that._reorderHeader(leafs, target, before, that.thead);\n                           } else if (sourceLockedColumns === 0 && targetLockedColumns > 0) {\n                               that._reorderHeader(leafs, target, before, that.lockedHead);\n                           } else {\n                               that._reorderHeader(leafs, target, before);\n                           }\n                       }\n                   }\n               } else if (sourceLockedColumns !== targetLockedColumns) { // move between containers\n                   updateCellRowSpan(ths[sourcePosition.cell], that.columns, sourceLockedColumns);\n               }\n\n               reorder(ths, sourcePosition.cell, destPosition.cell, before, sources.length);\n           },\n\n           _reorderContent: function(sources, destination, before) {\n               var that = this;\n               var lockedRows = $();\n               var source = sources[0];\n               var visibleSources = visibleColumns(sources);\n               var sourceIndex = inArray(source, leafColumns(that.columns));\n               var destIndex = inArray(destination, leafColumns(that.columns));\n\n               var colSourceIndex = inArray(visibleSources[0], visibleLeafColumns(that.columns));\n               var colDest = inArray(destination, visibleLeafColumns(that.columns));\n               var lockedCount = lockedColumns(that.columns).length;\n               var isLocked = !!destination.locked;\n               var footer = that.footer || that.wrapper.find(\".k-grid-footer\");\n\n               var headerCol, footerCol, beforeVisibleColumn;\n               headerCol = footerCol = colDest;\n\n               if (destination.hidden) {\n                   var columnsArray = isLocked ? lockedColumns(that.columns) : nonLockedColumns(that.columns);\n\n                   if (visibleColumns(columnsArray).length > 0) {\n                       headerCol = footerCol = colDest = this._findClosestVisibleColumnIndex(columnsArray, destIndex);\n                       beforeVisibleColumn = visibleColumns(columnsArray.slice(destIndex)).length > 0;\n                   }\n                   else {\n                       if (isLocked) {\n                           colDest = that.lockedTable.find(\"colgroup\");\n                           headerCol = that.lockedHeader.find(\"colgroup\");\n                           footerCol = $(that.lockedFooter).find(\">table>colgroup\");\n                       } else {\n                           colDest = that.tbody.prev();\n                           headerCol = that.thead.prev();\n                           footerCol = footer.find(\".k-grid-footer-wrap\").find(\">table>colgroup\");\n                       }\n                   }\n               }\n\n               if (that._hasFilterRow()) {\n                   reorder(that.wrapper.find(\".k-filter-row td:not(.k-group-cell,.k-hierarchy-cell)\"), sourceIndex, destIndex, before, sources.length);\n               }\n\n               if (colSourceIndex >= 0) {\n                   reorder(elements(that.lockedHeader, that.thead.prev(), COLGROUP), colSourceIndex, headerCol, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n               }\n\n               if (that.options.scrollable) {\n                   if (colSourceIndex >= 0 && !that._hasVirtualColumns()) {\n                       reorder(elements(that.lockedTable, that.tbody.prev(), COLGROUP), colSourceIndex, colDest, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n                   }\n               }\n\n               if (footer && footer.length) {\n                   if (colSourceIndex >= 0) {\n                       reorder(elements(that.lockedFooter, footer.find(\".k-grid-footer-wrap\"), \">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)\"), colSourceIndex, footerCol, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n                   }\n                   reorder(footer.find(\".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)\"), sourceIndex, destIndex, before, sources.length);\n               }\n\n               var rows = that.tbody.children(\":not(.k-grouping-row,.k-detail-row)\");\n               if (that.lockedTable) {\n                   if (lockedCount > destIndex) {\n                       if (lockedCount <= sourceIndex) {\n                           updateColspan(\n                               that.lockedTable.find(\">tbody>tr.k-grouping-row\"),\n                               that.table.find(\">tbody>tr.k-grouping-row\"),\n                               sources.length\n                           );\n                       }\n                   } else if (lockedCount > sourceIndex) {\n                       updateColspan(\n                           that.table.find(\">tbody>tr.k-grouping-row\"),\n                           that.lockedTable.find(\">tbody>tr.k-grouping-row\"),\n                           sources.length\n                       );\n                   }\n\n                   lockedRows = that.lockedTable.find(\">tbody>tr:not(.k-grouping-row,.k-detail-row)\");\n               }\n\n               for (var idx = 0, length = rows.length; idx < length; idx += 1) {\n                   reorder(elements(lockedRows[idx], rows[idx], \">td:not(.k-group-cell,.k-hierarchy-cell)\"), sourceIndex, destIndex, before, sources.length);\n               }\n           },\n\n           _findClosestVisibleColumnIndex: function(columns, columnIndex) {\n               var columnsArray = visibleColumns(columns.slice(columnIndex)).length > 0 ? columns.slice(columnIndex) : columns.slice(0, columnIndex + 1).reverse(),\n                   closestVisibleColumn = visibleColumns(columnsArray)[0];\n\n               return inArray(closestVisibleColumn, visibleColumns(this.columns));\n           },\n\n           _autoFitLeafColumn: function(leafIndex) {\n               this.autoFitColumn(leafColumns(this.columns)[leafIndex]);\n           },\n\n           _hasReorderableRows: function() {\n               return this._hasDragHandleColumn || (this.options.reorderable && this.options.reorderable.rows);\n           },\n\n           _draggableRows: function() {\n               var that = this,\n                   selectable = that._checkBoxSelection ||\n                       (that.options.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell),\n                   clickMoveClick = false;\n\n               if (that._draggableRowsInstance) {\n                   that._draggableRowsInstance.destroy();\n               }\n\n               if (this.options.reorderable.rows.moveClickMove !== false && this._hasDragHandleColumn) {\n                   clickMoveClick = true;\n               }\n\n               that._draggableRowsInstance = that.tbody.kendoDraggable({\n                   group: \"row-draggable\",\n                   autoScroll: true,\n                   filter: (selectable ? \" > .k-selected\" : \" > \" + ITEMROW) + (that._hasDragHandleColumn ? \" > .k-drag-cell\" : \"\"),\n                   hint: function(target) {\n                       var hint = $('<div class=\"k-reorder-clue k-drag-clue\">' + kendo.ui.icon({ icon: \"cancel\", iconClass: \"k-drag-status\" }) + '</div>');\n\n                       if (selectable && that.select().length > 1) {\n                           hint.append(\"<span>\" + that.select().length + \" \" + encode(that.options.messages.itemsSelected) + \"</span>\");\n                       } else {\n                           var clone = target.closest(ITEMROW).clone();\n                           clone.find(\"td.k-command-cell\").remove();\n                           clone.find(\"td\").each(function(index, elm) {\n                               hint.append(\"<span>\" + elm.innerText + \"&nbsp;</span>\");\n                           });\n                       }\n\n                       return hint;\n                   },\n                   clickMoveClick: clickMoveClick,\n                   cursorOffset: { top: 0, left: 0 }\n               }).data(\"kendoDraggable\");\n           },\n\n           _reorderableRows: function() {\n               var that = this,\n                   selectable = that._checkBoxSelection ||\n                               (that.options.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell);\n\n               if (that.tbody.data(\"kendoReorderable\")) {\n                   that.tbody.data(\"kendoReorderable\").destroy();\n               }\n\n               that.tbody.kendoReorderable({\n                   smartPosition: false,\n                   draggable: that._draggableRowsInstance,\n                   dragOverContainers: function(sourceIndex, targetIndex) {\n                       var result = true,\n                           target = $(ITEMROW, that.content).eq(targetIndex);\n\n                       if (selectable) {\n                           result = !target.is(\".k-selected\");\n                       }\n\n                       return result;\n                   },\n                   inSameContainer: function(e) {\n                       if (selectable) {\n                           return !$(e.target).is(\".k-selected\");\n                       }\n\n                       return true;\n                   },\n                   dropFilter: \"> \" + ITEMROW,\n                   allowIcon: \"insert-middle\",\n                   orientation: \"vertical\",\n                   reorderDropCue: $('<div class=\"k-drop-hint k-drop-hint-h\"><div class=\"k-drop-hint-start\"></div><div class=\"k-drop-hint-line\"></div></div>'),\n                   positionDropCue: function(reorderDropCue, dropTarget) {\n                       var firstCellLeft = kendo.getOffset(dropTarget.children(DATA_CELL).eq(0)).left;\n                       reorderDropCue.css({\n                           transform: \"translate(0,-50%)\",\n                           left: firstCellLeft\n                       });\n                   },\n                   externalDraggable: function(e) {\n                       var draggable = e.draggable;\n\n                       if (draggable) {\n                           return draggable;\n                       }\n                   },\n                   change: function(e) {\n                       that._triggerRowRorder(e);\n                   }\n               });\n           },\n\n           _triggerRowRorder: function(e) {\n               var that = this,\n                   args = {\n                       newIndex: e.position === \"after\" ? e.newIndex + 1 : e.newIndex,\n                       oldIndex: e.oldIndex\n                   },\n                   row = e.element,\n                   selectable = that._checkBoxSelection ||\n                   (that.options.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell);\n\n               if (selectable && that.select().length > 1) {\n                   args = extend(args, {\n                       rows: that.select()\n                   });\n               } else {\n                   args = extend(args, {\n                       row: row\n                   });\n               }\n\n               if (!that.trigger(ROWREORDER, args)) {\n                   that.reorderRows(selectable ? that.select() : row, args.newIndex);\n               }\n           },\n\n           reorderRows: function(rows, index) {\n               var that = this,\n                   dataSource = that.dataSource,\n                   rowsLength = that.tbody.children(ITEMROW).length,\n                   targetItem = that.dataItem(that.tbody.children(ITEMROW).eq(index)),\n                   items = rows.toArray().map(function(row) {\n                       return that.dataItem(row);\n                   });\n\n               if (!targetItem) {\n                   // If index is after last row dataItem wouldn't exist\n                   targetItem = that.dataItem(that.tbody.children(ITEMROW).eq(rowsLength - 1));\n                   index = dataSource.indexOf(targetItem) + 1;\n               } else {\n                   index = dataSource.indexOf(targetItem);\n               }\n\n               if (index >= 0) {\n                   that._rowDropping = true;\n                   dataSource.pushMove(index, items);\n                   that._rowDropping = false;\n               }\n           },\n\n           autoFitColumns: function(columns) {\n               var that = this;\n\n               columns = columns || that.columns;\n\n               for (var i = 0; i < columns.length; i++) {\n                   var column = columns[i];\n\n                   if (column.columns) {\n                       that.autoFitColumns(column.columns);\n                   } else {\n                       that.autoFitColumn(column);\n                   }\n               }\n           },\n\n           autoFitColumn: function(column) {\n               var that = this,\n                   options = that.options,\n                   columns = that.columns,\n                   index,\n                   th,\n                   headerTable,\n                   leafCols,\n                   isLocked,\n                   visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find(\">table>thead\")).filter(isCellVisible).length : 0,\n                   col,\n                   minWidth,\n                   contentDiv, scrollLeft,\n                   notGroupOrHierarchyCol = \"col:not(.k-group-col):not(.k-hierarchy-col)\",\n                   notGroupOrHierarchyVisibleCell = \"td:visible:not(.k-group-cell):not(.k-hierarchy-cell)\",\n                   menu,\n                   thWidth;\n\n               //  retrieve the column object, depending on the method argument\n               if (typeof column == \"number\") {\n                   column = columns[column];\n               } else if (isPlainObject(column)) {\n                   column = grep(flatColumns(columns), function(item) {\n                       return item === column;\n                   })[0];\n               } else {\n                   column = grep(flatColumns(columns), function(item) {\n                       return item.field === column;\n                   })[0];\n               }\n\n               if (!column || !isVisible(column)) {\n                   return;\n               }\n\n               leafCols = leafColumns(columns);\n               minWidth = column.minResizableWidth;\n               index = inArray(column, leafCols);\n               isLocked = column.locked;\n\n               if (isLocked) {\n                   headerTable = that.lockedHeader.children(\"table\");\n               } else {\n                   headerTable = that.thead.parent();\n               }\n\n               th = headerTable.find(\"[data-index='\" + index + \"']\");\n               menu = th.find('a.k-grid-column-menu, a.k-grid-filter-menu');\n\n               var contentTable = isLocked ? that.lockedTable : that.table,\n                   footer = that.footer || $();\n\n               if (that.footer && that.lockedContent) {\n                   footer = isLocked ? that.footer.children(\".k-grid-footer-locked\") : that.footer.children(\".k-grid-footer-wrap\");\n               }\n\n               var footerTable = footer.find(\"table\").first();\n\n               if (that.lockedHeader && !isLocked) {\n                   index -= visibleLocked;\n               }\n\n               // adjust column index, depending on previous hidden columns\n               for (var j = 0; j < leafCols.length; j++) {\n                   if (leafCols[j] === column) {\n                       break;\n                   } else {\n                       if (leafCols[j].hidden) {\n                           index--;\n                       }\n                   }\n               }\n\n               // get col elements\n               if (options.scrollable) {\n                   col = headerTable.find(notGroupOrHierarchyCol).eq(index)\n                       .add(contentTable.children(\"colgroup\").find(notGroupOrHierarchyCol).eq(index))\n                       .add(footerTable.find(\"colgroup\").find(notGroupOrHierarchyCol).eq(index));\n\n                   if (!isLocked) {\n                       contentDiv = contentTable.parent();\n                       scrollLeft = kendo.scrollLeft(contentDiv);\n                   }\n               } else {\n                   col = contentTable.children(\"colgroup\").find(notGroupOrHierarchyCol).eq(index);\n               }\n\n               var tables = headerTable.add(contentTable).add(footerTable);\n\n               if (browser.safari) {\n                   th.css(\"white-space\", \"initial\");\n               }\n\n               var oldColumnWidth = outerWidth(th);\n\n               // reset the table and autofitted column widths\n               // if scrolling is disabled, we need some additional repainting of the table\n               col.width(\"\");\n               tables.css(\"table-layout\", \"fixed\");\n               col.width(AUTO);\n               tables.addClass(\"k-autofitting\");\n               tables.css(\"table-layout\", \"\");\n\n               thWidth = menu.length ? outerWidth(menu) + outerWidth(th) : outerWidth(th);\n\n               // +1 is required by IE, regardless of the border widths, otherwise unexpected wrapping may occur with hyphenated text\n               var newColumnWidth = Math.ceil(Math.max(\n                   thWidth,\n                   outerWidth(contentTable.find(\"tr:not(.k-grouping-row)\").eq(0).children(notGroupOrHierarchyVisibleCell).eq(index)),\n                   outerWidth(footerTable.find(TR).eq(0).children(notGroupOrHierarchyVisibleCell).eq(index))\n               )) + 1;\n\n               if (minWidth && minWidth > newColumnWidth) {\n                   newColumnWidth = minWidth;\n               }\n\n               col.width(newColumnWidth);\n               column.width = newColumnWidth;\n\n               if (browser.safari) {\n                   th.css(\"white-space\", \"\");\n               }\n\n               // if all visible columns have widths, the table needs a pixel width as well\n               if (options.scrollable) {\n                   var cols = headerTable.find(\"col\"),\n                       colWidth,\n                       totalWidth = 0;\n                   for (var idx = 0, length = cols.length; idx < length; idx += 1) {\n                       colWidth = cols[idx].style.width;\n                       if (colWidth && colWidth.indexOf(\"%\") == -1) {\n                           totalWidth += parseInt(colWidth, 10);\n                       } else if (cols.eq(idx).hasClass(\"k-group-col\")) {\n                           totalWidth += parseInt(cols.eq(idx).width(), 10);\n                       } else {\n                           totalWidth = 0;\n                           break;\n                       }\n                   }\n\n                   if (totalWidth) {\n                       tables.each(function() {\n                           this.style.width = totalWidth + PX;\n                       });\n                   }\n               }\n\n               tables.removeClass(\"k-autofitting\");\n\n               if (scrollLeft) {\n                   kendo.scrollLeft(contentDiv, scrollLeft);\n               }\n\n               that.trigger(COLUMNRESIZE, {\n                   column: column,\n                   oldWidth: oldColumnWidth,\n                   newWidth: newColumnWidth\n               });\n\n               that._applyLockedContainersWidth();\n               that._syncLockedContentHeight();\n               that._syncLockedHeaderHeight();\n               that._updateStickyColumns();\n           },\n\n           reorderColumn: function(destIndex, column, before) {\n               var that = this,\n                   parent = columnParent(column, that.columns),\n                   columns = parent ? parent.columns : that.columns,\n                   sourceIndex = inArray(column, columns),\n                   destColumn = columns[destIndex],\n                   virtualScroll = that.virtualScroll || {},\n                   lockChanged,\n                   isLocked = !!destColumn.locked,\n                   lockedCount = lockedColumns(that.columns).length,\n                   groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function(column) { return column.groupHeaderColumnTemplate; });\n\n               if (sourceIndex === destIndex) {\n                   return;\n               }\n\n               if (!column.locked && isLocked && nonLockedColumns(that.columns).length == 1) {\n                   return;\n               }\n\n               if (column.locked && !isLocked && lockedCount == 1) {\n                   return;\n               }\n\n               that._hideResizeHandle();\n\n               if (before === undefined$1) {\n                   before = destIndex < sourceIndex;\n               }\n\n               var sourceColumns = [column];\n\n               that._reorderHeader(sourceColumns, destColumn, before);\n\n               if (that.lockedHeader) {\n                   removeEmptyRows(that.thead);\n                   removeEmptyRows(that.lockedHeader);\n               }\n\n               if (destColumn.columns) {\n                   destColumn = leafColumns(destColumn.columns);\n                   destColumn = destColumn[before ? 0 : destColumn.length - 1];\n               }\n\n               if (column.columns) {\n                   sourceColumns = leafColumns(column.columns);\n               }\n\n               that._reorderContent(sourceColumns, destColumn, before);\n\n               lockChanged = !!column.locked;\n               lockChanged = lockChanged != isLocked;\n               column.locked = isLocked;\n\n               columns.splice(before ? destIndex : destIndex + 1, 0, column);\n               columns.splice(sourceIndex < destIndex ? sourceIndex : sourceIndex + 1, 1);\n\n               that._updateLockedCols();\n               that._updateCols();\n               that._templates();\n\n               that._updateColumnCellIndex();\n               that._updateColumnSorters();\n\n               if (groupHeaderColumnTemplateColumns.length > 0) {\n                   that._renderGroupRows();\n               }\n               that._updateTablesWidth();\n               that._applyLockedContainersWidth();\n               that._syncLockedHeaderHeight();\n               that._syncLockedContentHeight();\n               that._updateFirstColumnClass();\n               that._updateStickyColumns();\n\n               if (virtualScroll.columns) {\n                   that.refresh();\n               }\n\n               if (!lockChanged) {\n                   return;\n               }\n\n               if (isLocked) {\n                   that.trigger(COLUMNLOCK, {\n                       column: column\n                   });\n               } else {\n                   that.trigger(COLUMNUNLOCK, {\n                       column: column\n                   });\n               }\n           },\n\n           _updateColumnCellIndex: function() {\n               var header;\n               var offset = 0;\n\n               if (this.lockedHeader) {\n                   header = this.lockedHeader.find(\"thead\");\n                   offset = updateCellIndex(header, lockedColumns(this.columns));\n               }\n               updateCellIndex(this.thead, nonLockedColumns(this.columns), offset);\n           },\n\n           lockColumn: function(column) {\n               var columns = this.columns;\n\n               if (typeof column == \"number\") {\n                   column = columns[column];\n               } else {\n                   column = grep(columns, function(item) {\n                       return item.field === column;\n                   })[0];\n               }\n\n               if (!column || column.locked || column.hidden) {\n                   return;\n               }\n\n               if (column.sticky) {\n                   this.unstickColumn(columns.indexOf(column));\n               }\n\n               var index = lockedColumns(columns).length - 1;\n               this.reorderColumn(index, column, false);\n           },\n\n           unlockColumn: function(column) {\n               var columns = this.columns;\n\n               if (typeof column == \"number\") {\n                   column = columns[column];\n               } else {\n                   column = grep(columns, function(item) {\n                       return item.field === column;\n                   })[0];\n               }\n\n               if (!column || !column.locked || column.hidden) {\n                   return;\n               }\n\n               var index = lockedColumns(columns).length;\n               this.reorderColumn(index, column, true);\n           },\n\n           stickColumn: function(column) {\n               var columns = this.columns;\n\n               if (typeof column == \"number\") {\n                   column = columns[column];\n               } else {\n                   column = grep(columns, function(item) {\n                       return item.field === column;\n                   })[0];\n               }\n\n               if (!column || column.sticky || column.hidden) {\n                   return;\n               }\n\n               if (column.locked) {\n                   this.unlockColumn(columns.indexOf(column));\n\n                   if (column.locked) {\n                       return;\n                   }\n               }\n\n               column.sticky = true;\n               this._updateStickyColumns();\n           },\n\n           unstickColumn: function(column) {\n               var columns = this.columns;\n\n               if (typeof column == \"number\") {\n                   column = columns[column];\n               } else {\n                   column = grep(columns, function(item) {\n                       return item.field === column;\n                   })[0];\n               }\n\n               if (!column || !column.sticky || column.locked || column.hidden) {\n                   return;\n               }\n\n               this._removeStickyAttributes([column]);\n               this._removeStickyStyles(stickyColumns(columns));\n\n               column.sticky = false;\n               this._updateStickyColumns();\n\n               if (this._anyStickyColumns() === 0) {\n                   this._templates();\n                   if (this._hasFilterRow()) {\n                       this._updateStickyFilterCells();\n                   }\n               }\n           },\n\n           cellIndex: function(td) {\n               var lockedColumnOffset = 0;\n\n               if (this.lockedTable && !$.contains(this.lockedTable[0], td[0])) {\n                   lockedColumnOffset = leafColumns(lockedColumns(this.columns)).length;\n               }\n\n               return $(td).parent().children('td:not(.k-group-cell,.k-hierarchy-cell)').index(td) + lockedColumnOffset;\n           },\n\n           _modelForContainer: function(container) {\n               container = $(container);\n\n               if (!container.is(TR) && this._editMode() !== \"popup\") {\n                   container = container.closest(TR);\n               }\n\n               var id = container.attr(kendo.attr(\"uid\")) || container.find(\".k-popup-edit-form\").attr(kendo.attr(\"uid\"));\n\n               return this.dataSource.getByUid(id);\n           },\n\n           _calculateColumnIndex: function(cell) {\n               var cellIndex = this.cellIndex(cell);\n               var virtualOffset = 0;\n\n               if (this._hasVirtualColumns()) {\n                   virtualOffset = parseInt($(cell).closest(TR).find(\"td\").first().attr(\"colspan\"), 10);\n                   virtualOffset = (virtualOffset > 1 ? virtualOffset - 1 : 0);\n               }\n\n               return cellIndex + virtualOffset;\n           },\n\n           _editable: function() {\n               var that = this,\n                   editable = that.options.editable,\n                   handler = function() {\n                       var target = activeElement(),\n                           cell = that._editContainer;\n\n                       if (cell && cell[0] && !$.contains(cell[0], target) && cell[0] !== target && !$(target).closest(\".k-animation-container\").length) {\n                           if (that.editable.end()) {\n                               that.closeCell();\n                           } else {\n                               that._scrollVirtualWrapper();\n                           }\n                       }\n                   };\n\n               if (editable) {\n                   this.wrapper.addClass(\"k-editable\");\n\n                   var mode = that._editMode();\n                   if (mode === \"incell\") {\n                       that.table.add(that.lockedTable)\n                           .on(MOUSEDOWN + NS, NAVROW + \">\" + NAVCELL, function(e) {\n                               var target = $(e.target);\n                               if (that._editMode() === \"incell\" && target.hasClass(\"k-checkbox\") && target.prev().attr(kendo.attr(\"bind\"))) {\n                                   e.preventDefault();\n                               }\n                           });\n\n                       if (editable.update !== false) {\n                           if (isMac) {\n                               that.wrapper\n                                   .on(CLICK + NS, \".k-edit-cell > input[type='checkbox']\", function(e) {\n                                       // checking /unchecking a checkbox does not change the document.activeElement to be the checkbox\n                                       // this is necessary for the \"focusout\" event to be fired\n                                       $(e.target).trigger(\"focus\");\n                                   })\n                                   .on(CLICK + NS, \".k-edit-cell\", function(e) {\n                                       if (!$(e.target).is(\"input\")) {\n                                           $(e.currentTarget).find(\"input[type='checkbox']\").trigger(\"focus\");\n                                       }\n                                   })\n                                   .on(MOUSEDOWN + NS, \"tr:not(.k-grouping-row) > td\", function(e) {\n                                       var editContainer = that._editContainer;\n\n                                       if (editContainer && editContainer[0] && ($.contains(editContainer[0], e.target) || editContainer[0] === e.target)) {\n                                           that._mousedownOnEditCell = true;\n                                       } else {\n                                           that._mousedownOnEditCell = false;\n                                       }\n                                   });\n                           }\n\n                           that.editableUserEvents = new kendo.UserEvents(that.wrapper, {\n                               filter: \"tr:not(.k-grouping-row) > td\",\n                               allowSelection: true,\n                               tap: function(e) {\n                                   var td = $(e.target),\n                                   isLockedCell = that.lockedTable && td.closest(\"table\")[0] === that.lockedTable[0];\n\n                                   that._mousedownOnEditCell = false;\n\n                                   if (td.hasClass(\"k-hierarchy-cell\") ||\n                                       td.hasClass(\"k-detail-cell\") ||\n                                       td.hasClass(\"k-group-cell\") ||\n                                       td.hasClass(\"k-edit-cell\") ||\n                                       td.has(\".k-grid-remove-command\").length ||\n                                       (td.closest(\"tbody\")[0] !== that.tbody[0] && !isLockedCell) ||\n                                       $(e.target).is(\":input\")) {\n                                       return;\n                                   }\n\n                                   if (that.editable) {\n                                       if (that.editable.end()) {\n                                           $(activeElement()).trigger(\"blur\");\n                                           that.closeCell();\n                                           that.editCell(td);\n                                       } else {\n                                           that._scrollVirtualWrapper();\n                                       }\n                                   } else {\n                                       that.editCell(td);\n                                   }\n                               }\n                           });\n\n                           that.wrapper.on(\"focusin\" + NS, function() {\n                               // fix focus issue in IE\n                               if (!$.contains(this, activeElement())) {\n                                   clearTimeout(that.timer);\n                                   that.timer = null;\n                               }\n                           })\n                           .on(\"focusout\" + NS, function(e) {\n                               var shouldCloseCell = true;\n\n                               if ((isMac && that._mousedownOnEditCell) || that._virtualColScroll) {\n                                   shouldCloseCell = false;\n                               }\n\n                               that._mousedownOnEditCell = false;\n\n                               if (shouldCloseCell) {\n                                   that.timer = setTimeout(function() {\n                                       handler(e);\n                                   }, 1);\n                               }\n                           });\n                       }\n                   } else {\n                       if (editable.update !== false) {\n                           that.wrapper.on(CLICK + NS, \"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-edit-command\", function(e) {\n                               var element = $(this);\n                               if (!that._belongsToGrid(element)) {\n                                   return;\n                               }\n                               e.preventDefault();\n                               that.editRow(element.closest(TR));\n                           });\n\n                           if (that._isVirtualInlineEditable()) {\n                               that.wrapper.on(\"focusout\" + NS, \"tr:not(.k-grouping-row) > td\", function() {\n                                   if (that.editable && !that.editable.end()) {\n                                       that._scrollVirtualWrapper();\n                                   }\n                               });\n                           }\n                       }\n                   }\n\n                   if (editable.destroy !== false) {\n                       that.wrapper.on(CLICK + NS, \"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-remove-command\", function(e) {\n                           var element = $(this);\n                           if (!that._belongsToGrid(element)) {\n                               return;\n                           }\n                           e.preventDefault();\n                           e.stopPropagation();\n                           that.removeRow(element.closest(TR));\n                       });\n                   } else {\n                       //Required for the MVC server wrapper delete button\n                       that.wrapper.on(CLICK + NS, \"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-remove-command\", function(e) {\n                           if (!that._belongsToGrid($(this))) {\n                               return;\n                           }\n                           e.stopPropagation();\n\n                           if (!that._confirmation()) {\n                               e.preventDefault();\n                           }\n                       });\n                   }\n               }\n           },\n\n           editCell: function(cell) {\n               cell = $(cell);\n\n               var that = this,\n               column = leafColumns(that.columns)[that._calculateColumnIndex(cell)],\n                   model = that._modelForContainer(cell);\n\n               that.closeCell();\n\n               if (model && isColumnEditable(column, model) && !column.command) {\n                   if (that.trigger(BEFOREEDIT, { model: model })) {\n                       return;\n                   }\n\n                   that._attachModelChange(model);\n\n                   that._editContainer = cell;\n\n                   if (that._shouldClearEditableState) {\n                       that._clearEditableState();\n                   }\n                   that.editable = cell.addClass(\"k-edit-cell\")\n                       .kendoEditable({\n                           fields: editField(column),\n                           model: model,\n                           size: that.options.size,\n                           target: that,\n                           change: function(e) {\n                               if (that.trigger(SAVE, { values: e.values, container: cell, model: model } )) {\n                                   e.preventDefault();\n                               }\n                           },\n                           skipFocus: (that._isVirtualIncellEditable() || that._hasVirtualColumns()) && that._editableState ? true : false\n\n                       }).data(\"kendoEditable\");\n\n                   var tr = cell.parent().addClass(\"k-grid-edit-row\");\n\n                   if (that.lockedContent) {\n                       adjustRowHeight(tr[0], that._relatedRow(tr).addClass(\"k-grid-edit-row\")[0]);\n                       that._syncLockedScroll();\n                   }\n\n                   that.trigger(EDIT, { container: cell, model: model });\n               }\n           },\n\n           _adjustLockedHorizontalScrollBar: function() {\n               var table = this.table,\n                   content = table.parent();\n\n               var scrollbar = table[0].offsetWidth > content[0].clientWidth ? kendo.support.scrollbar() : 0;\n               this.lockedContent.height(content[0].offsetHeight - scrollbar);\n           },\n\n           _syncLockedScroll: function() {\n               this.lockedContent[0].scrollTop = this.content[0].scrollTop;\n               if (this.virtualScrollable) {\n                   this.lockedContent[0].scrollTop = this.wrapper.find(\".k-virtual-scrollable-wrap\")[0].scrollTop;\n               }\n           },\n\n           _syncLockedContentHeight: function() {\n               if (this.lockedTable) {\n                   if (!this.touchScroller) {\n                       this._adjustLockedHorizontalScrollBar();\n                   }\n                   this._adjustRowsHeight(this.table, this.lockedTable);\n               }\n           },\n\n           _syncLockedHeaderHeight: function() {\n               if (this.lockedHeader) {\n                   var lockedTable = this.lockedHeader.children(\"table\");\n                   var table = this.thead.parent();\n\n                   this._adjustRowsHeight(lockedTable, table);\n\n                   syncTableHeight(lockedTable, table);\n               }\n           },\n\n           _syncLockedFooterHeight: function() {\n               if (this.lockedFooter && this.footer && this.footer.length) {\n                   this._adjustRowsHeight(this.lockedFooter.children(\"table\"), this.footer.find(\".k-grid-footer-wrap > table\"));\n               }\n           },\n\n           _destroyEditable: function() {\n               var that = this;\n\n               var destroy = function() {\n                   if (that.editable) {\n\n                       var container = that.editView ? that.editView.element : that._editContainer;\n                       var window = that._editContainer.data(\"kendoWindow\");\n\n                       if (container) {\n                           container.off(CLICK + NS, \".k-grid-cancel-command\", that._editCancelClickHandler);\n                           container.off(CLICK + NS, \".k-grid-save-command\", that._editUpdateClickHandler);\n                       }\n\n                       that._detachModelChange();\n                       that.editable.destroy();\n                       that.editable = null;\n                       if (window) {\n                           window.destroy();\n                       }\n                       that._editContainer = null;\n                       that._destroyEditView();\n                       that._editableIsClosing = null;\n                   }\n               };\n\n               if (that.editable) {\n                   if (that._editMode() === \"popup\" && !that._isMobile) {\n                       if (that._editableIsClosing) {\n                           that._editContainer.data(\"kendoWindow\").bind(\"deactivate\", destroy);\n                       }\n                       else {\n                           that._editableIsClosing = true;\n                           that._editContainer.data(\"kendoWindow\").bind(\"deactivate\", destroy).close();\n                       }\n                   } else {\n                       destroy();\n                   }\n               }\n               if (that._confirmDialog) {\n                   that._confirmDialog.close();\n                   that._confirmDialog.destroy();\n                   that._confirmDialog = null;\n               }\n           },\n\n           _destroyEditView: function() {\n               if (this.editView) {\n                   this.editView.purge();\n                   this.editView = null;\n                   this.pane.navigate(\"\");\n               }\n           },\n\n           _attachModelChange: function(model) {\n               var that = this;\n\n               that._modelChangeHandler = function(e) {\n                   that._modelChange({ field: e.field, model: this });\n               };\n\n               model.bind(\"change\", that._modelChangeHandler);\n           },\n\n           _detachModelChange: function() {\n               var that = this,\n                   container = that._editContainer,\n                   model = that._modelForContainer(container);\n\n               if (model) {\n                   model.unbind(CHANGE, that._modelChangeHandler);\n               }\n           },\n\n           closeCell: function(isCancel) {\n               var that = this,\n                   cell = that._editContainer,\n                   column,\n                   tr,\n                   model;\n\n               if (!cell) {\n                   return;\n               }\n\n               model = that._modelForContainer(cell);\n\n               if (isCancel && that.trigger(\"cancel\", { container: cell, model: model })) {\n                   return;\n               }\n\n               that.trigger(CELLCLOSE, { type: isCancel ? \"cancel\" : \"save\", model: model, container: cell });\n\n               cell.removeClass(\"k-edit-cell\");\n               column = leafColumns(that.columns)[that._calculateColumnIndex(cell)];\n\n               tr = cell.parent().removeClass(\"k-grid-edit-row\");\n\n               if (that.lockedContent) {\n                   that._relatedRow(tr).removeClass(\"k-grid-edit-row\");\n               }\n\n               that._destroyEditable(); // editable should be destroyed before content of the container is changed\n\n               that._displayCell(cell, column, model);\n\n               if (that._shouldClearEditableState) {\n                   that._clearEditableState();\n               }\n\n               that.trigger(\"itemChange\", { item: tr, data: model, ns: ui });\n\n               if (that.lockedContent) {\n                   adjustRowHeight(tr.css(HEIGHT, \"\")[0], that._relatedRow(tr).css(HEIGHT, \"\")[0]);\n               }\n           },\n\n           _displayCell: function(cell, column, dataItem) {\n               var that = this,\n                   state = { storage: {}, count: 0 },\n                   settings = extend({}, kendo.Template, that.options.templateSettings),\n                   tmpl = kendo.template(that._cellTmpl(column, state), settings);\n\n               if (state.count > 0) {\n                   tmpl = tmpl.bind(state.storage);\n               }\n\n               cell.empty().html(tmpl(dataItem));\n\n               that.angular(\"compile\", function() {\n                   return {\n                       elements: cell,\n                       data: [ { dataItem: dataItem } ]\n                   };\n               });\n           },\n\n           removeRow: function(row) {\n               if (!this._confirmation(row)) {\n                   return;\n               }\n\n               this._removeRow(row);\n           },\n\n           _removeRow: function(row) {\n               var that = this,\n                   model,\n                   modelId,\n                   key,\n                   schema,\n                   mode = that._editMode();\n\n               if (mode !== \"incell\") {\n                   that.cancelRow();\n               }\n\n               row = $(row);\n\n               if (that.lockedContent) {\n                   row = row.add(that._relatedRow(row));\n               }\n\n               row = row.hide();\n               if (that.dataSource._isGroupPaged()) {\n                   that._removeGroupIfEmpty(row);\n               }\n\n               model = that._modelForContainer(row);\n\n               if (model && !that.trigger(REMOVE, { row: row, model: model })) {\n                   schema = that.dataSource.options.schema;\n                   if (that._selectedIds && schema && schema.model) {\n                       modelId = isFunction(that.dataSource.options.schema.model) ? that.dataSource.options.schema.model.fn.idField : that.dataSource.options.schema.model.id;\n                       key = model[modelId];\n                       delete that._selectedIds[key];\n                   }\n\n                   that.dataSource.remove(model);\n\n                   if (mode === \"inline\" || mode === \"popup\") {\n                       that.dataSource.sync();\n                   }\n               } else if (mode === \"incell\") {\n                   that._destroyEditable();\n               }\n           },\n\n           _editMode: function() {\n               var mode = \"incell\",\n                   editable = this.options.editable;\n\n               if (editable !== true) {\n                   if (typeof editable == \"string\") {\n                       mode = editable;\n                   } else {\n                       mode = editable.mode || mode;\n                   }\n               }\n\n               return mode;\n           },\n\n           editRow: function(row) {\n               var model;\n               var that = this;\n\n               if (row instanceof ObservableObject) {\n                   model = row;\n               } else {\n                   row = $(row);\n                   model = that._modelForContainer(row);\n               }\n\n               var mode = that._editMode();\n               var container;\n\n               that.cancelRow();\n\n               if (model) {\n                   row = that.tbody.children(\"[\" + kendo.attr(\"uid\") + \"=\" + model.uid + \"]\");\n                   that._attachModelChange(model);\n\n                   if (mode === \"popup\") {\n                       that._createPopupEditor(model);\n                   } else if (mode === \"inline\") {\n                       that._createInlineEditor(row, model);\n                   } else if (mode === \"incell\") {\n                       $(row).children(DATA_CELL).each(function() {\n                           var cell = $(this);\n                           var column = leafColumns(that.columns)[that._calculateColumnIndex(cell)];\n\n                           model = that._modelForContainer(cell);\n\n                           if (model && (!model.editable || model.editable(column.field)) && column.field && !column.selectable) {\n                               that.editCell(cell);\n                               return false;\n                           }\n                       });\n                   }\n\n\n                   container = that.editView ? that.editView.element : that._editContainer;\n\n                   if (container) {\n                       if (!this._editCancelClickHandler) {\n                           this._editCancelClickHandler = this._editCancelClick.bind(this);\n                       }\n\n                       container.on(CLICK + NS, \".k-grid-cancel-command\", this._editCancelClickHandler);\n\n                       if (!this._editUpdateClickHandler) {\n                           this._editUpdateClickHandler = this._editUpdateClick.bind(this);\n                       }\n\n                       container.on(CLICK + NS, \".k-grid-save-command\", this._editUpdateClickHandler);\n                   }\n               }\n           },\n\n           _editUpdateClick: function(e) {\n               e.preventDefault();\n               e.stopPropagation();\n\n               this.saveRow();\n           },\n\n           _editCancelClick: function(e) {\n               var that = this;\n               var navigatable = that.options.navigatable;\n               var model = that.editable.options.model;\n               var container = that.editView ? that.editView.element : that._editContainer;\n\n               e.preventDefault();\n               e.stopPropagation();\n\n               if (that.trigger(\"cancel\", { container: container, model: model })) {\n                   return;\n               }\n\n               var currentIndex = that.items().index($(that.current()).parent());\n\n               that.cancelRow();\n\n               if (navigatable) {\n                   that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                   focusTable(that.table, true);\n               }\n           },\n\n           _editFields: function(columns, model) {\n               var fields = [];\n               var column;\n\n               for (var idx = 0; idx < columns.length; idx++) {\n                   column = columns[idx];\n                   if (column.selectable || column.command) {\n                       continue;\n                   }\n                   if (isColumnEditable(column, model)) {\n                       fields.push(editField(column));\n                   }\n               }\n               return fields;\n           },\n\n           _createPopupEditor: function(model) {\n               var that = this;\n               var html = '<div ' + kendo.attr(\"uid\") + '=\"' + model.uid + '\" class=\"k-popup-edit-form\"><' + (that._isMobile ? 'ul class=\"k-edit-form-container k-listgroup k-listgroup-flush\">' : 'div class=\"k-edit-form-container\">');\n               var column;\n               var command;\n               var idx;\n               var length;\n               var tmpl;\n               var updateText;\n               var cancelText;\n               var updateIconClass;\n               var cancelIconClass;\n               var tempCommand;\n               var columns = leafColumns(that.columns);\n               var attr;\n               var editMenuGuid = kendo.guid();\n               var editable = that.options.editable;\n               var template = editable.template;\n               var options = isPlainObject(editable) ? editable.window : {};\n               var settings = extend({}, kendo.Template, that.options.templateSettings);\n               var state;\n               var container;\n               var buttonsHTML;\n\n               if (that.trigger(BEFOREEDIT, { model: model })) {\n                   return;\n               }\n\n               options = options || {};\n\n               if (template) {\n                   if (typeof template === STRING) {\n                       template = kendo.unescape(template);\n                   }\n\n                   html += (kendo.template(template, settings))(model);\n\n                   for (idx = 0, length = columns.length; idx < length; idx++) {\n                       column = columns[idx];\n                       if (column.command) {\n                           tempCommand = getCommand(column.command, \"edit\");\n                           if (tempCommand) {\n                               command = tempCommand;\n                           }\n                       }\n                   }\n               } else {\n                   for (idx = 0, length = columns.length; idx < length; idx++) {\n                       column = columns[idx];\n                       if (column.selectable) {\n                           continue;\n                       }\n                       if (!column.command) {\n                           if (that._isMobile) {\n                               html += '<li class=\"k-item k-listgroup-item\">';\n\n                               if (isColumnEditable(column, model)) {\n                                   html += '<label class=\"k-label k-listgroup-form-row\">';\n                                   html += '<span class=\"k-item-title k-listgroup-form-field-label\">' + (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || column.field || \"\") + '</span>';\n                                   html += '<div class=\"k-listgroup-form-field-wrapper\" id=\"' + column.field + '_' + editMenuGuid + '\" ' + kendo.attr(\"container-for\") + '=\"' + column.field + '\"></div>';\n                                   html += '</label>';\n                               } else {\n                                   state = { storage: {}, count: 0 };\n\n                                   tmpl = kendo.template(that._cellTmpl(column, state), settings);\n\n                                   if (state.count > 0) {\n                                       tmpl = tmpl.bind(state.storage);\n                                   }\n\n                                   html += '<label class=\"k-label k-listgroup-form-row k-no-click\">';\n                                   html += '<span class=\"k-item-title k-listgroup-form-field-label\">' + (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || column.field || \"\") + '</span>';\n                                   html += '<span class=\"k-no-editor k-listgroup-form-field-wrapper\">' + tmpl(model) + '</span>';\n                                   html += '</label>';\n                               }\n\n                               html += \"</li>\";\n                           }\n                       } else if (column.command) {\n                           tempCommand = getCommand(column.command, \"edit\");\n                           if (tempCommand) {\n                               command = tempCommand;\n                           }\n                       }\n                   }\n               }\n\n               if (command) {\n                   if (isPlainObject(command)) {\n                       if (isPlainObject(command.text)) {\n                           updateText = command.text.update;\n                           cancelText = command.text.cancel;\n                       }\n                       if (isPlainObject(command.iconClass)) {\n                           updateIconClass = command.iconClass.update;\n                           cancelIconClass = command.iconClass.cancel;\n                       }\n\n                      if (command.attr) {\n                          attr = command.attr;\n                      }\n                   }\n               }\n\n               if (!that._isMobile) {\n                   buttonsHTML = '<div class=\"k-edit-buttons k-actions-start\">';\n                   buttonsHTML += that._createButton({ name: \"update\", text: updateText, attr: attr, iconClass: updateIconClass, size: \"medium\" }) + that._createButton({ name: \"canceledit\", text: cancelText, attr: attr, iconClass: cancelIconClass, size: \"medium\" });\n                   buttonsHTML += '</div>';\n\n                   html += template ? buttonsHTML + '</div>' : '</div>';\n\n                   container = that._editContainer = $(html)\n                   .appendTo(that.wrapper).eq(0)\n                   .kendoWindow(extend({\n                       modal: true,\n                       resizable: false,\n                       draggable: true,\n                       title: that.options.messages.commands.edit || \"Edit\",\n                       visible: false,\n                       close: function(e) {\n                           if (e.userTriggered) {\n                               //The bellow line is required due to: draggable window in IE, change event will be triggered while the window is closing\n                               e.sender.element.trigger(\"focus\");\n                               if (that.trigger(\"cancel\", { container: container, model: model })) {\n                                   e.preventDefault();\n                                   return;\n                               }\n\n                               var currentIndex = that.items().index($(that.current()).parent());\n\n                               that._editableIsClosing = true;\n                               that.cancelRow();\n                               if (that.options.navigatable) {\n                                   that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                                   focusTable(that.table, true);\n                               }\n                           }\n                       }\n                   }, options));\n               } else {\n                   html += \"</ul></div>\";\n                   that.editView = that.pane.append(\n                       '<div data-' + kendo.ns + 'role=\"view\" class=\"k-grid-edit-form\">' +\n                           '<div data-' + kendo.ns + 'role=\"header\" class=\"k-header\">' +\n                               '<a href=\"\\\\#\" class=\"k-header-cancel k-link k-grid-cancel-command\" title=\"#=messages.cancel#\" ' +\n                               'aria-label=\"#=messages.cancel#\">' + kendo.ui.icon(\"chevron-left\") + '</a>' +\n                               encode(that.options.messages.commands.edit || \"Edit\") +\n                               '<a href=\"\\\\#\" class=\"k-header-done k-link k-grid-save-command\" title=\"#=messages.done#\" ' +\n                               'aria-label=\"#=messages.done#\">' + kendo.ui.icon(\"check\") + '</a>' +\n                           '</div>' +\n                           '<div data-' + kendo.ns + 'role=\"content\" class=\"' + classNames.content + '\">' +\n                               html +\n                           '</div>' +\n                       '</div>');\n                   container = that._editContainer = that.editView.element.find(\".k-popup-edit-form\");\n               }\n\n               if (!template && !that._isMobile) {\n                   that.editable = new ui.Form(that._editContainer.find(\".k-edit-form-container\"), {\n                       items: that._editFields(columns, model),\n                       buttonsTemplate: function () { return ''; },\n                       formData: model\n                   }).editable;\n                   that._editContainer.append(buttonsHTML);\n               } else {\n                   that.editable = that._editContainer\n                   .kendoEditable({\n                       fields: that._isMobile ? that._editFields(columns, model) : null,\n                       model: model,\n                       clearContainer: false,\n                       target: that\n                   }).data(\"kendoEditable\");\n               }\n\n               that._openPopUpEditor();\n\n               that.trigger(EDIT, { container: container, model: model });\n           },\n\n           _openPopUpEditor: function() {\n               var that = this;\n               var windowEditor = that._editContainer ? that._editContainer.data(\"kendoWindow\") : null;\n               var windowOptions = (that.options.editable || {}).window || {};\n\n               if (!this._isMobile) {\n                   if (windowEditor) {\n                       if (!windowOptions.position) {\n                           windowEditor.center();\n                       }\n\n                       windowEditor.open();\n                   }\n               } else {\n                   this.pane.navigate(this.editView, this._editAnimation);\n               }\n           },\n\n           _createInlineEditor: function(row, model) {\n               var that = this;\n               var column;\n               var cell;\n               var command;\n               var fields = [];\n\n               if (that.trigger(BEFOREEDIT, { model: model })) {\n                   return;\n               }\n\n               if (that.lockedContent) {\n                   row = row.add(that._relatedRow(row));\n               }\n\n               row.children(\":not(.k-group-cell,.k-hierarchy-cell)\").each(function() {\n                   cell = $(this);\n                   column = leafColumns(that.columns)[that._calculateColumnIndex(cell)];\n\n                   if (!column.command && isColumnEditable(column, model)) {\n                       fields.push(editField(column));\n                       cell.attr(kendo.attr(\"container-for\"), column.field);\n                       cell.empty();\n                   } else if (column.command) {\n                       command = getCommand(column.command, \"edit\");\n                       if (command) {\n                           cell.empty();\n\n                           var updateText,\n                               cancelText,\n                               updateIconClass,\n                               cancelIconClass,\n                               attr;\n\n                           if (isPlainObject(command)) {\n                                   if (isPlainObject(command.text)) {\n                                       updateText = command.text.update;\n                                       cancelText = command.text.cancel;\n                                   }\n                                   if (isPlainObject(command.iconClass)) {\n                                       updateIconClass = command.iconClass.update;\n                                       cancelIconClass = command.iconClass.cancel;\n                                   }\n\n                               if (command.attr) {\n                                   attr = command.attr;\n                               }\n                           }\n\n                           $(that._createButton({ name: \"update\", text: updateText, attr: attr, iconClass: updateIconClass }) +\n                               that._createButton({ name: \"canceledit\", text: cancelText, attr: attr, iconClass: cancelIconClass })).appendTo(cell);\n                       }\n                   }\n               });\n\n               that._editContainer = row;\n               that._editContainer.addClass(\"k-grid-edit-row\");\n\n               if (that._shouldClearEditableState) {\n                   that._clearEditableState();\n               }\n\n               that.editable = new kendo.ui.Editable(that._editContainer, {\n                   target: that,\n                   fields: fields,\n                   size: that.options.size,\n                   model: model,\n                   skipFocus: (that._isVirtualInlineEditable() && that._editableState && (that._editableState.field ? true : false)) || that._hasVirtualColumns(),\n                   clearContainer: false\n               });\n\n               if (row.length > 1) {\n\n                   adjustRowHeight(row[0], row[1]);\n                   that._applyLockedContainersWidth();\n               }\n\n               that.trigger(EDIT, { container: row, model: model });\n           },\n\n           cancelRow: function(notify) {\n               var that = this,\n                   container = that._editContainer,\n                   model;\n\n               if (container) {\n                   model = that._modelForContainer(container);\n\n                   if (!model || (notify && that.trigger(\"cancel\", { container: container, model: model }))) {\n                       return;\n                   }\n\n                   that._destroyEditable();\n\n                   that.dataSource.cancelChanges(model);\n\n                   that._clearEditableState();\n\n                   if (that._editMode() !== \"popup\") {\n                       that._displayRow(container);\n                   } else {\n                       that._displayRow(that.tbody.find(\"[\" + kendo.attr(\"uid\") + \"=\" + model.uid + \"]\"));\n                   }\n               }\n           },\n\n           saveRow: function() {\n               var that = this;\n               var container = this._editContainer;\n               var model = this._modelForContainer(container);\n               var deferred = $.Deferred();\n               var valid;\n\n               if (!container || !this.editable) {\n                   return deferred.resolve().promise();\n               }\n\n               valid = that.editable && that.editable.end();\n\n               if (!valid || this.trigger(SAVE, { container: container, model: model })) {\n                   if (!valid) {\n                       that._scrollVirtualWrapper();\n                   }\n\n                   return deferred.reject().promise();\n               }\n\n               that._clearEditableState();\n\n               return this.dataSource.sync();\n           },\n\n           _displayRow: function(row) {\n               var that = this,\n                   model = that._modelForContainer(row),\n                   related,\n                   newRow,\n                   nextRow,\n                   isSelected = row.hasClass(SELECTED),\n                   isAlt = row.hasClass(\"k-alt\");\n\n               if (model) {\n\n                   if (that.lockedContent) {\n                       related = $((isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model));\n                       that._relatedRow(row.last()).replaceWith(related);\n                   }\n\n                   that.angular(\"cleanup\", function() { return { elements: row.get() }; });\n\n                   newRow = $((isAlt ? that.altRowTemplate : that.rowTemplate)(model));\n                   if (!row.is(\":visible\")) {\n                       newRow.hide();\n                   }\n                   row.replaceWith(newRow);\n\n                   that.trigger(\"itemChange\", { item: newRow, data: model, ns: ui });\n\n                   if (related && related.length) {\n                       that.trigger(\"itemChange\", { item: related, data: model, ns: ui });\n                   }\n\n                   var angularElements = newRow;\n                   var angularData = [{ dataItem: model }];\n\n                   if (related && related.length) {\n                       angularElements = newRow.add(related);\n                       angularData.push({ dataItem: model });\n                   }\n\n                   that.angular(\"compile\", function() {\n                       return {\n                           elements: angularElements.get(),\n                           data: angularData\n                       };\n                   });\n\n\n                   if (isSelected && (that.options.selectable || that._checkBoxSelection)) {\n                       that.select(newRow.add(related));\n                   }\n\n                   if (related) {\n                       adjustRowHeight(newRow[0], related[0]);\n                   }\n\n                   nextRow = newRow.next();\n                   if (nextRow.hasClass(\"k-detail-row\") && nextRow.is(\":visible\")) {\n                       kendo.ui.icon(newRow.find(\".k-hierarchy-cell .k-icon,.k-hierarchy-cell .k-svg-icon\"), { icon: \"caret-alt-down\" });\n                   }\n               }\n           },\n\n           _showMessage: function(messages, row) {\n               var that = this;\n\n               if (!that._isMobile) {\n                   // eslint-disable-next-line no-alert\n                   return window.confirm(messages.title);\n               }\n\n               var confirmDialog = that._confirmDialog = new kendo.ui.Confirm($(\"<div />\").appendTo(document.body), {\n                   modal: {\n                       preventScroll: true\n                   },\n                   closable: false,\n                   title: false,\n                   content: messages.title,\n                   messages: {\n                       okText: messages.confirmDelete,\n                       cancel: messages.cancelDelete\n                   },\n                   open: function() {\n                       if (that.content) {\n                           that.content.data(OVERFLOW, that.content.css(OVERFLOW));\n                           that.content.css(OVERFLOW, HIDDEN);\n                       }\n                   },\n                   close: function() {\n                       if (that.content) {\n                           that.content.css(OVERFLOW, that.content.data(OVERFLOW));\n                       }\n                   }\n               });\n\n               confirmDialog.result\n                   .done(function() {\n                       that._removeRow(row);\n                   })\n                   .fail(function() {\n                       var confirmDialog = that._confirmDialog;\n\n                       if (confirmDialog) {\n                           confirmDialog.close();\n                           confirmDialog.destroy();\n                       }\n                   });\n\n               return false;\n           },\n\n           _confirmation: function(row) {\n               var that = this,\n                   editable = that.options.editable,\n                   confirmation = (editable === true || typeof editable === STRING) ? that.options.messages.editable.confirmation : editable.confirmation;\n\n               if (isPlainObject(editable) && typeof editable.mode === STRING && typeof confirmation !== FUNCTION && typeof confirmation !== STRING && confirmation !== false) {\n                   confirmation = that.options.messages.editable.confirmation;\n               }\n\n               if (confirmation !== false && confirmation != null) {\n\n                   if (typeof confirmation === FUNCTION) {\n                       confirmation = confirmation(that._modelForContainer(row));\n                   }\n\n                   return that._showMessage({\n                           confirmDelete: editable.confirmDelete || that.options.messages.editable.confirmDelete,\n                           cancelDelete: editable.cancelDelete || that.options.messages.editable.cancelDelete,\n                           title: confirmation === true ? that.options.messages.editable.confirmation : confirmation\n                       }, row);\n               }\n\n               return true;\n           },\n\n           cancelChanges: function() {\n               var that = this;\n\n               if (that._cachedRowsHeight) {\n                   that._mapCachedRowsHeight(\"getByUid\", \"id\");\n                   that._shouldMapHights = true;\n               }\n\n               that.dataSource.cancelChanges();\n\n               if (that._isVirtualEditable()) {\n                   that._virtualPageToTop(function() {\n                       that.virtualScrollable.scrollToTop();\n                   });\n               }\n           },\n\n           saveChanges: function() {\n               var that = this;\n               var valid = that.editable && that.editable.end();\n\n               if ((valid || !that.editable) && !that.trigger(SAVECHANGES)) {\n                   that.dataSource.sync();\n               } else if (!valid) {\n                   that._scrollVirtualWrapper();\n               }\n           },\n\n           addRow: function() {\n               var that = this,\n                   index,\n                   dataSource = that.dataSource,\n                   mode = that._editMode(),\n                   createAt = that.options.editable.createAt || \"\",\n                   pageSize = dataSource.pageSize(),\n                   view = dataSource.view() || [];\n               var createAtBottom = createAt.toLowerCase() === BOTTOM;\n               var model;\n               var virtualEditable = that._isVirtualEditable();\n\n               if ((that.editable && that.editable.end()) || !that.editable) {\n                   if (mode != \"incell\") {\n                       that.cancelRow();\n                   }\n\n                   index = dataSource.indexOf(view[0]);\n\n                   if (createAtBottom) {\n                       index += view.length;\n\n                       if (pageSize && !dataSource.options.serverPaging && pageSize <= view.length) {\n                           index -= 1;\n                       }\n                   }\n\n                   if (index < 0) {\n                       if (dataSource.page() > dataSource.totalPages()) {\n                           index = (dataSource.page() - 1) * pageSize;\n                       } else {\n                           index = 0;\n                       }\n                   }\n\n                   if (that.options.navigatable && mode == \"incell\") {\n                       that._removeCurrent();\n                   }\n\n                   if (virtualEditable) {\n                       that._virtualAddRow();\n                   } else {\n                       model = dataSource.insert(index, {});\n                       that._editModel(model);\n                   }\n               } else {\n                   that._scrollVirtualWrapper();\n               }\n           },\n\n           _editModel: function(model) {\n               var that = this;\n               var createAt = that.options.editable.createAt || \"\";\n               var mode = that._editMode();\n\n               if (model) {\n                   var id = model.uid,\n                       table = that.lockedContent ? that.lockedTable : that.table,\n                       row = table.find(\"tr[\" + kendo.attr(\"uid\") + \"=\" + id + \"]\"),\n                       cell = row.children(\"td:not(.k-group-cell,.k-hierarchy-cell)\").eq(that._firstEditableColumnIndex(row));\n\n                   if (mode === \"inline\" && row.length) {\n                       that.editRow(row);\n                   } else if (mode === \"popup\") {\n                       that.editRow(model);\n                   } else if (cell.length) {\n                       that.editCell(cell);\n                   }\n\n                   if (createAt.toLowerCase() == \"bottom\" && that.lockedContent) {\n                       //scroll the containers to the bottom\n                       that.lockedContent[0].scrollTop = that.content[0].scrollTop = that.table[0].offsetHeight;\n                   }\n               }\n           },\n\n           _virtualAddRow: function() {\n               var that = this;\n               var createAtBottom = (that.options.editable.createAt || \"\").toLowerCase() === BOTTOM;\n\n               that._clearEditableState();\n\n               if (createAtBottom) {\n                   that._virtualAddRowAtBottom();\n               } else {\n                   that._virtualAddRowAtTop();\n               }\n           },\n\n           _virtualAddRowAtTop: function() {\n               var that = this;\n               var dataSource = that.dataSource;\n               var virtualScrollable = that.virtualScrollable;\n               var model;\n\n               if (dataSource.page() === 1) {\n                   model = dataSource.insert(0, {});\n                   that._editModel(model);\n                   virtualScrollable.scrollToTop();\n               } else {\n                   that._virtualPageToTop(function() {\n                       model = dataSource.insert(0, {});\n                       that._editModel(model);\n                       virtualScrollable.scrollToTop();\n                   });\n               }\n           },\n\n           _virtualAddRowAtBottom: function() {\n               var that = this;\n               var dataSource = that.dataSource;\n               var virtualScrollable = that.virtualScrollable;\n               var index = dataSource.total();\n               var model;\n\n               if (dataSource.at(index - 1) instanceof ObservableObject) {\n                   model = dataSource.insert(index, {});\n\n                   that._virtualPageToBottom(function() {\n                       that._editModel(model);\n                       virtualScrollable.scrollToBottom();\n                   });\n               } else {\n                   that._virtualPageToBottom(function() {\n                       model = dataSource.insert(index, {});\n                       that._editModel(model);\n                       virtualScrollable.scrollToBottom();\n                   });\n               }\n           },\n\n           _virtualPageToTop: function(callback) {\n               var that = this;\n\n               that._virtualPage(0, that.dataSource.take(), function() {\n                   callback();\n               });\n           },\n\n           _virtualPageToBottom: function(callback) {\n               var that = this;\n               var dataSource = that.dataSource;\n               var take = dataSource.take();\n               var total = dataSource.total();\n               var skip = total > take ? (total - take) : 0;\n\n               that._virtualPage(skip, take, function() {\n                   callback();\n               });\n           },\n\n           _virtualPage: function(skip, take, callback) {\n               var that = this;\n\n               if (that._isVirtualEditable()) {\n                   that.virtualScrollable._preventScroll = true;\n                   that.virtualScrollable._page(skip, take, callback);\n               }\n           },\n\n           _firstEditableColumnIndex: function(container) {\n               var that = this,\n                   column,\n                   columns = leafColumns(that.columns),\n                   idx,\n                   length,\n                   model = that._modelForContainer(container);\n\n               for (idx = 0, length = columns.length; idx < length; idx++) {\n                   column = columns[idx];\n\n                   if (model && (!model.editable || model.editable(column.field)) && !column.command && column.field && column.hidden !== true) {\n                       return idx;\n                   }\n               }\n               return -1;\n           },\n\n           _clickAdd: function(e) {\n               if (e.preventDefault) {\n                   e.preventDefault();\n               }\n\n               this.addRow();\n           },\n\n           _clickCancel: function(e) {\n               if (e.preventDefault) {\n                   e.preventDefault();\n               }\n\n               this.cancelChanges();\n           },\n\n           _clickExcel: function(e) {\n               if (e.preventDefault) {\n                   e.preventDefault();\n               }\n\n               this.saveAsExcel();\n           },\n\n           _clickPdf: function(e) {\n               var that = this;\n\n               if (e.preventDefault) {\n                   e.preventDefault();\n               }\n\n               var promise = that.saveAsPDF();\n\n               if (promise) {\n                   promise.done(function() {\n                       that._pdfInitialized = false;\n                   });\n               }\n           },\n\n           _clickSave: function(e) {\n               if (e.preventDefault) {\n                   e.preventDefault();\n               }\n\n               this.saveChanges();\n           },\n\n           _searchInput: function(e) {\n               var that = this,\n                   input = e.currentTarget;\n\n               clearTimeout(that._searchTimeOut);\n\n               that._searchTimeOut = setTimeout(function() {\n                   that._searchTimeOut = null;\n\n                   var options = that.options;\n                   var searchFields = options.search ? options.search.fields : null;\n                   var expression = { filters: [], logic: \"or\" };\n                   var value = input.value;\n\n                   if (!searchFields) {\n                       searchFields = getColumnsFields(options.columns);\n                   }\n\n                   if (that.dataSource.options.endless) {\n                       that.dataSource.options.endless = null;\n                       that._endlessPageSize = that.dataSource.options.pageSize;\n                   }\n\n                   if (value) {\n                       for (var i = 0; i < searchFields.length; i++) {\n                           that._pushExpression(expression.filters, searchFields[i], value);\n                       }\n                   } else {\n                       expression = {};\n                   }\n\n                   that.dataSource.filter(expression);\n               }, 300);\n           },\n\n           _pushExpression: function(filters, field, value) {\n               var that = this,\n                   isServerFiltering = that.dataSource.options.serverFiltering,\n                   defaultOperators = {\n                       string: \"contains\",\n                       number: \"gte\",\n                       date: \"gte\",\n                       enums: \"eq\",\n                       boolean: \"eq\"\n                   },\n                   name = field.name || field,\n                   operator = field.operator,\n                   modelInfo = that.dataSource.reader.model && that.dataSource.reader.model.fields,\n                   fieldInfo = modelInfo && modelInfo[name],\n                   parseFn = fieldInfo && fieldInfo.parse,\n                   expression = {\n                       field: name,\n                       operator: operator || defaultOperators.string,\n                       value: value\n                   };\n\n               if ((operator || isServerFiltering) && fieldInfo && kendo.isFunction(parseFn) && parseFn(value) !== null) {\n                   extend(expression, {\n                       operator: operator || defaultOperators[fieldInfo.type],\n                       value: parseFn(value)\n                   });\n               }\n\n               if (isServerFiltering && fieldInfo && kendo.isFunction(parseFn) && parseFn(value) === null) {\n                   return;\n               }\n\n               filters.push(expression);\n           },\n\n           _toolbar: function() {\n               var that = this,\n                   wrapper = that.wrapper,\n                   toolbar = that.options.toolbar,\n\n                   container, items;\n\n               if (toolbar) {\n                   that._createClickHandler = that._addClickHandler = that._clickAdd.bind(that);\n                   that._cancelClickHandler = that._clickCancel.bind(that);\n                   that._saveClickHandler = that._clickSave.bind(that);\n                   that._excelClickHandler = that._clickExcel.bind(that);\n                   that._pdfClickHandler = that._clickPdf.bind(that);\n                   that._serachHandler = that._searchInput.bind(that);\n\n                   container = that.wrapper.find(\".k-grid-toolbar\");\n\n                   if (!container.length) {\n                       container = $('<div class=\"k-grid-toolbar k-toolbar\" />')\n                           .prependTo(wrapper);\n\n                       if (typeof toolbar === STRING || isFunction(toolbar)) {\n                           if (typeof toolbar === STRING) {\n                               toolbar = kendo.template(toolbar).bind(that);\n                           }\n\n                           container.html(toolbar({ grid: that }));\n                           that._attachToolbarClicks();\n                       } else if (isArray(toolbar)) {\n                           items = that._processItems(toolbar);\n\n                           container.kendoToolBar({\n                               navigateOnTab: !that.options.navigatable,\n                               size: that.options.size,\n                               items: items\n                           });\n                       }\n\n                       that.angular(\"compile\", function() {\n                           return { elements: container.get() };\n                       });\n                   } else {\n                       that._attachToolbarClicks();\n                   }\n\n                   container.on(INPUT + NS, \".k-grid-search input\", this._serachHandler);\n               }\n           },\n\n           _attachToolbarClicks: function() {\n               var editable = this.options.editable,\n                   container = this.wrapper.find(\".k-grid-toolbar\");\n\n               if (editable && editable.create !== false) {\n                   container.on(CLICK + NS, \".k-grid-add\", this._createClickHandler)\n                       .on(CLICK + NS, \".k-grid-cancel-changes\", this._cancelClickHandler)\n                       .on(CLICK + NS, \".k-grid-save-changes\", this._saveClickHandler);\n               }\n\n               container.on(CLICK + NS, \".k-grid-excel\", this._excelClickHandler);\n               container.on(CLICK + NS, \".k-grid-pdf\", this._pdfClickHandler);\n           },\n\n           _processItems: function(tools) {\n               var that = this,\n                   items = [],\n                   messages = this.options.messages.commands;\n\n               tools.map(function (t) {\n                   var command, searchText, icon, className, inputSize, template = \"\";\n\n                   if (typeof t === 'string') {\n                       command = t.toLowerCase();\n                       t = {};\n                       t.text = messages[command] || command;\n                   } else {\n                       command = (t.name || t.text || \"\").toLowerCase();\n                       t.text = t.text || messages[command] || command;\n                   }\n\n                   if (command === \"search\") {\n                       items.push({\n                           type: \"spacer\"\n                       });\n\n                       searchText = t.text || messages.search;\n                       icon = t.icon || t.iconClass || \"search\";\n\n                       inputSize = kendo.getValidCssClass(\"k-input-\", \"size\", that.options.size);\n                       template += \"<span class='k-searchbox k-input \" + inputSize + \" k-rounded-md k-input-solid k-grid-search'>\";\n                       template += kendo.ui.icon({ icon: icon, iconClass: \"k-input-icon\" });\n                       template += \"<input autocomplete='off' placeholder='\" + searchText + \"' title='\" + searchText + \"' aria-label='\" + searchText + \"' class='k-input-inner' />\";\n                       template += \"</span>\";\n\n                       items.push({\n                           name: \"search\",\n                           overflow: \"never\",\n                           template: template\n                       });\n                   } else {\n                       if (!command && !(isPlainObject(t) && t.template)) {\n                           throw new Error(\"Custom commands should have name specified\");\n                       }\n\n                       t = extend({ type: \"button\" }, defaultCommands[command], t);\n                       className = t.className || \"k-grid-\" + (command || \"\").replace(/\\s/g, \"\");\n                       t.spriteCssClass = t.icon ? null : t.iconClass;\n\n                       t.attributes = that._processAttr(t.attr);\n                       delete t.attr;\n\n                       if (!!className) {\n                           if (t.attributes[\"class\"] === undefined$1) {\n                               t.attributes[\"class\"] = \"\";\n                           }\n\n                           t.attributes[\"class\"] += (\" \" + className);\n                       }\n\n                       if (t.template) {\n                           delete t.type;\n                       }\n\n                       if (!!that[\"_\" + command + \"ClickHandler\"]) {\n                           t.click = that[\"_\" + command + \"ClickHandler\"];\n                       }\n\n                       items.push(t);\n                   }\n               });\n\n               return items;\n           },\n\n           _processAttr: function(attr) {\n               var attributes = {},\n                   attrArray;\n\n               if (typeof attr === STRING && attr.length > 0) {\n                   attrArray = attr.split(\" \");\n                   attrArray.map(function (a) {\n                       var keyValue = a.split(\"=\");\n\n                       if (keyValue.length === 2) {\n                           attributes[keyValue[0]] = keyValue[1].replaceAll('\"', \"\").replaceAll(\"'\", \"\");\n                       }\n                   });\n               } else if (isPlainObject(attr)) {\n                   attributes = attr;\n               }\n\n               return attributes;\n           },\n\n           _createButton: function(command) {\n               var button,\n                   template = command.template || COMMANDBUTTONTMPL,\n                   commandName = typeof command === STRING ? command : command.name || command.text,\n                   className = defaultCommands[commandName] ? defaultCommands[commandName].className : \"k-grid-\" + (commandName || \"\").replace(/\\s/g, \"\"),\n                   options = { className: className, text: commandName, attr: \"\", iconClass: \"\", size: command.size || this.options.size },\n                   messages = this.options.messages.commands,\n                   attributeClassMatch;\n\n               if (!commandName && !(isPlainObject(command) && command.template)) {\n                   throw new Error(\"Custom commands should have name specified\");\n               }\n\n               if (isPlainObject(command)) {\n                   command = extend(true, {}, command);\n\n                   if (command.className && inArray(options.className, command.className.split(\" \")) < 0) {\n                       command.className += \" \" + options.className;\n                   } else if (command.className === undefined$1) {\n                       command.className = options.className;\n                   }\n\n                   if (command.className.indexOf(\"k-primary\") > -1) {\n                       command.className = command.className.replace(\"k-primary\", \"\");\n                       command.themeColor = \"primary\";\n                   }\n\n                   if (commandName === \"edit\") {\n                       command = extend(true, {}, command);\n                       command.text = isPlainObject(command.text) ? command.text.edit : command.text;\n                       command.iconClass = isPlainObject(command.iconClass) ? command.iconClass.edit : command.iconClass;\n                   }\n\n                   if (command.attr) {\n                       if (isPlainObject(command.attr)) {\n                           command.attr = stringifyAttributes(command.attr);\n                       }\n\n                       if (typeof command.attr === STRING) {\n                           attributeClassMatch = command.attr.match(/class=\"(.+?)\"/);\n\n                           if (attributeClassMatch && inArray(attributeClassMatch[1], command.className.split(\" \")) < 0) {\n                               command.className += \" \" + attributeClassMatch[1];\n                           }\n                       }\n                   }\n\n                   options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] }, command);\n               } else {\n                   options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] });\n               }\n\n               button = kendo.template(template)(options);\n\n               if (!command.template) {\n                   return kendo.html.renderButton($(button), options);\n               } else {\n                   return button;\n               }\n           },\n\n           _hasFooters: function() {\n               return !!this.footerTemplate ||\n                   !!this.groupFooterTemplate ||\n                   (this.footer && this.footer.length > 0) ||\n                   this.wrapper.find(\".k-grid-footer\").length > 0;\n           },\n\n           _groupable: function() {\n               var that = this;\n\n               if (that._groupableClickHandler) {\n                   that.table.add(that.lockedTable).off(CLICK + NS, that._groupableClickHandler);\n               } else {\n                   that._groupableClickHandler = function(e) {\n                       var element = $(this),\n                       groupRow = element.closest(TR);\n\n                       var group = that._groupRows ? that._groupRows[that.wrapper.find(DOT + GROUPING_ROW).index(groupRow)] : { };\n\n                       if (element.is(CARET_ALT_DOWN)) {\n                           if (!that.trigger(\"groupCollapse\", { group: group, element: groupRow })) {\n                               that.collapseGroup(groupRow);\n                           }\n                       } else {\n                           if (!that.trigger(\"groupExpand\", { group: group, element: groupRow })) {\n                               that.expandGroup(groupRow);\n                           }\n                       }\n                       e.preventDefault();\n                       e.stopPropagation();\n                   };\n               }\n\n               if (that._isLocked()) {\n                   that.lockedTable.on(CLICK + NS, \".k-grouping-row \" + CARET_ALT_RIGHT + \", .k-grouping-row \" + CARET_ALT_DOWN, that._groupableClickHandler);\n               } else {\n                   that.table.on(CLICK + NS, \".k-grouping-row \" + CARET_ALT_RIGHT + \", .k-grouping-row \" + CARET_ALT_DOWN, that._groupableClickHandler);\n               }\n\n               that._attachGroupable();\n           },\n\n           _attachGroupable: function() {\n               var that = this,\n                   wrapper = that.wrapper,\n                   groupable = that.options.groupable,\n                   draggables = HEADERCELLS + \"[\" + kendo.attr(\"field\") + \"]\",\n                   filter = that.content ? \".k-grid-header:first \" + draggables : \"table:first>.k-grid-header \" + draggables;\n\n               if (groupable && groupable.enabled !== false) {\n                   if (!wrapper.has(\"div.k-grouping-header\")[0]) {\n                       $(\"<div/>\").addClass(\"k-grouping-header\").prependTo(wrapper);\n                   }\n\n                   if (that.groupable) {\n                       that._destroyGroupable();\n                   }\n\n                   if (browser.chrome) {\n                       wrapper.find(\"div.k-grouping-header\").css(\"touch-action\", NONE);\n                       wrapper.find(filter).css(\"touch-action\", NONE);\n                   }\n\n                   that.groupable = new ui.Groupable(wrapper, extend({}, groupable, {\n                       draggable: that._draggableInstance,\n                       groupContainer: \">div.k-grouping-header\",\n                       dataSource: that.dataSource,\n                       draggableElements: filter,\n                       filter: filter,\n                       size: that.options.size,\n                       allowDrag: that.options.reorderable,\n                       removeGroup: function(e) {\n                           that._showUngroupedColumn(e);\n                       },\n                       change: function(e) {\n                           if (that.trigger(\"group\", { groups: e.groups })) {\n                               e.preventDefault();\n                           } else {\n                               that._clearEditableState();\n                               that._hideGroupedColumns(e.groups);\n                               if (that.dataSource.options.endless) {\n                                   that._resetEndless();\n                               }\n                           }\n                       }\n                   }));\n\n                   that._addGroupableOptionsToHeader();\n               }\n           },\n\n           _showUngroupedColumn: function(group) {\n               var columns = leafColumns(this.columns);\n               var i;\n\n               for (i = 0; i < columns.length; i++) {\n                   if (columns[i].uid == group.colID && columns[i].hideOnGroup) {\n                       this.showColumn(columns[i]);\n                   }\n               }\n           },\n\n           _hideGroupedColumns: function(groups) {\n               if (!groups) {\n                   return;\n               }\n               var columns = leafColumns(this.columns);\n               var fields = [];\n               var i;\n\n               for (i = 0; i < groups.length; i++) {\n                   if (groups[i].colID) {\n                       fields.push(groups[i].colID);\n                   }\n               }\n\n               for (i = 0; i < columns.length; i++) {\n                   if (fields.indexOf(columns[i].uid) >= 0 && columns[i].hideOnGroup) {\n                       this.hideColumn(columns[i]);\n                   }\n               }\n           },\n\n           _resetEndless: function() {\n               var that = this;\n               that.dataSource.options.endless = null;\n               that._endlessPageSize = that.dataSource.options.pageSize;\n               that.dataSource._skip = 0;\n               that.dataSource._pageSize = that.dataSource._take = that._endlessPageSize;\n               that.dataSource._page = 1;\n           },\n\n           _addGroupableOptionsToHeader: function() {\n               var that = this;\n               var columns = flatColumns(that.columns);\n               var columnFieldMap = {};\n               var field = \"\";\n               var headerCells = that._headerCells();\n               var cellFieldAttr = \"\";\n               var headerCell;\n               var columnOptions;\n               var i;\n\n               for (i = 0; i < columns.length; i++) {\n                   field = columns[i].field;\n                   columnFieldMap[columns[i].field] = columns[i];\n               }\n\n               for (i = 0; i < headerCells.length; i++) {\n                   headerCell = headerCells.eq(i);\n                   cellFieldAttr = headerCell.attr(kendo.attr(FIELD));\n                   columnOptions = columnFieldMap[cellFieldAttr];\n\n                   if (columnOptions && columnOptions.groupable && columnOptions.groupable.sort) {\n                       headerCell.data(GROUP_SORT, columnOptions.groupable.sort);\n                   }\n               }\n           },\n\n           _destroyGroupable: function() {\n               var that = this;\n\n               if (that.groupable && that.groupable.element) {\n                   that.groupable.element.kendoGroupable(\"destroy\");\n               }\n\n               that.groupable = null;\n\n               that._removeGroupableOptionsFromHeader();\n           },\n\n           _removeGroupableOptionsFromHeader: function() {\n               var that = this;\n               var headerCells = that._headerCells();\n\n               for (var i = 0; i < headerCells.length; i++) {\n                   headerCells.eq(i).removeData(GROUP_SORT);\n               }\n           },\n\n           _continuousItems: function(filter, cell) {\n               if (!this.lockedContent) {\n                   return;\n               }\n\n               var that = this;\n\n               var elements = that.table.add(that.lockedTable);\n\n               var lockedItems = $(filter, elements[0]);\n               var nonLockedItems = $(filter, elements[1]);\n               var columns = cell ? lockedColumns(leafColumns(that.columns)).length : 1;\n               var nonLockedColumns = cell ? leafColumns(that.columns).length - columns : 1;\n               var result = [];\n\n               for (var idx = 0; idx < lockedItems.length; idx += columns) {\n                   push.apply(result, lockedItems.slice(idx, idx + columns));\n                   push.apply(result, nonLockedItems.splice(0, nonLockedColumns));\n               }\n\n               return result;\n           },\n\n           _selectable: function() {\n               var that = this,\n                   multi,\n                   cell,\n                   notString = [],\n                   isLocked = that._isLocked(),\n                   selectable = that.options.selectable;\n\n               if (selectable) {\n\n                   if (that.selectable) {\n                       that.selectable.destroy();\n                   }\n\n                   that._selectedIds = {};\n\n                   selectable = kendo.ui.Selectable.parseOptions(selectable);\n\n                   multi = selectable.multiple;\n                   cell = selectable.cell;\n\n                   if (that._hasDetails()) {\n                       notString[notString.length] = \".k-detail-row\";\n                   }\n                   if (that.options.groupable || that._hasFooters() || that._groups()) {\n                       notString[notString.length] = \".k-grouping-row,.k-group-footer\";\n                   }\n\n                   notString = notString.join(\",\");\n\n                   if (notString !== \"\") {\n                       notString = \":not(\" + notString + \")\";\n                   }\n\n                   var elements = that.table;\n                   if (isLocked) {\n                       elements = elements.add(that.lockedTable);\n                   }\n\n                   var filter = \">\" + (cell ? SELECTION_CELL_SELECTOR : \"tbody>tr\" + notString);\n                   that.selectable = new kendo.ui.Selectable(elements, {\n                       filter: filter,\n                       aria: true,\n                       multiple: multi,\n                       dragToSelect: that.options.selectable && that.options.selectable.dragToSelect,\n                       change: function(e) {\n                           var selectedValues;\n                           if (!cell) {\n                               that._persistSelectedRows();\n                           }\n\n                           if (that._checkBoxSelection) {\n                               selectedValues = that.selectable.value();\n                               that._uncheckCheckBoxes();\n                               that._checkRows(selectedValues);\n                               if (selectedValues.length && selectedValues.length === that.items().length) {\n                                   that._toggleHeaderCheckState(true);\n                               } else {\n                                   that._toggleHeaderCheckState(false);\n                               }\n                           }\n\n                           if (e.event) {\n                               that.trigger(CHANGE);\n                           }\n                       },\n                       useAllItems: isLocked && multi && cell,\n                       relatedTarget: function(items) {\n                           if (cell || !isLocked) {\n                               return;\n                           }\n\n                           var related;\n                           var result = $();\n                           for (var idx = 0, length = items.length; idx < length; idx ++) {\n                               related = that._relatedRow(items[idx]);\n\n                               if (inArray(related[0], items) < 0) {\n                                   result = result.add(related);\n                               }\n                           }\n\n                           return result;\n                       },\n                       continuousItems: function() {\n                           return that._continuousItems(filter, cell);\n                       },\n                       ignoreOverlapped: that.options.selectable && that.options.selectable.ignoreOverlapped,\n                       addIdToRanges: true\n                   });\n\n                   if (that.options.navigatable) {\n                       elements.on(\"keydown\" + NS, function(e) {\n                           var current = that.current();\n                           var target = e.target;\n                           var eventObject = { event: e };\n                           var triggerChange;\n                           var lastSelection;\n                           if (!current) {\n                               return;\n                           }\n                           if (e.keyCode === keys.SPACEBAR && !e.shiftKey && $.inArray(target, elements) > -1 &&\n                               !current.is(\".k-edit-cell,.k-header\") &&\n                               current.parent().is(\":not(.k-grouping-row,.k-detail-row,.k-group-footer)\")) {\n                                   e.preventDefault();\n                                   e.stopPropagation();\n                                   current = cell ? current : current.parent();\n                                   triggerChange = !current.hasClass(SELECTED) || that.selectable.value().length > 1;\n\n                                   if (isLocked && !cell) {\n                                       current = current.add(that._relatedRow(current));\n                                   }\n\n                                   if (multi) {\n                                       if (!e.ctrlKey) {\n                                           that.selectable.clear();\n                                       } else {\n                                           if (current.hasClass(SELECTED)) {\n                                               that._deselectCheckRows(current);\n                                               that.trigger(CHANGE);\n                                               return;\n                                           }\n                                       }\n                                   } else {\n                                       that.selectable.clear();\n                                   }\n                                   if (!cell) {\n                                       that.selectable._lastActive = current;\n                                   }\n                                   that.selectable.value(current);\n                                   if (triggerChange) {\n                                       that.trigger(CHANGE);\n                                   }\n                           } else if (!cell &&\n                               ($(target).is(\"td\") || ($(target).is(\"table\") && inArray(target, this._navigatableTables))) &&\n                             ((e.shiftKey && e.keyCode == keys.LEFT) ||\n                              (e.shiftKey && e.keyCode == keys.RIGHT) ||\n                              (e.shiftKey && e.keyCode == keys.UP) ||\n                              (e.shiftKey && e.keyCode == keys.DOWN) ||\n                              (e.keyCode === keys.SPACEBAR && e.shiftKey))) {\n                               e.preventDefault();\n                               e.stopPropagation();\n                               current = current.parent();\n\n                               lastSelection = that.selectable.value();\n\n                               if (isLocked) {\n                                   current = current.add(that._relatedRow(current));\n                               }\n\n                               if (multi) {\n                                   if (!that.selectable._lastActive) {\n                                       that.selectable._lastActive = current;\n                                   }\n                                   that.selectable.selectRange(that.selectable._firstSelectee(), current);\n\n                                   if (!compareElements(lastSelection, that.selectable.value())) {\n                                       that.trigger(CHANGE, eventObject);\n                                   }\n                               } else if (!current.hasClass(SELECTED)) {\n                                   that.selectable.clear();\n                                   that.selectable.value(current);\n                                   that.trigger(CHANGE);\n                               }\n                           }\n                       });\n                   }\n               }\n           },\n\n           _clipboard: function() {\n               var options = this.options;\n               var selectable = options.selectable;\n               if (selectable && options.allowCopy) {\n                   var grid = this;\n                   if (!options.navigatable) {\n                       grid.table.attr(TABINDEX, 0);\n\n                       grid.table.add(grid.lockedTable)\n                           .on(MOUSEDOWN + NS + \" keydown\" + NS, \".k-detail-cell\", function(e) {\n                               if (e.target !== e.currentTarget) {\n                                   e.stopImmediatePropagation();\n                               }\n                           })\n                           .on(MOUSEDOWN + NS, NAVROW + \">\" + NAVCELL, tableClick.bind(grid));\n                   }\n                   grid.copyHandler = grid.copySelection.bind(grid);\n                   grid.updateClipBoardState = function() {\n                       if (grid.areaClipBoard) {\n                           grid.areaClipBoard.val(grid.getTSV()).trigger(\"focus\").select();\n                       }\n                   };\n                   grid.bind(\"change\",grid.updateClipBoardState);\n                   grid.wrapper.on(\"keydown\", grid.copyHandler);\n                   grid.clearAreaHandler = grid.clearArea.bind(grid);\n                   grid.wrapper.on(\"keyup\", grid.clearAreaHandler);\n               }\n           },\n\n           copySelectionToClipboard: function(includeHeaders) {\n               this._createAreaClipBoard();\n               this.areaClipBoard.val(this.getTSV(includeHeaders)).trigger(\"focus\").select();\n               document.execCommand('copy');\n           },\n\n           copySelection: function(e) {\n               if ((e instanceof jQuery.Event && !(e.ctrlKey || e.metaKey)) ||\n                   $(e.target).is(\"input:visible,textarea:visible\") ||\n                   (window.getSelection && window.getSelection().toString()) ||\n                   (document.selection && document.selection.createRange().text) ) {\n                   return;\n               }\n\n               this._createAreaClipBoard();\n               this.areaClipBoard.val(this.getTSV()).trigger(\"focus\").select();\n\n           },\n\n           _createAreaClipBoard: function() {\n               if (!this.areaClipBoard) {\n                   this.areaClipBoard =\n                       $(\"<textarea />\")\n                       .css({\n                           position: \"fixed\",\n                           top: \"50%\",\n                           left: \"50%\",\n                           opacity: 0,\n                           width: 0,\n                           height: 0\n                       })\n                       .appendTo(this.wrapper);\n               }\n           },\n\n           getTSV: function(includeHeaders) {\n               var grid = this;\n               var selected = grid.select();\n               var delimeter = \"\\t\";\n               var allowCopy = grid.options.allowCopy;\n               var onlyVisible = true;\n               var hasLockedCols = grid._isLocked() && lockedColumns(grid.columns).length;\n\n               if ($.isPlainObject(allowCopy) && allowCopy.delimeter) {\n                   delimeter = allowCopy.delimeter;\n               }\n               var text = \"\";\n               if (selected.length) {\n                   if (selected.eq(0).is(TR)) {\n                       selected = selected.find(\"td:not(.k-group-cell)\");\n                   }\n                   if (onlyVisible) {\n                       selected.filter(\":visible\");\n                   }\n\n                   var result = [];\n                   var cellsOffset = this.columns.length;\n                   var lockedCols = grid._isLocked() && lockedColumns(grid.columns).length;\n                   var inLockedArea = true;\n                   var fields = [];\n                   var field;\n                   var columns = visibleLeafColumns(this.columns);\n\n                   $.each(selected, function(idx, cell) {\n                       cell = $(cell);\n                       field = grid._getCellField(cell, hasLockedCols);\n\n                       var tr = cell.closest(TR);\n                       var rowIndex = tr.index();\n                       var cellIndex = cell.index();\n                       if (onlyVisible) {\n                           cellIndex -= cell.prevAll(\":hidden\").length;\n                       }\n                       if (lockedCols && inLockedArea) {\n                           inLockedArea = $.contains(grid.lockedTable[0], cell[0]);\n                       }\n                       if (grid._groups() && inLockedArea) {\n                           cellIndex -= grid._groups();\n                       }\n                       cellIndex = inLockedArea ? cellIndex : (cellIndex + lockedCols );\n                       if (field) {\n                           fields[cellIndex] = field;\n                       }\n                       if (cellsOffset > cellIndex) {\n                           cellsOffset = cellIndex;\n                       }\n                       var cellText = cell.text();\n                       if (!result[rowIndex]) {\n                           result[rowIndex] = [];\n                       }\n                       result[rowIndex][cellIndex] = cellText;\n                   });\n\n                   var rowsOffset = result.length;\n                   result = $.each(result, function(idx, val) {\n                       if (val) {\n                           result[idx] = val.slice(cellsOffset);\n                           if (rowsOffset > idx) {\n                               rowsOffset = idx;\n                           }\n                       }\n                   });\n\n                   if (includeHeaders && fields.length) {\n                       result.splice(rowsOffset, 0, fields.map(function(field) {\n                           return getTitle(field, columns);\n                       }));\n\n                       var headerIndex = result.findIndex(function(el) {\n                           return el !== undefined$1;\n                       });\n\n                       result[headerIndex] = result[headerIndex].slice(cellsOffset);\n                   }\n\n                   $.each(result.slice(rowsOffset), function(idx, val) {\n                       if (val) {\n                           text += val.join(delimeter) + \"\\r\\n\";\n                       } else {\n                           text += \"\\r\\n\";\n                       }\n                   });\n               }\n               return text;\n           },\n\n           clearArea: function(e) {\n               if (this.areaClipBoard && e && e.target === this.areaClipBoard[0]) {\n                   focusTable(this.table, true);\n               }\n\n               if (this.areaClipBoard) {\n                   this.areaClipBoard.remove();\n                   this.areaClipBoard = null;\n               }\n           },\n\n           _adaptiveColumns: function() {\n               var that = this;\n\n               if (that._anyColumnHasMediaQuery()) {\n                   that._setColumnsMediaVisibility(that.columns);\n                   that._attachColumnMediaResizeHandler();\n               }\n           },\n\n           _anyColumnHasMediaQuery: function() {\n               return this._columnsWithMediaQuery().length;\n           },\n\n           _columnsWithMediaQuery: function() {\n               return columnsWithMedia(this.columns);\n           },\n\n           _attachColumnMediaResizeHandler: function() {\n               var that = this;\n\n               that._detachColumnMediaResizeHandler();\n               that._columnMediaResizeHandler = that._onColumnMediaResize.bind(that);\n               $(window).on(RESIZE + NS, that._columnMediaResizeHandler);\n           },\n\n           _detachColumnMediaResizeHandler: function() {\n               var that = this;\n\n               if (that._columnMediaResizeHandler) {\n                   $(window).off(RESIZE + NS, that._columnMediaResizeHandler);\n               }\n           },\n\n           _onColumnMediaResize: function() {\n               var that = this;\n               that._setColumnsMediaVisibility(that.columns);\n               that._setContentMediaWidth();\n           },\n\n           _setColumnsMediaVisibility: function(columns) {\n               var cols = columns || [];\n\n               for (var i = 0; i < cols.length; i++) {\n                   this._setColumnMediaVisibility(cols[i]);\n               }\n           },\n\n           _setColumnMediaVisibility: function(column) {\n               var that = this;\n\n               if (isUndefined(column.media)) {\n                   that._setColumnsMediaVisibility(column.columns);\n               } else {\n                   if (columnMatchesMedia(column)) {\n                       that._showColumnByMedia(column);\n\n                       if (!column.hidden) {\n                           that._setColumnsMediaVisibility(column.columns);\n                       }\n                   } else {\n                       that._hideColumnByMedia(column);\n                   }\n               }\n           },\n\n           _showColumnByMedia: function(column) {\n               if (!column.hidden) {\n                   // \"hidden\" has a priority over \"matchesMedia\"\n                   this.showColumn(column);\n               }\n\n               setColumnMatchesMedia(column);\n           },\n\n           _hideColumnByMedia: function(column) {\n               var initiallyHidden = column.hidden;\n\n               if (!initiallyHidden) {\n                   column._hideByMedia = true;\n                   this.hideColumn(column);\n                   column._hideByMedia = false;\n\n                   // hiding is tracked in \"matchesMedia\" instead of \"hidden\" flag\n                   column.hidden = initiallyHidden;\n               }\n\n               setColumnMatchesMedia(column);\n           },\n\n           _setContentMediaWidth: function() {\n               var that = this;\n               var options = that.options;\n               var isLocked = that._isLocked();\n               var footer;\n\n               if (options.scrollable && (options.resizable === true || (options.resizable && options.resizable.columns === true))) {\n                   if (isLocked && that.lockedFooter) {\n                       footer = that.lockedFooter.children(\"table\");\n                   } else if (that.footer) {\n                       footer = that.footer.find(\">.k-grid-footer-wrap>table\");\n                   }\n\n                   if (!footer || !footer[0]) {\n                       footer = $();\n                   }\n\n                   var header = isLocked ? that.wrapper.find(\".k-grid-header-locked\").find(\"table\") : that.wrapper.find(\".k-grid-header\").find(\"table\");\n                   var contentTable = isLocked ? that.lockedTable : that.table;\n\n                   var headerColumns = header.find(\"th\");\n                   var headerColgroup = header.find(\"colgroup\");\n\n                   var headerColumnsCount = headerColumns.length;\n                   var visibleHeaderColumnsCount = headerColumns.filter(isCellVisible).length;\n                   var hiddenHeaderColumnsCount = headerColumns.length - visibleHeaderColumnsCount;\n\n                   var totalHeaderWidth = 0;\n\n                   if (header[0].style.width !== \"\" && parseFloat(header[0].style.width) !== totalHeaderWidth) {\n                       var currentHeaderWidth = header.css(WIDTH);\n\n                       for (var i = 0; i < headerColumnsCount; i++) {\n                           if (isElementVisible(headerColumns[i])) {\n                               var columnWidth;\n                               var cellIndex = Math.max(i, (i - hiddenHeaderColumnsCount));\n                               var colgroupChild = headerColgroup.children()[cellIndex];\n                               var columnStyleWidth = colgroupChild ? colgroupChild.style.width : \"\";\n\n                               if (columnStyleWidth !== \"\") {\n                                   columnWidth = parseFloat(columnStyleWidth);\n                               } else {\n                                   // remove the header width to calculate the height of a column without fixed width\n                                   header.css(WIDTH, AUTO);\n                                   columnWidth = outerWidth(headerColumns.eq(i));\n                                   header.css(WIDTH, currentHeaderWidth);\n                               }\n\n                               totalHeaderWidth += columnWidth;\n                           }\n                       }\n\n                       contentTable.css('width', totalHeaderWidth - 1); // subtract 1 to remove the horizontal scroll\n                       header.css('width', totalHeaderWidth);\n                       footer.css('width', totalHeaderWidth);\n                       that._updateStickyColumns();\n                   }\n               }\n           },\n\n           _minScreenSupport: function() {\n               var any = this.hideMinScreenCols();\n\n               if (any) {\n                   this.minScreenResizeHandler = this.hideMinScreenCols.bind(this);\n                   $(window).on(\"resize\", this.minScreenResizeHandler);\n               }\n           },\n\n           hideMinScreenCols: function() {\n               var cols = this.columns,\n                   screenWidth = (window.innerWidth > 0) ? window.innerWidth : screen.width;\n\n               return this._iterateMinScreenCols(cols, screenWidth);\n           },\n\n           _iterateMinScreenCols: function(cols, screenWidth) {\n               var any = false;\n\n               for (var i = 0; i < cols.length; i++) {\n                   var col = cols[i];\n                   var minWidth = col.minScreenWidth;\n                   if (minWidth !== undefined$1 && minWidth !== null) {\n                       any = true;\n                       if (minWidth > screenWidth) {\n                           this.hideColumn(col);\n                       } else {\n                           this.showColumn(col);\n                       }\n                   }\n                   if (!col.hidden && col.columns) {\n                       any = this._iterateMinScreenCols(col.columns, screenWidth) || any;\n                   }\n               }\n               return any;\n           },\n\n           _stickyColumns: function() {\n               var that = this;\n\n               if (that._anyStickyColumns()) {\n                   that._setStickyColumns(false);\n               }\n           },\n\n           _updateStickyColumns: function() {\n               var that = this;\n               var groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function(column) { return column.groupHeaderColumnTemplate; });\n\n               if (that._anyStickyColumns()) {\n                   that._setStickyColumns(true);\n                   that._templates();\n\n                   if (groupHeaderColumnTemplateColumns.length > 0) {\n                       that._renderGroupRows();\n                   }\n\n                   if (that._hasFilterRow()) {\n                       that._updateStickyFilterCells();\n                   }\n               }\n           },\n\n           _updateStickyFilterCells: function() {\n               var that = this;\n               var filterCells = that.thead.find(\".k-filter-row\").find(\"td:not(.k-group-cell,.k-hierarchy-cell)\");\n               if (filterCells.length) {\n                   filterCells.each(function() {\n                       var th = $(this);\n                       var column = th.data(\"column\");\n                       var style = th.attr(\"style\") || \"\";\n                       if (column.sticky) {\n                           th.attr(\"style\", style + column.stickyStyle);\n                           th.addClass(STICKY_HEADER_CLASS);\n                       } else {\n                           style = style.replace(leftRegExp, \"\");\n                           style = style.replace(rightRegExp, \"\");\n                           th.attr(\"style\", style);\n                           th.removeClass(STICKY_HEADER_CLASS);\n                       }\n                   });\n               }\n           },\n\n           _anyStickyColumns: function() {\n               var that = this;\n\n               return stickyColumns(that.columns).length;\n           },\n\n           _setStickyColumns: function(updateStyles) {\n               var that = this;\n               var columns = stickyColumns(that.columns);\n               var visibleColumns = visibleStickyColumns(that.columns);\n               var stickyWidths = that._calculateStickyWidths(visibleColumns);\n\n               that._removeStickyAttributes(columns);\n               that._setStickyClassAttributes(columns);\n               that._setStickyStyleAttributes(visibleColumns, stickyWidths, updateStyles);\n\n               if (updateStyles) {\n                   that._setStickyStyles(visibleColumns, stickyWidths);\n               }\n           },\n\n           _calculateStickyWidths: function(columns, initialLeftWidth, initialRightWidth) {\n               var that = this;\n               var i;\n               var column;\n               var columnWidth;\n               var nextColumnLeft;\n               var nextColumnRight;\n               var left = isRtl ? \"right\" : \"left\";\n               var right = isRtl ? \"left\" : \"right\";\n               var stickyWidths = {\n                   left: new Array(columns.length).fill(initialLeftWidth ? initialLeftWidth : 0),\n                   right: new Array(columns.length).fill(initialRightWidth ? initialRightWidth : 0)\n               };\n\n               for (i = 0; i < columns.length - 1; i++) {\n                   column = columns[i];\n                   columnWidth = that._sumColumnWidth(column);\n                   nextColumnLeft = columnWidth + stickyWidths[left][i];\n\n                   stickyWidths[left][i + 1] = nextColumnLeft;\n               }\n\n               for (i = columns.length - 1; i > 0; i--) {\n                   column = columns[i];\n                   columnWidth = that._sumColumnWidth(column);\n                   nextColumnRight = columnWidth + stickyWidths[right][i];\n\n                   stickyWidths[right][i - 1] = nextColumnRight;\n               }\n\n               return stickyWidths;\n           },\n\n           _setStickyClassAttributes: function(columns, masterIndex) {\n               var that = this;\n               var i;\n               var column;\n\n               for (i = 0; i < columns.length; i++) {\n                   column = columns[i];\n\n                   if (column.columns) {\n                       if (!masterIndex && i) {\n                           masterIndex = i;\n                       }\n\n                       that._setStickyClassAttributes(childColumns([column]), masterIndex);\n                   }\n\n                   if (masterIndex) {\n                       addColumnAttribute(column, \"headerAttributes\", \"class\", STICKY_HEADER_NO_BORDER_CLASS);\n                   }\n                   addColumnAttribute(column, \"attributes\", \"class\", STICKY_CELL_CLASS);\n                   addColumnAttribute(column, \"headerAttributes\", \"class\", STICKY_HEADER_CLASS);\n                   addColumnAttribute(column, \"footerAttributes\", \"class\", STICKY_FOOTER_CLASS);\n               }\n           },\n\n           _setStickyStyleAttributes: function(columns, stickyWidths, updateStyles) {\n               var that = this;\n               var i;\n               var column;\n               var stickyLeft;\n               var stickyRight;\n               var stickyStyle;\n               var childCols;\n               var childStickyWidths;\n\n               for (i = 0; i < columns.length; i++) {\n                   column = columns[i];\n                   stickyLeft = stickyWidths.left[i];\n                   stickyRight = stickyWidths.right[i];\n                   stickyStyle = \"left: \" + stickyLeft + \"px; right: \" + stickyRight + \"px;\";\n\n                   if (column.columns) {\n                       childCols = visibleChildColumns([column]);\n                       childStickyWidths = that._calculateStickyWidths(childCols, stickyLeft, stickyRight);\n\n                       that._setStickyStyleAttributes(childCols, childStickyWidths, updateStyles);\n\n                       if (updateStyles) {\n                           that._setStickyStyles(childCols, childStickyWidths);\n                       }\n                   }\n\n                   addColumnAttribute(column, \"attributes\", \"style\", stickyStyle);\n                   addColumnAttribute(column, \"headerAttributes\", \"style\", stickyStyle);\n                   addColumnAttribute(column, \"footerAttributes\", \"style\", stickyStyle);\n\n                   column.stickyStyle = stickyStyle;\n               }\n           },\n\n           _removeStickyAttributes: function(columns) {\n               var that = this;\n               var i;\n               var cellClassRegExp = new RegExp(\"(\\\\s*\" + STICKY_CELL_CLASS + \")*\", \"ig\");\n               var headerClassRegExp = new RegExp(\"(\\\\s*\" + STICKY_HEADER_CLASS + \")*\", \"ig\");\n               var footerClassRegExp = new RegExp(\"(\\\\s*\" + STICKY_FOOTER_CLASS + \")*\", \"ig\");\n               var headerClassNoBorderRegExp = new RegExp(\"(\\\\s*\" + STICKY_HEADER_NO_BORDER_CLASS + \")*\", \"ig\");\n               var column;\n\n               for (i = 0; i < columns.length; i++) {\n                   column = columns[i];\n\n                   if (column.columns) {\n                       that._removeStickyAttributes(childColumns([column]));\n                   }\n\n                   removeColumnAttribute(column, \"attributes\", \"class\", cellClassRegExp);\n                   removeColumnAttribute(column, \"attributes\", \"style\", leftRegExp);\n                   removeColumnAttribute(column, \"attributes\", \"style\", rightRegExp);\n\n                   removeColumnAttribute(column, \"headerAttributes\", \"class\", headerClassRegExp);\n                   removeColumnAttribute(column, \"headerAttributes\", \"class\", headerClassNoBorderRegExp);\n                   removeColumnAttribute(column, \"headerAttributes\", \"style\", leftRegExp);\n                   removeColumnAttribute(column, \"headerAttributes\", \"style\", rightRegExp);\n\n                   removeColumnAttribute(column, \"footerAttributes\", \"class\", footerClassRegExp);\n                   removeColumnAttribute(column, \"footerAttributes\", \"style\", leftRegExp);\n                   removeColumnAttribute(column, \"footerAttributes\", \"style\", rightRegExp);\n               }\n           },\n\n           _setStickyStyles: function(columns, stickyWidths) {\n               var that = this;\n               var i;\n               var j;\n               var leafsCols = leafColumns(nonLockedColumns(that.columns));\n               var rows = that.tbody.children(\":not(.k-detail-row)\");\n               var row;\n               var column;\n               var columnIndex;\n               var left;\n               var right;\n               var header;\n               var footer;\n               var groupHeader;\n               var cell;\n\n               for (i = 0; i < columns.length; i++) {\n                   column = columns[i];\n                   left = stickyWidths.left[i];\n                   right = stickyWidths.right[i];\n                   columnIndex = leafsCols.indexOf(column);\n                   header = that._getColumnHeader(column);\n\n                   header.addClass(STICKY_HEADER_CLASS);\n                   if (column.headerAttributes[\"class\"] && column.headerAttributes[\"class\"].indexOf(STICKY_HEADER_NO_BORDER_CLASS) !== -1) {\n                       header.addClass(STICKY_HEADER_NO_BORDER_CLASS);\n                   }\n                   setLeftAndRightStyles(header, left, right);\n\n                   if (column.columns) {\n                       continue;\n                   }\n\n                   if (that.footer) {\n                       footer = that.footer.find(\".k-grid-footer-wrap tr.k-footer-template\").children().filter(\":not(.k-group-cell,.k-hierarchy-cell)\").eq(columnIndex);\n\n                       footer.addClass(STICKY_FOOTER_CLASS);\n                       setLeftAndRightStyles(footer, left, right);\n                   }\n\n                   for (j = 0; j < rows.length; j++) {\n                       row = $(rows[j]);\n\n                       if (row.hasClass(GROUPING_ROW)) {\n                           groupHeader = row.find(\".\" + column.groupHeaderColumnTemplateClass);\n\n                           groupHeader.addClass(STICKY_CELL_CLASS);\n                           setLeftAndRightStyles(groupHeader, left, right);\n                       } else {\n                           cell = row.children().filter(\":not(.k-group-cell,.k-hierarchy-cell)\").eq(columnIndex);\n\n                           cell.addClass(STICKY_CELL_CLASS);\n                           setLeftAndRightStyles(cell, left, right);\n                       }\n                   }\n               }\n           },\n\n           _removeStickyStyles: function(columns) {\n               var that = this;\n               var i;\n               var j;\n               var leafsCols = leafColumns(nonLockedColumns(that.columns));\n               var rows = that.tbody.children(\":not(.k-detail-row)\");\n               var row;\n               var column;\n               var columnIndex;\n               var header;\n               var footer;\n               var groupHeader;\n               var cell;\n\n               for (i = 0; i < columns.length; i++) {\n                   column = columns[i];\n                   columnIndex = leafsCols.indexOf(column);\n                   header = that._getColumnHeader(column);\n\n                   header.removeClass(STICKY_HEADER_CLASS);\n                   header.removeClass(STICKY_HEADER_NO_BORDER_CLASS);\n                   setLeftAndRightStyles(header, \"\", \"\");\n\n                   if (column.columns) {\n                       that._removeStickyStyles(column.columns);\n                       continue;\n                   }\n\n                   if (column.footerTemplate && that.footer) {\n                       footer = that.footer.find(\".k-grid-footer-wrap tr.k-footer-template\").children().filter(\":not(.k-group-cell,.k-hierarchy-cell)\").eq(columnIndex);\n\n                       footer.removeClass(STICKY_FOOTER_CLASS);\n                       setLeftAndRightStyles(footer, \"\", \"\");\n                   }\n\n                   for (j = 0; j < rows.length; j++) {\n                       row = $(rows[j]);\n\n                       if (row.hasClass(GROUPING_ROW)) {\n                           groupHeader = row.find(\".\" + column.groupHeaderColumnTemplateClass);\n\n                           groupHeader.removeClass(STICKY_CELL_CLASS);\n                           setLeftAndRightStyles(groupHeader, \"\", \"\");\n                       } else {\n                           cell = row.children().filter(\":not(.k-group-cell,.k-hierarchy-cell)\").eq(columnIndex);\n\n                           cell.removeClass(STICKY_CELL_CLASS);\n                           setLeftAndRightStyles(cell, \"\", \"\");\n                       }\n                   }\n               }\n           },\n\n           _getColumnHeader: function(column) {\n               var that = this;\n               var header = $(\"#\" + column.headerAttributes.id).length ? $(\"#\" + column.headerAttributes.id) : $(\"#\" + that._cellId);\n\n               return header;\n           },\n\n           _sumColumnWidth: function(column) {\n               var that = this;\n               var width = 0;\n\n               if (column.columns) {\n                   width = that._sumCurrentWidths(leafColumns([column]));\n               } else {\n                   width = that._sumCurrentWidths([column]);\n               }\n\n               return width;\n           },\n\n           _sumCurrentWidths: function(cols) {\n               var that = this;\n               var width = 0;\n               var colWidth = 0;\n               var col;\n               var header;\n               var i;\n               var length = cols.length;\n\n               for (i = 0; i < length; i++) {\n                   col = cols[i];\n                   header = that._getColumnHeader(col);\n\n                   if (!col.hidden && columnMatchesMedia(col)) {\n                       colWidth = header.is(\":visible\") ? header.outerWidth() : col.width;\n\n                       width += colWidth ? parseInt(colWidth, 10) : 0;\n                   }\n               }\n\n               return width;\n           },\n\n           _belongsToGrid: function(element) {\n               return this.wrapper[0] === element.closest(WRAPPER)[0];\n           },\n\n           getSelectedData: function() {\n               var that = this;\n               var selectedRanges = that.selectable.selectedRanges();\n               var selectedRangeNames = Object.keys(selectedRanges);\n               var selectedSingleItems = that.selectable.selectedSingleItems();\n               var result = [];\n               var visibleColumns = visibleLeafColumns(that.columns);\n\n               for (var idx = 0; idx < selectedRangeNames.length; idx++) {\n                   result = result.concat(that._mapSelectionToData(selectedRanges[selectedRangeNames[idx]], visibleColumns));\n               }\n\n               if (selectedSingleItems.length) {\n                   result = result.concat(that._mapSelectionToData(selectedSingleItems, visibleColumns));\n               }\n\n               return result;\n           },\n\n           exportSelectedToExcel: function(includeHeaders) {\n               if (!kendo.excel || !kendo.ooxml) {\n                   throw new Error(\"The excel export functionality depends on both kendo.excel.js and kendo.ooxml.js scripts, please make sure they are included.\");\n               }\n\n               var that = this;\n               var excel = this.options.excel || {};\n               var visibleColumns = visibleLeafColumns(that.columns);\n               var exporter = new kendo.excel.ExcelExporter({});\n               var columnHandler = function() {return { autoWidth: true };};\n               var book = {\n                   sheets: [{\n                       columns: Array.apply(0, Array(visibleColumns.length)).map(columnHandler),\n                       rows: [],\n                       freezePane: {},\n                       filter: false\n                   }]\n               };\n               var selectedRanges = that.selectable.selectedRanges();\n               var selectedRangeNames = Object.keys(selectedRanges);\n               var selectedSingleItems = that.selectable.selectedSingleItems();\n               var idx;\n               var exportData = [];\n               var hasLockedCols = that._isLocked() && lockedColumns(that.columns).length;\n               var sortHandler = exportDataSort.bind(that);\n\n               for (idx = 0; idx < selectedRangeNames.length; idx++) {\n                   exportData = exportData.concat(that._mapSelectionToData(selectedRanges[selectedRangeNames[idx]], visibleColumns, isExcelExportableColumn));\n               }\n\n               if (exportData.length) {\n                   that._addRangeSelectionRows(book, exporter, exportData, includeHeaders);\n\n               }\n               exportData = selectedSingleItems.length ? that._mapSelectionToData(selectedSingleItems, visibleColumns, isExcelExportableColumn) : [];\n\n               if (exportData.length) {\n                   if (hasLockedCols) {\n                       exportData = exportData.sort(sortHandler);\n                   }\n                   that._addSingleSelectionRows(book, exporter, exportData, includeHeaders);\n               }\n\n               if (book.sheets[0].rows.length) {\n                   var workbook = new kendo.ooxml.Workbook(book);\n\n                   if (!workbook.options) {\n                       workbook.options = {};\n                   }\n                   workbook.options.skipCustomHeight = true;\n\n                   workbook.toDataURLAsync().then(function(dataURI) {\n                       kendo.saveAs({\n                           dataURI: dataURI,\n                           fileName: book.fileName || excel.fileName,\n                           proxyURL: excel.proxyURL,\n                           forceProxy: excel.forceProxy\n                       });\n                   });\n               }\n           },\n\n           _addSingleSelectionRows: function(book, exporter, data, includeHeaders) {\n               var idx = 0;\n               var visibleColumns = visibleLeafExportColumns(this.columns);\n               var item;\n\n               for (idx = 0; idx < data.length; idx++) {\n                   item = data[idx];\n                   exporter.data = [item];\n                   this._setExporterColumns(exporter, visibleColumns, item);\n                   this._createExportRows(book, exporter, includeHeaders);\n               }\n           },\n\n           _addRangeSelectionRows: function(book, exporter, data, includeHeaders) {\n               var visibleColumns = visibleLeafExportColumns(this.columns);\n\n               exporter.data = data;\n               this._setExporterColumns(exporter, visibleColumns, data[0]);\n               this._createExportRows(book, exporter, includeHeaders);\n           },\n\n           _createExportRows: function(book, exporter, includeHeaders) {\n               book.sheets[0].rows = book.sheets[0].rows.concat(includeHeaders ? exporter._rows() : exporter._dataRows(exporter.data, 0));\n           },\n\n           _setExporterColumns: function(exporter, columns, item) {\n               exporter.columns = exporter.options.columns = $.map(columns.filter(function(col) {\n                   return Object.keys(item).indexOf(col.field) >= 0;\n               }), exporter._prepareColumn);\n           },\n\n           _mapSelectionToData: function(elements, visibleColumns, columnsFilter) {\n               var that = this;\n               var elementType = elements[0][0].nodeName;\n               var isRowSelection = elementType === 'TR';\n               var dataItem;\n               var result = {};\n               var element;\n               var curr;\n               var field;\n               var columnMapHandler = function(col) {\n                   var result = {};\n\n                   if (!col.field || (columnsFilter && !columnsFilter(col))) {\n                       return;\n                   }\n\n                   result[col.field] = dataItem[col.field];\n                   return result;\n               };\n               var hasLockedCols = that._isLocked() && lockedColumns(that.columns).length;\n               var column;\n\n               for (var i = 0; i < elements.length; i++) {\n                   element = elements[i];\n                   dataItem = that.dataItem(isRowSelection ? element : element.parent());\n\n                   if (isRowSelection) {\n                       result[dataItem.uid] = $.extend.apply(null, visibleColumns.map(columnMapHandler));\n                   } else {\n                       field = that._getCellField(element, hasLockedCols);\n\n                       if (!field) {\n                           continue;\n                       }\n\n                       curr = result[dataItem.uid];\n\n                       if (!curr) {\n                           curr = result[dataItem.uid] = {};\n                       }\n\n                       column = findColumnByField(visibleColumns, field);\n\n                       if (!column || (columnsFilter && !columnsFilter(column))) {\n                           continue;\n                       }\n\n                       curr[field] = dataItem[field];\n                   }\n               }\n\n               return Object.keys(result).map(function(id) {\n                   result[id].uid = id;\n                   return result[id];\n               });\n           },\n\n           _getCellField: function(cell, hasLockedCols) {\n               var grid = this;\n               var inLockedArea = hasLockedCols && $.contains(grid.lockedTable[0], cell[0]);\n               var fieldAttr = kendo.attr('field');\n               var index = kendo.attr('index');\n\n               if (hasLockedCols) {\n                   return grid.element.find(\".k-grid-header-\" + (inLockedArea ? \"locked\" : \"wrap\") + \" th[\" + index + \"='\" + cell.index() + \"']\").attr(fieldAttr);\n               } else {\n                   return grid.thead.find(\"th[\" + index + \"='\" + cell.index() + \"']\").attr(fieldAttr);\n               }\n           },\n\n           _relatedRow: function(row) {\n               var lockedTable = this.lockedTable;\n               row = $(row);\n\n               if (!lockedTable) {\n                   return row;\n               }\n\n               var table = row.closest(this.table.add(this.lockedTable));\n               var index = table.find(\">tbody>tr\").index(row);\n\n               table = table[0] === this.table[0] ? lockedTable : this.table;\n\n               return table.find(\">tbody>tr\").eq(index);\n           },\n\n           _relatedCell: function(cell) {\n               var lockedTable = this.lockedTable;\n\n               cell = $(cell);\n\n               if (!lockedTable) {\n                   return cell;\n               }\n\n               var table = cell.closest(this.table.add(this.lockedTable));\n               var index = table.find(\">tbody>tr>td\").index(cell);\n\n               table = table[0] === this.table[0] ? lockedTable : this.table;\n\n               return table.find(\">tbody>tr>td\").index(index);\n           },\n\n           clearSelection: function() {\n               var that = this;\n\n               if (that.selectable && !that._checkBoxSelection) {\n                   that.selectable.clear();\n               }\n\n               if (that._checkBoxSelection) {\n                   that._deselectCheckRows(that.select());\n                   return;\n               }\n\n               if (that.options.persistSelection) {\n                   that._persistSelectedRows();\n               } else {\n                   that._selectedIds = {};\n               }\n           },\n\n           select: function(items) {\n               var that = this,\n                   selectable = that.selectable,\n                   selectableoptions = kendo.ui.Selectable.parseOptions(this.options.selectable),\n                   cell = selectableoptions.cell;\n\n               items = that.table.add(that.lockedTable).find(items);\n               if (items.length) {\n                   if (selectable && !selectable.options.multiple) {\n                       selectable.clear();\n                       items = items.first();\n                   }\n\n                   if (that._isLocked()) {\n                       items = items.add(items.map(function() {\n                           if (cell) {\n                               return that._relatedCell(this);\n                           }\n                           else {\n                               return that._relatedRow(this);\n                           }\n                       }));\n                   }\n\n                   if (selectable && !that._checkBoxSelection) {\n                       selectable.value(items);\n                   } else {\n                       that._checkRows(items);\n                       if (that.select().length === that.items().length) {\n                           that._toggleHeaderCheckState(true);\n                       }\n                   }\n\n                   if (!cell) {\n                       that._persistSelectedRows();\n                   }\n\n                   return;\n               }\n\n               return selectable ? selectable.value() : that.items().filter(\".\" + SELECTED);\n           },\n\n           _toggleHeaderCheckState: function(checked) {\n               var that = this;\n               if (checked) {\n                   that.thead.add(that.lockedHeader).find(\"tr \" + CHECKBOXINPUT)\n                       .prop(\"checked\", true).attr(ARIA_CHECKED, true)\n                       .attr(ARIA_LABEL, \"Deselect all rows\");\n               } else {\n                   that.thead.add(that.lockedHeader).find(\"tr \" + CHECKBOXINPUT)\n                       .prop(\"checked\", false).attr(ARIA_CHECKED, false)\n                       .attr(ARIA_LABEL, \"Select all rows\");\n               }\n           },\n\n           _uncheckCheckBoxes: function() {\n               var that = this;\n               var tables = that.table.add(that.lockedTable);\n\n               tables.find(\"tbody \" + CHECKBOXINPUT).attr(ARIA_CHECKED, false)\n                   .prop(\"checked\", false).attr(ARIA_LABEL, \"Select row\");\n\n           },\n\n           _deselectCheckRows: function(items) {\n               var that = this,\n               rangeSelectedAttr = kendo.attr(\"range-selected\");\n               items = that.table.add(that.lockedTable).find(items);\n\n               if (that._isLocked()) {\n                   items = items.add(items.map(function() {\n                       return that._relatedRow(this);\n                   }));\n               }\n\n               items.each(function() {\n                   $(this).removeClass(SELECTED).removeAttr(rangeSelectedAttr).find(CHECKBOXINPUT).attr(ARIA_CHECKED, false)\n                       .prop(\"checked\", false).attr(ARIA_LABEL, \"Select row\");\n               });\n               that._toggleHeaderCheckState(false);\n\n               that._persistSelectedRows();\n\n           },\n\n           _checkRows: function(items) {\n               items.each(function() {\n                   $(this).addClass(SELECTED).find(CHECKBOXINPUT)\n                       .prop(\"checked\", true)\n                       .attr(ARIA_LABEL, \"Deselect row\")\n                       .attr(ARIA_CHECKED, true);\n               });\n           },\n\n           _persistSelectedRows: function() {\n               var that = this,\n                   key,\n                   dataItem,\n                   allRows = that.items(),\n                   dataSourceOptions = that.dataSource.options,\n                   schema = dataSourceOptions.schema,\n                   modelId,\n                   selectedViewIds = {};\n\n               if (!schema || !schema.model || !that._data) {\n                   return;\n               }\n\n               modelId = isFunction(schema.model) ? schema.model.fn.idField : schema.model.id;\n\n               if (!modelId) {\n                   return;\n               }\n\n               if (!kendo.ui.Selectable.parseOptions(that.options.selectable).multiple && !that._checkBoxSelection) {\n                   that._selectedIds = {};\n               }\n\n               that.select().each(function() {\n                   dataItem = that.dataItem(this);\n                   selectedViewIds[dataItem[modelId]] = true;\n               });\n\n               for (var i = 0; i < allRows.length; i ++) {\n                   dataItem = that.dataItem(allRows[i]);\n                   key = dataItem[modelId];\n                   if (selectedViewIds[key]) {\n                       that._selectedIds[key] = true;\n                   } else {\n                       delete that._selectedIds[key];\n                   }\n               }\n           },\n\n           selectedKeyNames: function() {\n               var that = this,\n                   ids = [];\n               for (var property in that._selectedIds) {\n                   ids.push(property);\n               }\n               ids.sort();\n               return ids;\n           },\n\n           _updateCurrentAttr: function(current, next) {\n               var headerId = $(current).data(\"headerId\");\n               var nextId;\n               var descId;\n\n               $(current).removeClass(FOCUSED);\n               this.table.removeAttr(ARIA_ACTIVEDESCENDANT);\n\n               if (headerId) {\n                   headerId = headerId.replace(this._cellId, \"\");\n                   $(current).attr(ID, headerId);\n               } else {\n                   $(current).removeAttr(ID);\n               }\n\n               nextId = next.attr(ID);\n\n               if (nextId != this._cellId) {\n                   next.data(\"headerId\", nextId);\n               }\n\n               if (!!nextId) {\n                   descId = nextId;\n               } else {\n                   next.attr(ID, this._cellId);\n               }\n\n               next.addClass(FOCUSED);\n               this.table.attr(ARIA_ACTIVEDESCENDANT, descId || this._cellId);\n\n               this._current = next;\n           },\n\n           _scrollCurrent: function() {\n               var current = this._current;\n               var scrollable = this.options.scrollable;\n\n               if (!current || !scrollable) {\n                   return;\n               }\n\n               var row = current.parent();\n               var tableContainer = row.closest(\"table\").parent();\n\n               var isInLockedContainer = tableContainer.is(\".k-grid-content-locked,.k-grid-header-locked\");\n               var isInContent = tableContainer.is(\".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap\");\n\n               var scrollableContainer = $(this.content).find(\">.k-virtual-scrollable-wrap\").addBack().last()[0];\n\n               //adjust scroll vertically\n               if (isInContent) {\n                   if (this.virtualScroll) {\n                       var rowIndex = Math.max(inArray(row[0], this._items(row.parent())), 0);\n                       if (this.virtualScroll.rows) {\n                           this._rowVirtualIndex = this.virtualScrollable.itemIndex(rowIndex);\n                           this.virtualScrollable.scrollIntoView(row);\n                       } else {\n                           this._rowVirtualIndex = rowIndex;\n                           this._scrollTo(this._relatedRow(row)[0], scrollableContainer);\n                       }\n                   } else {\n                       this._scrollTo(this._relatedRow(row)[0], scrollableContainer);\n                   }\n               }\n\n               if (this.lockedContent) {\n                   //sync locked and non-locked content scrollTop\n                   this.lockedContent[0].scrollTop = scrollableContainer.scrollTop;\n               }\n\n               //adjust scroll horizontally, if not inside locked tables\n               if (!isInLockedContainer) {\n                   this._scrollTo(current[0], scrollableContainer);\n               }\n           },\n\n           current: function(next) {\n               return this._setCurrent(next, true);\n           },\n\n           _setCurrent: function(next, preventTrigger, preventScroll) {\n               var current = this._current;\n\n               next = $(next);\n\n               if (current && next && current.length && next.length && current.closest(\".k-filter-row\").length > 0 && next.closest(\".k-filter-row\").length === 0) {\n                   this._filterFocusable().attr(TABINDEX, -1);\n               }\n\n               if (next.length) {\n                   if (!current || current[0] !== next[0]) {\n                       var parent = next.parent();\n                       var siblings = parent.children(DATA_CELL);\n                       var colspan = parseInt(parent.children().first().attr(\"colspan\"), 10);\n\n                       if (this._hasVirtualColumns()) {\n                           this._virtualCellIndex = (colspan > 1 ? colspan : 0) + siblings.index(next);\n                       }\n                       this._updateCurrentAttr(current, next);\n\n                       if (!preventScroll) {\n                           this._scrollCurrent();\n                       }\n\n                       if (!preventTrigger) {\n                           this.trigger(NAVIGATE, {\n                               element: next\n                           });\n                       }\n                   }\n               }\n\n               if (next && next.length) {\n                   this._lastCellIndex = next.parent().children(DATA_CELL).index(next);\n               }\n\n               this._updateSelctCheckbox(current, next);\n\n               return this._current;\n           },\n\n           _removeCurrent: function() {\n               if (this._current) {\n                   this._current.removeClass(FOCUSED);\n                   this._current = null;\n               }\n           },\n\n           _updateSelctCheckbox: function(current, next) {\n               var nextCheckbox;\n\n               if (next && next.length) {\n                   nextCheckbox = next.find(\".k-select-checkbox\");\n\n                   if (nextCheckbox.length > 0) {\n                       nextCheckbox.focus();\n                   } else if (current && current.find(\".k-select-checkbox\").length > 0) {\n                       focusTable(this.table, true);\n                   }\n               }\n           },\n\n           _scrollTo: function(element, container) {\n               var elementToLowercase = element.tagName.toLowerCase();\n               var isHorizontal = elementToLowercase === \"td\" || elementToLowercase === \"th\";\n               var table = $(element).closest(\"table\")[0];\n               var elementOffsetDir = element[isHorizontal ? \"offsetWidth\" : \"offsetHeight\"];\n               var containerScroll = container[isHorizontal ? \"scrollLeft\" : \"scrollTop\"];\n               var containerOffsetDir = container[isHorizontal ? \"clientWidth\" : \"clientHeight\"];\n               var elementOffset = $(element).css(\"position\") === \"relative\" && isRtl && isHorizontal ? Math.abs(table.offsetLeft - element.offsetLeft) : element[isHorizontal ? \"offsetLeft\" : \"offsetTop\"];\n               var bottomDistance = elementOffset + elementOffsetDir;\n               var result = 0;\n               var ieCorrection = 0;\n               var firefoxCorrection = 0;\n\n               if (isRtl && isHorizontal) {\n                   if (browser.msie || browser.edge) {\n                       ieCorrection = table.offsetLeft;\n                   } else if (browser.mozilla || (browser.webkit && (browser.version > 85))) {\n                       firefoxCorrection = table.offsetLeft - kendo.support.scrollbar();\n                   }\n               }\n\n               containerScroll = Math.abs(containerScroll + ieCorrection - firefoxCorrection);\n\n               if (containerScroll > elementOffset) {\n                   result = elementOffset;\n               } else if (bottomDistance > (containerScroll + containerOffsetDir)) {\n                   if (elementOffsetDir <= containerOffsetDir) {\n                       result = (bottomDistance - containerOffsetDir);\n                   } else {\n                       result = elementOffset;\n                   }\n               } else {\n                   result = containerScroll;\n               }\n\n               result = Math.abs(result + ieCorrection) + firefoxCorrection;\n\n               container[isHorizontal ? \"scrollLeft\" : \"scrollTop\"] = result;\n           },\n\n           _navigatable: function() {\n               var that = this;\n\n               if (!that.options.navigatable) {\n                   return;\n               }\n\n               //data tables - locked and non-locked\n               var dataTables = that.table.add(that.lockedTable);\n               //header tables - locked and non-locked\n               var headerTables = that.thead.parent().add($(\">table\", that.lockedHeader));\n\n               //the over wich keys will be handled\n               var tables = dataTables;\n\n               if (that.options.scrollable) {\n                   //add the header table when the widget is scrollable\n                   tables = tables.add(headerTables);\n               }\n\n               this._navigatableTables = tables;\n               this._headertables = headerTables;\n\n               //dettach all previous events\n               tables.off(MOUSEDOWN + NS + \" focus\" + NS + \" focusout\" + NS + \" keydown\" + NS);\n\n               headerTables\n                   .find(\"a.k-link\").attr(\"tabIndex\", -1);\n\n               //prevent propagation when clicked inside detail grid\n               dataTables\n                   .on(\"keydown\" + NS, \".k-detail-cell\", function(e) {\n                       if (e.target !== e.currentTarget) {\n                           e.stopImmediatePropagation();\n                       }\n                   });\n\n               tables\n                   //handle click on tables, will attempt to focus the table\n                   .on((kendo.support.touch ? \"touchstart\" + NS : MOUSEDOWN + NS), NAVROW + \">\" + NAVCELL, tableClick.bind(that))\n                   .on(\"focus\" + NS, that._tableFocus.bind(that))\n                   .on(\"focusout\" + NS, that._tableBlur.bind(that))\n                   .on(\"keydown\" + NS, that, that._tableKeyDown.bind(that));\n\n               that._filterFocusable().on(\"focus\", that._filterFocus.bind(that));\n           },\n\n           _filterFocus: function(e) {\n               var header = e.target.closest(\"th\");\n\n               this._filterFocusable().attr(TABINDEX, 0);\n               this._setCurrent(header);\n               $(header).removeClass(FOCUSED);\n           },\n\n           _tableFocus: function() {\n               var current = this.current();\n               var table = this.lockedTable ? this.lockedTable : this.table;\n\n               //if there is already current, highlighted it\n               //otherwise highlight the first possible cell\n               if (current && current.is(\":visible\")) {\n                   current.addClass(FOCUSED);\n               } else {\n                   if (this._virtualColScroll) {\n                       this._setCurrent(table.find(NAVROW).first().children(NAVCELL).first(), true, true);\n                   } else {\n                       this._setCurrent(table.find(NAVROW).first().children(NAVCELL).first());\n                   }\n               }\n\n               this.table.attr(TABINDEX, 0);\n           },\n\n           _tableBlur: function() {\n               var current = this.current();\n\n               if (current) {\n                   current.removeClass(FOCUSED);\n               }\n           },\n\n           _findCellIndex: function(columns, startIndex, reversed) {\n               var cellIndex;\n               var i;\n\n               if (reversed) {\n                   for (i = startIndex; i >= 0; i--) {\n                       cellIndex = i;\n                       if (!columns[i].hidden) {\n                           break;\n                       }\n                   }\n               } else {\n                   for (i = startIndex; i < columns.length; i++) {\n                       cellIndex = i;\n                       if (!columns[i].hidden) {\n                           break;\n                       }\n                   }\n               }\n\n               return cellIndex;\n           },\n\n           _scrollToColumn: function(key, e) {\n               if (this._virtualCellIndex === undefined$1) {\n                   return false;\n               }\n\n               var that = this;\n               var cellIndex = that._virtualCellIndex;\n               var leafsCols = leafColumns(nonLockedColumns(that.columns));\n               var scrollWidth = 0;\n\n               if (key == (isRtl ? keys.LEFT : keys.RIGHT) && (cellIndex !== leafsCols.length - 1)) {\n                   cellIndex = that._findCellIndex(leafsCols, cellIndex + 1);\n               } else if (key == (isRtl ? keys.RIGHT : keys.LEFT) && cellIndex) {\n                   cellIndex = that._findCellIndex(leafsCols,cellIndex - 1, true);\n               } else if (key == keys.HOME) {\n                   cellIndex = that._findCellIndex(leafsCols, 0);\n               } else if (key == keys.END) {\n                   cellIndex = that._findCellIndex(leafsCols, leafsCols.length - 1, true);\n               }\n\n               for (var i = 0; i < cellIndex; i++) {\n                   scrollWidth += leafsCols[i].width;\n               }\n\n               that._virtualCellIndex = cellIndex;\n               if (e) {\n                   e.preventDefault();\n                   e.stopPropagation();\n               }\n               kendo.scrollLeft(that.content, scrollWidth);\n               return true;\n           },\n\n           _tableKeyDown: function(e) {\n               var current = this.current();\n               var virtualScroll = this.virtualScroll || {};\n               var requestInProgress = this.virtualScrollable && this.virtualScrollable.fetching();\n               var target = $(e.target);\n               var canHandle = !e.isDefaultPrevented() && !target.is(\":button,a,:input:not(.k-select-checkbox),a>.k-icon,a>.k-svg-icon\");\n\n               if (e.altKey && e.keyCode == keys.DOWN) {\n                   this.current().find(\".k-grid-filter-menu, .k-grid-column-menu\").click();\n                   e.stopImmediatePropagation();\n                   return;\n               }\n\n               // do not handle key down if request in progress\n               // or there isn't current set\n               if (requestInProgress) {\n                   // swallow key events while in progress\n                   e.preventDefault();\n                   return;\n               }\n\n               if (virtualScroll.columns && (!current || !document.body.contains(current[0])) && (this._scrollToColumn(e.keyCode, e))) {\n                   return;\n               }\n\n               if (!current) {\n                   current = $(this.lockedTable).add(this.options.scrollable ? this.table : this.tbody).find(NAVROW).first().children(NAVCELL).first();\n               }\n\n               if (!current.length) {\n                   return;\n               }\n\n               var handled = false;\n\n               if (!e.isDefaultPrevented() && e.keyCode === keys.F10) {\n                   handled = this._focusToolbar();\n               }\n\n               if (canHandle && e.keyCode == keys.UP) {\n                   handled = this._moveUp(current, e.shiftKey, e.ctrlKey);\n               }\n\n               if (canHandle && e.keyCode == keys.DOWN) {\n                   handled = this._moveDown(current, e.shiftKey, e.ctrlKey);\n               }\n\n               if (canHandle && e.keyCode == (isRtl ? keys.LEFT : keys.RIGHT)) {\n                   handled = this._moveRight(current, e.altKey, e.shiftKey, e.ctrlKey, e.currentTarget);\n               }\n\n               if (canHandle && e.keyCode == (isRtl ? keys.RIGHT : keys.LEFT)) {\n                   handled = this._moveLeft(current, e.altKey, e.shiftKey, e.ctrlKey, e.currentTarget);\n               }\n\n               if (canHandle && e.keyCode == keys.PAGEDOWN) {\n                   handled = this._handlePageDown();\n               }\n\n               if (canHandle && e.keyCode == keys.PAGEUP) {\n                   handled = this._handlePageUp();\n               }\n\n               if (canHandle && e.keyCode == keys.HOME) {\n                   handled = this._handleHome(current, e.ctrlKey);\n               }\n\n               if (canHandle && e.keyCode == keys.END) {\n                   handled = this._handleEnd(current, e.ctrlKey);\n               }\n\n               if (canHandle && e.keyCode == keys.SPACEBAR) {\n                   handled = this._handleSpaceKey(current, e.ctrlKey);\n               }\n\n               if (e.keyCode == keys.ENTER || e.keyCode == keys.F2) {\n                   handled = this._handleEnterKey(current, e.currentTarget, target);\n               }\n\n               if (e.keyCode == keys.ESC) {\n                   handled = this._handleEscKey(current, e.currentTarget);\n               }\n\n               if (e.keyCode == keys.TAB) {\n                   handled = this._handleTabKey(current, e.currentTarget, e.shiftKey, target);\n               }\n\n               if (handled) {\n                   //prevent scrolling while pressing the keys\n                   e.preventDefault();\n                   //required in hierarchy\n                   e.stopPropagation();\n               }\n           },\n\n           _focusToolbar: function() {\n               var focusable = this.wrapper.find(\".k-grid-toolbar [tabindex=0]\");\n\n               if (focusable.length > 0) {\n                   focusable.first().addClass(\".k-focus\").trigger(\"focus\");\n\n                   return true;\n               }\n\n               return false;\n           },\n\n           _moveLeft: function(current, altKey, shiftKey, ctrlKey, currentTable) {\n               var next, index;\n               var row = current.parent();\n               //thead or tbody\n               var container = row.parent();\n\n               if (altKey) {\n                   if (row.hasClass(GROUPING_ROW)) {\n                       this.collapseGroup(row);\n                   } else {\n                       this.collapseRow(row);\n                   }\n               } else if (ctrlKey && current.is(\".k-header\") && this.options.reorderable) {\n                  this._moveColumn(current, true);\n               } else {\n                   index = container.find(NAVROW).index(row);\n                   next = this._prevHorizontalCell(container, current, index);\n\n                   if (!next[0]) {\n                       if (shiftKey) {\n                           if (this.lockedTable) {\n                               next = this._relatedRow(row);\n                               if ($.contains(this.lockedTable[0], row[0])) {\n                                   next = next.prevAll(ITEMROW).first();\n                               }\n                               next = next.children(DATA_CELL).last();\n                           } else {\n                               next = this._tabNext(current, currentTable, true);\n                           }\n                       } else {\n                           container = this._horizontalContainer(container);\n\n                           next = this._prevHorizontalCell(container, current, index);\n\n                           if (next[0] !== current[0]) {\n                               focusTable(this.table, true);\n                           }\n                       }\n                   }\n\n                   this._setCurrent(next);\n               }\n\n               return true;\n           },\n\n           _moveRight: function(current, altKey, shiftKey, ctrlKey, currentTable) {\n               var next, index;\n               var row = current.parent();\n               //thead or tbody\n               var container = row.parent();\n\n               if (altKey) {\n                   if (row.hasClass(GROUPING_ROW)) {\n                       this.expandGroup(row);\n                   } else {\n                       this.expandRow(row);\n                   }\n                } else if (ctrlKey && current.is(\".k-header\") && this.options.reorderable) {\n                   this._moveColumn(current, false);\n               } else {\n                   index = container.find(NAVROW).index(row);\n                   next = this._nextHorizontalCell(container, current, index);\n\n                   if (!next[0]) {\n                       if (shiftKey) {\n                          if (this.lockedTable) {\n                               next = this._relatedRow(row);\n                               if ($.contains(this.table[0], row[0])) {\n                                   next = next.nextAll(ITEMROW).first();\n                               }\n                               next = next.children(DATA_CELL).first();\n                           } else {\n                               next = this._tabNext(current, currentTable, false);\n                           }\n                       } else {\n                           container = this._horizontalContainer(container, true);\n\n                           next = this._nextHorizontalCell(container, current, index);\n\n                           if (next[0] !== current[0]) {\n                               focusTable(this.table, true);\n                           }\n                       }\n                   }\n\n                   this._setCurrent(next);\n               }\n\n               return true;\n           },\n\n           _moveUp: function(current, shiftKey, ctrlKey) {\n               //thead or tbody\n               var container = current.parent().parent();\n               var next, cellIndex, index, oldIndex;\n\n               if (shiftKey) {\n                  next = current.parent();\n                  next = next.prevAll(ITEMROW).first();\n                  next = current.parent().is(ITEMROW) ? next.children().eq(current.index()) : next.children(DATA_CELL).last();\n               } else if (ctrlKey && current.parent().is(ITEMROW) && this._hasReorderableRows()) {\n                   cellIndex = current.index();\n                   next = current.parent();\n                   next = next.prevAll(ITEMROW).first();\n                   index = this.tbody.children(ITEMROW).index(next);\n                   oldIndex = this.tbody.children(ITEMROW).index(current.parent());\n\n                   if (index >= 0 && !this.trigger(ROWREORDER, { oldIndex: oldIndex, newIndex: index, row: current.parent() })) {\n                       this.reorderRows(current.parent(), index);\n                       next = this.tbody.children(ITEMROW).eq(index).children().eq(cellIndex);\n                   }\n               } else {\n                  next = this._prevVerticalCell(container, current);\n                  if (!next[0]) {\n                     this._lastCellIndex = 0;\n                     container = this._verticalContainer(container, true);\n\n                     next = this._prevVerticalCell(container, current);\n\n                     if (next[0]) {\n                         focusTable(this.table, true);\n                     }\n                  }\n               }\n\n               var tmp = this._lastCellIndex || 0;\n               this._setCurrent(next);\n               this._lastCellIndex = tmp;\n\n               return true;\n           },\n\n           _moveDown: function(current, shiftKey, ctrlKey) {\n               //thead or tbody\n               var container = current.parent().parent();\n               var next, cellIndex, index, oldIndex;\n\n               if (shiftKey) {\n                   next = current.parent();\n                   next = next.nextAll(ITEMROW).first();\n                   next = current.parent().is(ITEMROW) ? next.children().eq(current.index()) : next.children(DATA_CELL).first();\n               } else if (ctrlKey && current.parent().is(ITEMROW) && this._hasReorderableRows()) {\n                   cellIndex = current.index();\n                   next = current.parent();\n                   next = next.nextAll(ITEMROW).first();\n                   index = this.tbody.children(ITEMROW).index(next);\n                   oldIndex = this.tbody.children(ITEMROW).index(current.parent());\n\n                   if (index >= 0 && !this.trigger(ROWREORDER, { oldIndex: oldIndex, newIndex: index, row: current.parent() })) {\n                       this.reorderRows(current.parent(), index + 1);\n                       next = this.tbody.children(ITEMROW).eq(index).children().eq(cellIndex);\n                   }\n               } else {\n                   next = this._nextVerticalCell(container, current);\n                   if (!next[0]) {\n                       this._lastCellIndex = 0;\n                       container = this._verticalContainer(container);\n\n                       next = this._nextVerticalCell(container, current);\n                       if (next[0]) {\n                           focusTable(this.table, true);\n                       }\n                   }\n               }\n               var tmp = this._lastCellIndex || 0;\n               this._setCurrent(next);\n               this._lastCellIndex = tmp;\n               return true;\n           },\n\n           _moveColumn: function(current, isLeft) {\n               var elements = this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter + \":visible\");\n\n               var columns = visibleColumns(flatColumnsInDomOrder(this.columns));\n               var oldIndex = elements.index($(current));\n               var offset = isLeft ? - 1 : 1;\n               var column = columns[oldIndex];\n               var newIndex = targetParentContainerIndex(columns, this.columns, oldIndex, oldIndex + offset);\n               if (newIndex >= 0) {\n                   this.reorderColumn(newIndex, column, isLeft);\n                   this.trigger(COLUMNREORDER, {\n                       newIndex: newIndex,\n                       oldIndex: oldIndex,\n                       column: column\n                   });\n               }\n           },\n\n           _handleHome: function(current, ctrl) {\n               var row = current.parent();\n               var rowContainer = row.parent();\n               var isInLockedTable = this.lockedTable && this.lockedTable.children(\"tbody\")[0] === rowContainer[0];\n               var isInBody = rowContainer[0] === this.tbody[0];\n               var prev;\n\n               if (this._hasVirtualColumns()) {\n                   this._scrollToColumn(keys.HOME);\n                   return true;\n               }\n\n               if (ctrl) {\n                   if (this.lockedTable) {\n                       prev = this.lockedTable.find(ITEMROW).first().children(NAVCELL).first();\n                   } else {\n                       prev = this.table.find(ITEMROW).first().children(NAVCELL).first();\n                   }\n               } else if (isInBody || isInLockedTable) {\n                   if (isInBody && this.lockedTable) {\n                       row = this._relatedRow(row);\n                   }\n                   prev = row.children(DATA_CELL).first();\n               }\n\n               if (prev && prev.length) {\n                   this._setCurrent(prev);\n                   return true;\n               }\n           },\n\n           _handleEnd: function(current, ctrl) {\n               var row = current.parent();\n               var rowContainer = row.parent();\n               var isInLockedTable = this.lockedTable && this.lockedTable.children(\"tbody\")[0] === rowContainer[0];\n               var isInBody = rowContainer[0] === this.tbody[0];\n               var next;\n\n               if (this._hasVirtualColumns()) {\n                   this._scrollToColumn(keys.END);\n                   return true;\n               }\n\n               if (ctrl) {\n                   next = this.table.find(ITEMROW).last().children(NAVCELL).last();\n               } else if (isInBody || isInLockedTable) {\n                   if (!isInBody && this.lockedTable) {\n                       row = this._relatedRow(row);\n                   }\n                   next = row.children(DATA_CELL).last();\n               }\n\n               if (next && next.length) {\n                   this._setCurrent(next);\n                   return true;\n               }\n           },\n\n           _handlePageDown: function() {\n               if (!this.options.pageable) {\n                   return false;\n               }\n\n               this.dataSource.page(this.dataSource.page() + 1);\n\n               return true;\n           },\n\n           _handlePageUp: function() {\n               if (!this.options.pageable) {\n                   return false;\n               }\n\n               this.dataSource.page(this.dataSource.page() - 1);\n\n               return true;\n           },\n\n           _handleTabKey: function(current, currentTable, shiftKey, target) {\n               var isInCell = this.options.editable && this._editMode() == \"incell\";\n               var cell, filterFocusable;\n\n               if (!isInCell ||\n                   current.is(\"th\") ||\n                   (this.options.scrollable ? this._headertables.filter(currentTable).length : this.thead.filter(target).length)) {\n                       if (current.parent().hasClass(\"k-filter-row\")) {\n                           filterFocusable = this._filterFocusable();\n\n                           if (!shiftKey && filterFocusable[filterFocusable.length - 1] === document.activeElement) {\n                               filterFocusable.first().trigger(\"focus\");\n\n                               return true;\n                           } else if (shiftKey && filterFocusable[0] === document.activeElement) {\n                               filterFocusable.last().trigger(\"focus\");\n\n                               return true;\n                           }\n                       }\n\n                       return false;\n               }\n\n               cell = $(activeElement()).closest(\".k-edit-cell\");\n\n               if (cell[0] && cell[0] !== current[0]) {\n                   current = cell;\n               }\n\n               cell = this._tabNext(current, currentTable, shiftKey);\n\n               if (cell[0] === current[0]) {\n                   return false;\n               }\n\n               if (cell.length) {\n                   this._handleEditing(current, cell, cell.closest(\"table\"));\n\n                   return true;\n               }\n\n               return false;\n           },\n\n           _handleEscKey: function(current) {\n               var active = activeElement();\n               var isInCell = this._editMode() == \"incell\";\n\n               if (!isInEdit(current)) {\n                   if (current.has(active).length) {\n                       // return focus back to the table\n                       focusTable(this.table, true);\n\n                       return true;\n                   }\n\n                   if (current.parent().hasClass(\"k-filter-row\")) {\n                       this._filterFocusable().attr(TABINDEX, -1);\n                       focusTable(this.table, true);\n\n                       return true;\n                   }\n\n                   return false;\n               }\n\n               if (isInCell) {\n                   this.closeCell(true);\n               } else {\n                   var currentIndex = $(current).parent().index();\n                   if (active) {\n                       active.blur();\n                   }\n                   this.cancelRow(true);\n                   if (currentIndex >= 0) {\n                       this._setCurrent(this.items().eq(currentIndex).children(NAVCELL).first());\n                   }\n               }\n\n               focusTable(this.table, true);\n\n               return true;\n           },\n\n           _toggleCurrent: function(current, editable, hasDetails) {\n               var row = current.parent();\n\n               if (current.is(\".k-command-cell\")) {\n                   return false;\n               }\n\n               if (row.is(DOT + GROUPING_ROW)) {\n                   row.find(\".k-icon,.k-svg-icon\").first().click();\n\n                   return true;\n               }\n\n               if (!editable && hasDetails) {\n                   row.find(\".k-icon,.k-svg-icon\").first().click();\n\n                   return true;\n               }\n\n               return false;\n           },\n\n           _handleSpaceKey: function(current, ctrlKey) {\n               var that = this;\n\n               if (!ctrlKey || !that.groupable || !current.hasClass(\"k-header\")) {\n                   return;\n               }\n\n               var descriptors = that.groupable.descriptors();\n               var field = current.attr(kendo.attr(\"field\"));\n               var aggregates = that.groupable.aggregates();\n\n               if (that.groupable._canDrag(current)) {\n                   descriptors.push({\n                       field: field,\n                       dir: \"asc\",\n                       aggregates: aggregates || []\n                   });\n               } else {\n                   descriptors = $.grep(descriptors, function(item)\n                   {\n                       return item.field !== field;\n                   });\n               }\n\n               that.dataSource.group(descriptors);\n\n               return true;\n           },\n\n           _handleEnterKey: function(current, currentTable, target) {\n               var editable = this.options.editable && this.options.editable.update !== false;\n               var container = target.closest(\"td\");\n               var hasDetails = this._hasDetails();\n               var link, filterFocusable;\n\n               if (!target.is(\"table\") && !$.contains(current[0], target[0])) {\n                   current = container;\n               }\n\n               if (current.is(\"th\")) {\n                   // sort the column, if possible\n                   link = current.find(\".k-link\");\n\n                   if (current.has($(activeElement())).length > 0) {\n                       return false;\n                   } else if (link.length) {\n                       link.click();\n                   } else if (current.parent().hasClass(\"k-filter-row\")) {\n                       filterFocusable = this._filterFocusable();\n                       filterFocusable.attr(TABINDEX, 0);\n                       current.find(\":kendoFocusable\").first().focus();\n                   } else {\n                       current.find(CHECKBOXINPUT).trigger(\"focus\");\n                   }\n\n                   return true;\n               }\n               if (this._toggleCurrent(current, editable, hasDetails)) {\n                   return true;\n               }\n\n               var focusable = current.find(\":kendoFocusable\").first();\n               if (focusable[0] && !current.hasClass(\"k-edit-cell\") && current.hasClass(\"k-focus\")) {\n                   focusable.trigger(\"focus\");\n\n                   return true;\n               }\n\n               if (editable && !target.is(\":button,.k-button,textarea\")) {\n                   if (!container[0]) {\n                       container = current;\n                   }\n\n                   this._handleEditing(container, false, currentTable);\n\n                   return true;\n               }\n\n               return false;\n           },\n\n           _nextHorizontalCell: function(table, current, originalIndex) {\n               var cells = current.nextAll(DATA_CELL);\n\n               if (!cells.length) {\n                   var rows = table.find(NAVROW);\n                   var rowIndex = rows.index(current.parent());\n\n                   //no sibling cells are found and we've changed the table\n                   if (rowIndex == -1) {\n                       if (current.hasClass(\"k-header\")) {\n                           var headerRows = [];\n                           mapColumnToCellRows([lockedColumns(this.columns)[0]], childColumnsCells(rows.eq(0).children(\":visible\").first()), headerRows, 0, 0);\n\n                           if (headerRows[originalIndex]) {\n                               return headerRows[originalIndex][0];\n                           }\n\n                           return current;\n                       }\n\n                       //current is in filter row\n                       if (current.parent().hasClass(\"k-filter-row\")) {\n                           return rows.last().children(DATA_CELL).first();\n                       }\n\n                       //get the same row index in the new table\n                       return rows.eq(originalIndex).children(DATA_CELL).first();\n                   }\n               }\n\n               return cells.first();\n           },\n\n           _prevHorizontalCell: function(table, current, originalIndex) {\n               var cells = current.prevAll(DATA_CELL);\n\n               if (!cells.length) {\n                   var rows = table.find(NAVROW);\n                   var rowIndex = rows.index(current.parent());\n\n                   //no sibling cells are found and we've changed the table\n                   if (rowIndex == -1) {\n                       if (current.hasClass(\"k-header\")) {\n                           var headerRows = [];\n                           var columns = lockedColumns(this.columns);\n                           mapColumnToCellRows([columns[columns.length - 1]], childColumnsCells(rows.eq(0).children().last()), headerRows, 0, 0);\n\n                           if (headerRows[originalIndex]) {\n                               return headerRows[originalIndex][0];\n                           }\n\n                           return current;\n                       }\n\n                       //current is in filter row\n                       if (current.parent().hasClass(\"k-filter-row\")) {\n                           return rows.last().children(DATA_CELL).last();\n                       }\n\n                       //get the same row index in the new table\n                       return rows.eq(originalIndex).children(DATA_CELL).last();\n                   }\n               }\n\n               return cells.first();\n           },\n\n           _currentDataIndex: function(table, current) {\n               var index = current.attr(\"data-index\");\n\n               if (!index) {\n                   return undefined$1;\n               }\n\n               var lockedColumnsCount = lockedColumns(this.columns).length;\n               if (lockedColumnsCount && !table.closest(DIV).hasClass(\"k-grid-content-locked\")[0]) {\n                   return index - lockedColumnsCount;\n               }\n\n               return index;\n           },\n\n           _prevVerticalCell: function(container, current) {\n               var cells;\n               var row = current.parent();\n               var rows = container.children(NAVROW);\n               var rowIndex = rows.index(row);\n               //get data-index in case of last level of multi-level columns\n               var index = this._currentDataIndex(container, current);\n\n               //current is in the header, but not at the last level of multi-level columns\n               if (index || current.hasClass(\"k-header\")) {\n                   cells = parentColumnsCells(current);\n                   return cells.eq(cells.length - 2);\n               }\n\n               //check this out\n               index = Math.max(row.children(DATA_CELL).index(current), this._lastCellIndex || 0);\n\n               //if current is inside filter row\n               if (row.hasClass(\"k-filter-row\")) {\n                   return leafDataCells(container).filter(isCellVisible).eq(index);\n               }\n\n               //move up to header container\n               if (rowIndex == -1) {\n                   if (this._hasVirtualColumns()) {\n                       index = this._virtualCellIndex;\n                   }\n                   //is there filter row in the header container\n                   row = container.find(\"tr.k-filter-row:visible\");\n                   if (!row[0]) {\n                       // in hierarchical grid we need to correct the index\n                       // since the k-hierarchy cell is navigatable\n                       if ((this._hasDetails() || current.parent().find('.k-hierarchy-cell').length) && index) {\n                           index--;\n                       }\n                       return leafDataCells(container).filter(isCellVisible).eq(index);\n                   }\n               } else {\n                   row = rowIndex === 0 ? $() : rows.eq(rowIndex - 1);\n               }\n\n               cells = row.children(DATA_CELL);\n               if (cells.length > index) {\n                   return cells.eq(index);\n               }\n\n               return cells.eq(0);\n           },\n\n           _nextVerticalCell: function(container, current) {\n               var cells;\n               var row = current.parent();\n               var rows = container.children(NAVROW);\n               var rowIndex = rows.index(row);\n               //get data-index in case of last level of multi-level columns\n               var index = this._currentDataIndex(container, current);\n               var virtualScroll = this.virtualScroll || {};\n               var colspan;\n\n               //current is in the header, but not at the last level of multi-level columns\n               //and we are not changing the table\n               if (rowIndex != -1 && index === undefined$1 && current.hasClass(\"k-header\")) {\n                   return childColumnsCells(current).eq(1);\n               }\n\n               index = index ? parseInt(index, 10) : row.children(DATA_CELL).index(current);\n               index = Math.max(index, this._lastCellIndex || 0);\n\n               //move down to data container\n               if (rowIndex == -1) {\n                   row = rows.eq(0);\n                   if (virtualScroll.columns) {\n                       colspan = parseInt(row.children().first().attr(\"colspan\"), 10);\n                       index = this._virtualCellIndex - (colspan > 1 ? colspan : 0);\n                   }\n                   // in hierarchical grid we need to correct the index\n                   // since the k-hierarchy cell is navigatable\n                   if (this._hasDetails() || row.find('.k-hierarchy-cell').length) {\n                       index++;\n                   }\n               } else {\n                   row = rows.eq(rowIndex + current[0].rowSpan);\n               }\n\n               var tmpIndex = index;\n               //in case of last level of multi-level columns the index should be updated depending on the hidden columns\n               if (this._currentDataIndex(container, current) !== undefined$1) {\n                   var currentRowCells = row.children(\":not(.k-group-cell):not(.k-hierarchy-cell)\");\n                   var hiddenColumns = currentRowCells.filter(\":hidden\");\n                   for (var idx = 0, length = hiddenColumns.length; idx < length; idx++) {\n                       if (currentRowCells.index(hiddenColumns[idx]) < index) {\n                           tmpIndex--;\n                       }\n                   }\n               }\n               index = tmpIndex;\n\n               cells = row.children(DATA_CELL);\n               if (cells.length > index) {\n                   return cells.eq(index);\n               }\n\n               return cells.eq(0);\n           },\n\n           _verticalContainer: function(container, up) {\n               var table = container.parent();\n               var length = this._navigatableTables.length;\n               var step = Math.floor(length / 2);\n               var index = inArray(table[0], this._navigatableTables);\n\n               if (up) {\n                   step *= -1;\n               }\n               index += step;\n\n               if (index >= 0 || index < length) {\n                   table = this._navigatableTables.eq(index);\n               }\n\n               return table.find(up ? \">thead\" : \">tbody\");\n           },\n\n           _filterFocusable: function() {\n               return this.wrapper.find(\".k-filter-row\").find(\".k-dropdownlist, .k-input .k-input-inner:visible, input[type='radio']:visible, input[type='checkbox']:visible\");\n           },\n\n           _horizontalContainer: function(container, right) {\n               var length = this._navigatableTables.length;\n               if (length <= 2) {\n                   return container;\n               }\n\n               var table = container.parent();\n               var index = inArray(table[0], this._navigatableTables);\n\n               index += right ? 1 : -1;\n\n               if (right && (index == 2 || index == length)) {\n                   return container;\n               }\n\n               if (!right && (index == 1 || index < 0)) {\n                   return container;\n               }\n\n               return this._navigatableTables.eq(index).find(\"thead, tbody\");\n           },\n\n           _tabNext: function(current, currentTable, back) {\n               var switchRow = true;\n               var next = back ? current.prevAll(DATA_CELL).first() : current.nextAll(\":visible\").first();\n\n               if (!next.length) {\n                   next = current.parent();\n                   if (this.lockedTable) {\n                       switchRow = (back && currentTable == this.lockedTable[0]) || (!back && currentTable == this.table[0]);\n                       next = this._relatedRow(next);\n                   }\n\n                   if (switchRow) {\n                       if (this._hasVirtualColumns()) {\n                           return current;\n                       }\n                       next = next[back ? \"prevAll\" : \"nextAll\"](\"tr:not(.k-grouping-row):not(.k-detail-row):visible\").first();\n                   }\n                   if (back) {\n                       next = next.children(DATA_CELL).last();\n                   } else {\n                       next = next.children(DATA_CELL).first();\n                   }\n               }\n\n               return next;\n           },\n\n           _handleEditing: function(current, next, table) {\n               var that = this,\n                   active = $(activeElement()),\n                   mode = that._editMode(),\n                   isIE = browser.msie,\n                   editContainer = that._editContainer,\n                   focusable,\n                   editable = that.options.editable && that.options.editable.update !== false,\n                   isEdited;\n\n               table = $(table);\n               if (mode == \"incell\") {\n                   isEdited = current.hasClass(\"k-edit-cell\");\n               } else {\n                   isEdited = current.parent().hasClass(\"k-grid-edit-row\");\n               }\n\n               if (that.editable) {\n                   if ($.contains(editContainer[0], active[0])) {\n                       active.trigger(\"blur\");\n                       if (isIE) {\n                           //IE10 with jQuery 1.9.x does not trigger blur handler\n                           //numeric textbox does trigger change\n                           active.trigger(\"blur\");\n                       }\n                   }\n\n                   if (!that.editable) {\n                       focusTable(that.table);\n                       return;\n                   }\n\n                   if (that.editable.end()) {\n                       if (mode == \"incell\") {\n                           that.closeCell();\n                       } else {\n                           that.saveRow();\n                           isEdited = true;\n                       }\n                   } else {\n                       if (mode == \"incell\") {\n                           that._setCurrent(editContainer);\n                       } else {\n                           that._setCurrent(editContainer.children().filter(DATA_CELL).first());\n                       }\n                       focusable = editContainer.find(\":kendoFocusable\").first()[0];\n                       if (focusable) {\n                           focusable.focus();\n                       }\n                       return;\n                   }\n               }\n\n               if (next) {\n                   that._setCurrent(next);\n               }\n\n               focusTable(that.table, true);\n\n               if (!editable) {\n                   return;\n               }\n\n               if ((!isEdited && !next) || next) {\n                   if (mode === INCELL) {\n                       if (!$(that.current()).hasClass(HIERARCHY_CELL_CLASS)) {\n                           that.editCell(that.current());\n                       }\n                   } else {\n                       that.editRow(that.current().parent());\n                   }\n               }\n           },\n\n           _wrapper: function() {\n               var that = this,\n                   table = that.table,\n                   height = that.options.height,\n                   width = that.options.width,\n                   wrapper = that.element;\n\n               if (!wrapper.is(DIV)) {\n                  wrapper = wrapper.wrap(\"<div/>\").parent();\n               }\n\n               that.wrapper = wrapper.addClass(\"k-grid \" + kendo.getValidCssClass(\"k-grid-\", \"size\", that.options.size));\n\n               if (height) {\n                   that.wrapper.css(HEIGHT, height);\n                   table.css(HEIGHT, AUTO);\n               }\n\n               if (width) {\n                   that.wrapper.css(WIDTH, width);\n               }\n\n               that._initMobile();\n           },\n\n           _initMobile: function() {\n               var options = this.options;\n               var that = this;\n\n               this._isMobile = (options.mobile === true && kendo.support.mobileOS) ||\n                                   options.mobile === \"phone\" ||\n                                   options.mobile === \"tablet\";\n\n               if (this._isMobile) {\n                   var html = this.wrapper.addClass(\"k-grid-mobile\").wrap(\n                       '<div data-' + kendo.ns + 'stretch=\"true\" data-' + kendo.ns + 'role=\"view\" ' +\n                       'data-' + kendo.ns + 'init-widgets=\"false\"></div>'\n                   )\n                   .parent();\n\n                   this.pane = this._createPane(html);\n                   this.view = this.pane.view();\n\n                   if (options.height) {\n                       this.pane.element.parent().css(HEIGHT, options.height);\n                   } else {\n                       this.pane.element.parent().css(HEIGHT, this.wrapper[0].style.height);\n                   }\n\n                   this._editAnimation = \"slide\";\n\n                   // Grid transitions should not propagate to the view\n                   that.wrapper.on(\"transitionend\" + NS, function(e) {\n                       e.stopPropagation();\n                   });\n\n                   that.wrapper.on(\"contextmenu\" + NS, \"th a\", function(e) {\n                       e.preventDefault();\n                       return false;\n                   });\n\n                   this.view.bind(\"showStart\", function() {\n                       if (that._isLocked()) {\n                           that._updateTablesWidth();\n                           that._applyLockedContainersWidth();\n                           that._syncLockedContentHeight();\n                           that._syncLockedHeaderHeight();\n                           that._syncLockedFooterHeight();\n                       }\n                   });\n               }\n           },\n\n           _createPane: function(html) {\n               var pane = kendo.Pane.wrap(html, {\n                   viewEngine: {\n                       viewOptions: {\n                           renderOnInit: true,\n                           wrap: false,\n                           wrapInSections: true,\n                           detachOnHide: false,\n                           detachOnDestroy: false\n                       }\n                   }\n               });\n\n               return pane;\n           },\n\n           _tbody: function() {\n               var that = this,\n                   table = that.table,\n                   tbody;\n\n               tbody = table.find(\">tbody\");\n\n               if (!tbody.length) {\n                   tbody = $(\"<tbody class='k-table-tbody'/>\").appendTo(table);\n               }\n\n               that.tbody = tbody;\n           },\n\n           _scrollable: function() {\n               var that = this,\n                   header,\n                   table,\n                   options = that.options,\n                   scrollable = options.scrollable,\n                   hasVirtualScroll = scrollable !== true && scrollable.virtual,\n                   virtualScroll = hasVirtualScroll ? parseVirtualSettings(scrollable.virtual) : null,\n                   scrollbar = !kendo.support.kineticScrollNeeded || (virtualScroll && virtualScroll.rows) ? kendo.support.scrollbar() : 0,\n                   headerWrap;\n\n               if (scrollable) {\n                   header = that.wrapper.children(\".k-grid-header\");\n\n                   if (!header[0]) {\n                       header = $('<div class=\"k-grid-header\" />').insertBefore(that.table);\n                   }\n\n                   // workaround for IE issue where scroll is not raised if container is same width as the scrollbar\n                   header.css((isRtl ? \"padding-left\" : \"padding-right\"), scrollable.virtual ? scrollbar + 1 : scrollbar);\n                   table = $('<table role=\"none\" class=\"k-grid-header-table k-table\"/>');\n                   table.addClass(kendo.getValidCssClass(\"k-table-\", \"size\", options.size));\n\n                   table.width(that.table[0].style.width);\n\n                   table.append(that.thead);\n                   header.empty().append($('<div class=\"k-grid-header-wrap k-auto-scrollable\" />').append(table));\n\n\n                   that.content = that.table.parent();\n                   that.virtualScroll = virtualScroll;\n\n                   if (that.content.is(\".k-virtual-scrollable-wrap, \" + DOT + classNames.scrollContainer)) {\n                       that.content = that.content.parent();\n                   }\n\n                   if (!that.content.is(\".k-grid-content, .k-virtual-scrollable-wrap\")) {\n                       that.content = that.table.wrap('<div class=\"k-grid-content k-auto-scrollable\" />').parent();\n                   }\n\n                   that.content.wrap(\"<div class='k-grid-container' />\").parent();\n\n                   if (virtualScroll && virtualScroll.rows && !that.virtualScrollable) {\n                       that._createVirtualScrollable();\n                   }\n\n                   if (virtualScroll && virtualScroll.columns) {\n\n                       that.table.css({\n                           width: sumWidths(visibleLeafColumns(visibleNonLockedColumns(that.columns)))\n                       });\n                   }\n\n                   headerWrap = header.children(\".k-grid-header-wrap\");\n\n                   that.scrollables = headerWrap.add(that.content);\n\n                   // the footer may exists if rendered from the server\n                   var footer = that.wrapper.find(\".k-grid-footer\");\n\n                   if (footer.length) {\n                       that.scrollables = that.scrollables.add(footer.children(\".k-grid-footer-wrap\"));\n                   }\n\n                   headerWrap.off(\"scroll\" + NS).on(\"scroll\" + NS, function(e) {\n                       if (that._scrollLeft !== this.scrollLeft) {\n                           kendo.scrollLeft(that.scrollables.not(e.currentTarget), this.scrollLeft);\n                       }\n                   });\n\n                   if (virtualScroll && virtualScroll.rows) {\n                       that.content.find(\">.k-virtual-scrollable-wrap\").off(\"scroll\" + NS).on(\"scroll\" + NS, function() {\n                           var isScrollingLeft = this.scrollLeft != that._scrollLeft;\n                           that._scrollLeft = this.scrollLeft;\n                           kendo.scrollLeft(that.scrollables, this.scrollLeft);\n                           if (that.lockedContent) {\n                               that.lockedContent[0].scrollTop = this.scrollTop;\n                           }\n                           if (virtualScroll.columns && isScrollingLeft) {\n                               that.refresh();\n                           }\n                       });\n                   } else {\n                       var endless = scrollable.endless;\n                       var originalPageSize = that.dataSource.options.pageSize;\n                       if (endless) {\n                           that._endlessPageSize = originalPageSize;\n                       }\n                       that.content.off(\"scroll\" + NS).on(\"scroll\" + NS, function(e) {\n                           var isScrollingLeft = this.scrollLeft != that._scrollLeft;\n                           that._scrollLeft = this.scrollLeft;\n                           kendo.scrollLeft(that.scrollables.not(e.currentTarget), that._scrollLeft);\n                           if (that.lockedContent && e.currentTarget == that.content[0]) {\n                               that.lockedContent[0].scrollTop = this.scrollTop;\n                           }\n                           if (endless) {\n                               if ((this.scrollTop + this.clientHeight - this.scrollHeight >= -10) &&\n                                   !that._endlessFetchInProgress &&\n                                   that._endlessPageSize < that.dataSource.total()) {\n                                   that._skipRerenderItemsCount = that._endlessPageSize;\n                                   that._endlessPageSize = that._endlessPageSize + originalPageSize;\n                                   that.dataSource.options.endless = true;\n                                   that._endlessFetchInProgress = true;\n                                   that.dataSource.pageSize(that._endlessPageSize);\n                               }\n                           }\n\n                           if (virtualScroll && virtualScroll.columns && isScrollingLeft) {\n                                 that._virtualColScroll = true;\n                                 that._cacheEditableState();\n                                 that.refresh();\n                                 that._restoreEditableState();\n                                 that._virtualColScroll = false;\n                           }\n\n                           if (that.rowResizer) {\n                               that.rowResizer.css(\"left\", e.currentTarget.scrollLeft + \"px\");\n                           }\n                       });\n\n                       var touchScroller = that.content.data(\"kendoTouchScroller\");\n                       if (touchScroller) {\n                           touchScroller.destroy();\n                       }\n\n                       touchScroller = kendo.touchScroller(that.content);\n                       if (touchScroller && touchScroller.movable) {\n                           that.touchScroller = touchScroller;\n                           touchScroller.movable.bind(\"change\", function(e) {\n                               kendo.scrollLeft(that.scrollables, -e.sender.x);\n                               if (that.lockedContent) {\n                                   that.lockedContent.scrollTop(-e.sender.y);\n                               }\n                           });\n\n                           that.one(DATABOUND, function(e) {\n                               e.sender.wrapper.addClass(\"k-grid-backface\");\n                           });\n                       }\n                   }\n               }\n           },\n\n           _createVirtualScrollable: function() {\n               var that = this;\n\n               if (that.virtualScrollable) {\n                   that.virtualScrollable.destroy();\n               }\n\n               that.virtualScrollable = new VirtualScrollable(that.content, {\n                   dataSource: that.dataSource,\n                   itemHeight: function() { return that._averageRowHeight(); },\n                   page: function() {\n                       that._restoreEditableState();\n                   },\n                   scroll: function() {\n                       that._focusEditable();\n                   },\n                   loadStart: function() {\n                       that._progress(true);\n                   },\n                   loadEnd: function() {\n                       that._progress(false);\n                   }\n               });\n\n               that.virtualScrollable.bind(PAGING, that._onVirtualPaging.bind(that));\n           },\n\n           _onVirtualPaging: function() {\n               var that = this;\n\n               that._cacheEditableState();\n\n               if (that._isVirtualIncellEditable()) {\n                   that._shouldClearEditableState = false;\n                   that.closeCell();\n                   that._shouldClearEditableState = true;\n               }\n           },\n\n           _isVirtualEditable: function() {\n               return this._isVirtualIncellEditable() || this._isVirtualInlineEditable() || this._isVirtualPopupEditable();\n           },\n\n           _isVirtualInlineEditable: function() {\n               return (this.virtualScrollable) && this._editMode() === INLINE;\n           },\n\n           _isVirtualIncellEditable: function() {\n               return (this.virtualScrollable) && this._editMode() === INCELL;\n           },\n\n           _isVirtualPopupEditable: function() {\n               return this.virtualScrollable && this._editMode() === \"popup\";\n           },\n\n           _hasVirtualColumns: function() {\n               return (this.virtualScroll || {}).columns ? true : false;\n           },\n\n           _scrollVirtualWrapper: function() {\n               var that = this;\n               var scrollable = that.virtualScrollable;\n\n               if (that._isVirtualInlineEditable() || that._isVirtualIncellEditable()) {\n                   if (scrollable._isScrolledToBottom()) {\n                       scrollable._scrollWrapperToBottom();\n                   } else if (scrollable._isScrolledToTop()) {\n                       scrollable._scrollWrapperToTop();\n                   }\n               }\n           },\n\n           _scrollVirtualWrapperOnColumnResize: function() {\n               var virtualScrollable = this.virtualScrollable;\n\n               if (virtualScrollable) {\n                   virtualScrollable._scrollWrapperOnColumnResize();\n               }\n           },\n\n           _restoreEditableState: function() {\n               var that = this;\n               var editableState = that._editableState || {};\n               var editedModel = editableState.model;\n               var dataSource = that.dataSource;\n               var inlineMode = that._isVirtualInlineEditable();\n               var incellMode = that._isVirtualIncellEditable();\n               var virtualColumns = that._hasVirtualColumns();\n               var row;\n               var cell;\n\n               if ((inlineMode || incellMode || virtualColumns) && editedModel && dataSource._getByUid(editedModel.uid, dataSource.view())) {\n                   if (that._editMode() === INLINE) {\n                       that._shouldClearEditableState = false;\n                       that.editRow(editedModel);\n                       if (!virtualColumns) {\n                           that._focusEditable();\n                       }\n                   } else if (that._editMode() === INCELL) {\n                       row = that.tbody.children(attrEquals(UNIQUE_ID, editedModel.uid));\n                       cell = $(row).children(attrEquals(FIELD, editableState.field));\n\n                       if (cell[0]) {\n                           that._shouldClearEditableState = false;\n                           that.editCell(cell);\n                           if (!virtualColumns) {\n                               that._focusEditable();\n                           }\n                       }\n                   }\n               }\n\n               that._shouldClearEditableState = true;\n           },\n\n           _focusEditable: function() {\n               var that = this;\n               var editedField = (that._editableState || {}).field;\n               var editContainer = that._editContainer;\n\n               if (editContainer && editContainer.length && !contains(editContainer[0], activeElement()) && that._canFocusEditable()) {\n                   if (that._isVirtualInlineEditable() || that._hasVirtualColumns()) {\n                       editContainer.find(attrEquals(CONTAINER_FOR, editedField)).find(FOCUSABLE).eq(0).trigger(\"focus\");\n                   } else if (that._isVirtualIncellEditable() || that._hasVirtualColumns()) {\n                       editContainer.find(FOCUSABLE).eq(0).trigger(\"focus\");\n                   }\n               }\n           },\n\n           _canFocusEditable: function() {\n               var that = this;\n               var result = ((that._isVirtualIncellEditable() || that._isVirtualInlineEditable() || that._hasVirtualColumns()) &&\n               (isElementVisibleInWrapper((that.virtualScrollable || {}).wrapper, that._editContainer) || isElementVisibleInWrapper(that.content, that._editContainer)));\n\n               return result;\n           },\n\n           _cacheEditableState: function() {\n               var that = this;\n               var editContainer = that._editContainer;\n               var editedModel = editContainer ? that._modelForContainer(editContainer) : null;\n               var inlineMode = that._isVirtualInlineEditable();\n               var incellMode = that._isVirtualIncellEditable();\n               var virtualColumns = that._hasVirtualColumns();\n               var active;\n               var widget;\n               var value;\n\n               if ((inlineMode || incellMode || virtualColumns) && editedModel) {\n                   that._clearEditableState();\n                   active = $(activeElement());\n\n                   if (editContainer && active[0] && contains(editContainer[0], active[0])) {\n                       //change event is not fired if the editable container is scrolled\n                       //out of the virtual view with the mousewheel right after editing\n                       active.change();\n\n                       widget = kendo.widgetInstance(active, kendo.ui);\n\n                       if (widget && isFunction(widget.value) && active.is(INPUT)) {\n                           value = active.val();\n\n                           if (active.is(\"[type='checkbox'\")) {\n                               value = active.is(\":checked\");\n                           }\n\n                           widget.value(value);\n                           widget.trigger(CHANGE);\n                       }\n                   }\n\n                   if (that._editMode() === INLINE) {\n                       that._editableState = {\n                           model: editedModel,\n                           field: active.closest(\"[\" + kendo.attr(CONTAINER_FOR) + \"]\").attr(kendo.attr(CONTAINER_FOR))\n                       };\n                   } else if (that._editMode() === INCELL) {\n                       that._editableState = {\n                           model: editedModel,\n                           field: editContainer.attr(kendo.attr(FIELD))\n                       };\n                   }\n               }\n           },\n\n           _clearSortClasses: function() {\n               var that = this,\n                   content = that.content || that.table,\n                   lockedContent = that.lockedContent;\n\n               if (content) {\n                   content.find(COLGROUP).removeClass(SORTED_CLASS);\n               }\n\n               if (lockedContent) {\n                   lockedContent.find(COLGROUP).removeClass(SORTED_CLASS);\n               }\n           },\n\n           _clearEditableState: function() {\n               var that = this;\n\n               if (that.virtualScrollable || (that.virtualScroll && that._hasVirtualColumns())) {\n                   that._editableState = null;\n               }\n           },\n\n           _destroyVirtualScrollable: function() {\n               var that = this;\n\n               that._clearEditableState();\n\n               if (that.virtualScrollable && that.virtualScrollable.element) {\n                   that.virtualScrollable.destroy();\n               }\n\n               that.virtualScrollable = null;\n           },\n\n           _destroyRowResizing: function() {\n               if (this.rowResizing) {\n                   this.rowResizing.destroy();\n\n                   this.rowResizing = null;\n               }\n\n               if (this.rowResizer) {\n                   this._detachRowResizerEvents();\n                   this.rowResizer.off(DUBLECLICK + NS);\n                   this.rowResizer = null;\n                   this._clearCachedRowsHeight();\n               }\n           },\n\n           _renderNoRecordsContent: function() {\n               var that = this;\n\n               if (that.options.noRecords) {\n                   var noRecordsElement = that.table.parent().children('.' + NORECORDSCLASS);\n\n                   if (noRecordsElement.length) {\n                       that.angular(\"cleanup\", function() {\n                           return { elements: noRecordsElement.get() };\n                       });\n\n                       noRecordsElement.remove();\n                   }\n\n                   if (!that.dataSource || !that.dataSource.view().length) {\n                       noRecordsElement = $(that.noRecordsTemplate({ grid: that })).insertAfter(that.table);\n\n                       that.angular(\"compile\", function() {\n                           return {\n                               elements: noRecordsElement.get(),\n                               data: [{}]\n                           };\n                       });\n                   }\n               }\n           },\n\n           _setContentWidth: function(scrollLeft) {\n               var that = this,\n                   hiddenDivClass = 'k-grid-content-expander',\n                   hiddenDiv = '<div class=\"' + hiddenDivClass + '\"></div>',\n                   resizable = that.resizable,\n                   expander;\n\n               if (that.options.scrollable && that.wrapper.is(\":visible\")) {\n                   expander = that.table.parent().children('.' + hiddenDivClass);\n                   that._setContentWidthHandler = that._setContentWidth.bind(that);\n                   if (!that.dataSource || !that.dataSource.view().length) {\n                       if (!expander[0]) {\n                           expander = $(hiddenDiv).appendTo(that.table.parent());\n                           if (resizable) {\n                               resizable.bind(\"resize\", that._setContentWidthHandler);\n                           }\n                       }\n                       if (that.thead) {\n                           expander.width(that.thead.width());\n                           if (!isNaN(parseFloat(scrollLeft, 10))) {\n                               kendo.scrollLeft(that.content, scrollLeft);\n                           }\n                       }\n                   } else if (expander[0]) {\n                       expander.remove();\n                       if (resizable) {\n                           resizable.unbind(\"resize\", that._setContentWidthHandler);\n                       }\n                   }\n\n                   that._applyLockedContainersWidth();\n                   that._syncLockedContentHeight();\n\n                   // workaround IE does not show vertical scrollbar for elements without width\n                   if (that.lockedHeader && that.table[0].clientWidth === 0) {\n                       that.table[0].style.width = \"1px\";\n                   }\n               }\n           },\n\n           _applyLockedContainersWidth: function() {\n               if (this.options.scrollable && this.lockedHeader) {\n                   var headerTable = this.thead.parent(),\n                       headerWrap = headerTable.parent(),\n                       contentWidth = this.wrapper[0].clientWidth,\n                       groups = this._groups(),\n                       scrollbar = kendo.support.scrollbar(),\n                       cols = this.lockedHeader.find(\">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)\"),\n                       nonLockedCols = headerTable.find(\">colgroup>col:not(.k-group-col, .k-hierarchy-col)\"),\n                       width = columnsWidth(cols),\n                       nonLockedColsWidth = columnsWidth(nonLockedCols),\n                       footerWrap;\n\n                   if (groups > 0) {\n                       width += outerWidth(this.lockedHeader.find(\".k-group-cell\").first()) * groups;\n                   }\n\n                   if (width >= contentWidth) {\n                       width = contentWidth - 3 * scrollbar;\n                   }\n\n                   this.lockedHeader\n                       .add(this.lockedContent)\n                       .width(width);\n\n                   headerWrap[0].style.width = headerWrap.parent().width() - width - 2 + PX;\n\n                   headerTable.add(this.table).width(nonLockedColsWidth);\n\n                   //https://github.com/telerik/kendo-ui-core/issues/377\n                   if (this.virtualScrollable && !isIE11) {\n                       contentWidth -= scrollbar;\n                   }\n\n                   this.content[0].style.width = contentWidth - width - 1 + PX;\n\n                   if (this.lockedFooter && this.lockedFooter.length) {\n                       this.lockedFooter.width(width);\n                       footerWrap = this.footer.find(\".k-grid-footer-wrap\");\n                       footerWrap[0].style.width = headerWrap[0].clientWidth + PX;\n                       footerWrap.children().first().width(nonLockedColsWidth);\n                   }\n               }\n           },\n\n           _setContentHeight: function() {\n               var that = this,\n                   options = that.options,\n                   height,\n                   header = that.wrapper.children(\".k-grid-header\"),\n                   scrollbar = kendo.support.scrollbar();\n               var scrollableHeight = (options.scrollable || {}).height;\n\n               if (options.scrollable && that.wrapper.is(\":visible\")) {\n                   if (scrollableHeight && that.content[0].style.height === \"\") {\n                       // fallback to client-side setting as ASP.NET MVC Core wrapper does not provide server rendering of the content\n                       that.content[0].style.height = scrollableHeight;\n                   }\n\n                   height = that.wrapper.innerHeight();\n\n                   height -= outerHeight(header);\n\n                   if (that.pager && that.pager.element.is(\":visible\")) {\n                       height -= outerHeight(that.pager.element);\n                   }\n\n                   if (options.groupable) {\n                       height -= outerHeight(that.wrapper.children(\".k-grouping-header\"));\n                   }\n\n                   if (options.toolbar) {\n                       height -= outerHeight(that.wrapper.children(\".k-grid-toolbar\"));\n                   }\n\n                   if (that.footerTemplate) {\n                       height -= outerHeight(that.wrapper.children(\".k-grid-footer\"));\n                   }\n\n                   var isGridHeightSet = function(el) {\n                       var initialHeight, newHeight;\n                       if (el[0].style.height) {\n                           return true;\n                       } else {\n                           initialHeight = el.height();\n                       }\n\n                       el.height(AUTO);\n                       newHeight = el.height();\n\n                       if (initialHeight != newHeight) {\n                           el.height(\"\");\n                           return true;\n                       }\n                       el.height(\"\");\n                       return false;\n                   };\n\n                   if (isGridHeightSet(that.wrapper)) { // set content height only if needed\n                       if (height > scrollbar * 2) { // do not set height if proper scrollbar cannot be displayed\n                           if (that.lockedContent) {\n                               scrollbar = that.table[0].offsetWidth > that.table.parent()[0].clientWidth ? scrollbar : 0;\n                               that.lockedContent.height(height - scrollbar);\n                           }\n\n                           that.content.height(height);\n                       } else {\n                           that.content.height(scrollbar * 2 + 1);\n                       }\n                   }\n               }\n           },\n\n           _averageRowHeight: function() {\n               var that = this,\n                   itemsCount = that._items(that.tbody, true).length,\n                   rowHeight = that._rowHeight;\n\n               if (itemsCount === 0) {\n                   return rowHeight;\n               }\n\n               if (!that._rowHeight) {\n                   that._rowHeight = rowHeight = outerHeight(that.table) / itemsCount;\n                   that._sum = rowHeight;\n                   that._measures = 1;\n               }\n\n               var currentRowHeight = outerHeight(that.table) / itemsCount;\n\n               if (rowHeight !== currentRowHeight) {\n                   that._measures ++;\n                   that._sum += currentRowHeight;\n                   that._rowHeight = that._sum / that._measures;\n               }\n               return rowHeight;\n           },\n\n           _dataSource: function() {\n               var that = this,\n                   options = that.options,\n                   pageable,\n                   dataSource = options.dataSource;\n\n               dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n               if (isPlainObject(dataSource)) {\n                   extend(dataSource, { table: that.table, fields: that.columns });\n\n                   pageable = options.pageable;\n\n                   if (isPlainObject(pageable) && pageable.pageSize !== undefined$1) {\n                       dataSource.pageSize = pageable.pageSize;\n                   }\n               }\n\n               if (that.dataSource && that._refreshHandler) {\n                   that.dataSource.unbind(CHANGE, that._refreshHandler)\n                                   .unbind(PROGRESS, that._progressHandler)\n                                   .unbind(ERROR, that._errorHandler)\n                                   .unbind(SORT, that._sortHandler);\n               } else {\n                   that._refreshHandler = that.refresh.bind(that);\n                   that._progressHandler = that._requestStart.bind(that);\n                   that._errorHandler = that._error.bind(that);\n                   that._sortHandler = that._clearSortClasses.bind(that);\n               }\n\n               that.dataSource = DataSource.create(dataSource)\n                                   .bind(CHANGE, that._refreshHandler)\n                                   .bind(PROGRESS, that._progressHandler)\n                                   .bind(ERROR, that._errorHandler)\n                                   .bind(SORT, that._sortHandler);\n           },\n\n           _error: function() {\n               this._progress(false);\n           },\n\n           _requestStart: function() {\n               this._progress(true);\n           },\n\n           _modelChange: function(e) {\n               var that = this,\n                   tbody = that.tbody,\n                   model = e.model,\n                   row = that.tbody.find(\"tr[\" + kendo.attr(\"uid\") + \"=\" + model.uid + \"]\"),\n                   relatedRow,\n                   cell,\n                   column,\n                   isAlt = row.hasClass(\"k-alt\"),\n                   tmp,\n                   idx = that._items(tbody).index(row),\n                   isLocked = that.lockedContent,\n                   selectable,\n                   selectableRow,\n                   childCells,\n                   originalCells,\n                   length;\n\n               if (isLocked) {\n                   relatedRow = that._relatedRow(row);\n               }\n\n               if (row.add(relatedRow).children(\".k-edit-cell\").length && !that.options.rowTemplate) {\n                   row.add(relatedRow).children(\":not(.k-group-cell,.k-hierarchy-cell)\").each(function() {\n                       cell = $(this);\n                       column = leafColumns(that.columns)[that._calculateColumnIndex(cell)];\n\n                       if (column.field === e.field) {\n                           if (!cell.hasClass(\"k-edit-cell\")) {\n                               that._displayCell(cell, column, model);\n                           } else {\n                               cell.addClass(\"k-dirty-cell\");\n                           }\n                       }\n                   });\n\n               } else if (!row.hasClass(\"k-grid-edit-row\")) {\n\n                   selectableRow = $().add(row);\n\n                   if (isLocked) {\n                       tmp = (isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model);\n\n                       selectableRow = selectableRow.add(relatedRow);\n\n                       relatedRow.replaceWith(tmp);\n                   }\n\n                   that.angular(\"cleanup\", function() { return { elements: selectableRow.get() }; });\n\n                   tmp = (isAlt ? that.altRowTemplate : that.rowTemplate)(model);\n\n                   row.replaceWith(tmp);\n\n                   tmp = that._items(tbody).eq(idx);\n\n                   var angularData = [ { dataItem: model } ];\n\n                   if (isLocked) {\n                       row = row.add(relatedRow);\n\n                       relatedRow = that._relatedRow(tmp)[0];\n                       adjustRowHeight(tmp[0], relatedRow);\n\n                       tmp = tmp.add(relatedRow);\n                       angularData.push({ dataItem: model });\n                   }\n\n                   that.angular(\"compile\", function() {\n                       return {\n                           elements: tmp.get(),\n                           data: angularData\n                        };\n                   });\n\n                   selectable = that.options.selectable;\n                   if ((selectable || that._checkBoxSelection) && row.hasClass(SELECTED)) {\n                      that.select(tmp);\n                   }\n\n                   originalCells = selectableRow.children(\":not(.k-group-cell,.k-hierarchy-cell)\");\n                   childCells = tmp.children(\":not(.k-group-cell,.k-hierarchy-cell)\");\n\n                   for (idx = 0, length = that.columns.length; idx < length; idx++) {\n                       column = that.columns[idx];\n\n                       cell = childCells.eq(idx);\n                       if (selectable && originalCells.eq(idx).hasClass(SELECTED)) {\n                           cell.addClass(SELECTED);\n                       }\n                   }\n\n                   that.trigger(\"itemChange\", { item: tmp, data: model, ns: ui });\n               }\n           },\n\n           _pageable: function() {\n               var that = this,\n                   pagerWrap,\n                   pageable = that.options.pageable,\n                   size = that.options.size,\n                   navigatable = that.options.navigatable;\n\n               if (pageable) {\n                   pagerWrap = that.wrapper.children(\"div.k-grid-pager\");\n\n                   if (!pagerWrap.length) {\n                       pagerWrap = $('<div class=\"k-pager k-grid-pager\"/>');\n                   }\n\n                   if (pageable.position === \"top\") {\n                       pagerWrap.prependTo(that.wrapper).addClass(\"k-grid-pager-top\");\n                   } else {\n                       pagerWrap.appendTo(that.wrapper);\n                   }\n\n                   if (that.pager) {\n                       that.pager.destroy();\n                   }\n\n                   if (typeof pageable === \"object\" && pageable instanceof kendo.ui.Pager) {\n                       that.pager = pageable;\n                   } else {\n                       if (that.dataSource._groupPaging) {\n                           that.pager = new GroupsPager(pagerWrap, extend({}, pageable, { dataSource: that.dataSource, navigatable: navigatable, size: size }));\n                       } else {\n                           that.pager = new kendo.ui.Pager(pagerWrap, extend({}, pageable, { dataSource: that.dataSource, navigatable: navigatable, size: size }));\n                       }\n                   }\n\n                   that.pager.bind(\"pageChange\", function(e) {\n                       if (that.trigger(\"page\", { page: e.index })) {\n                           e.preventDefault();\n                       }\n                   });\n\n                   that._togglePagerVisibility();\n               }\n           },\n\n           _footer: function() {\n               var that = this,\n                   aggregates = that.dataSource.aggregates(),\n                   html = \"\",\n                   footerTemplate = that.footerTemplate,\n                   options = that.options,\n                   footerWrap,\n                   footer = that.footer || that.wrapper.find(\".k-grid-footer\");\n\n               if (footerTemplate) {\n                   html = $(that._wrapFooter(footerTemplate(aggregates)));\n\n                   if (footer.length) {\n                       var tmp = html;\n\n                       that.angular(\"cleanup\", function() {\n                           return { elements: footer.get() };\n                       });\n\n                       footer.replaceWith(tmp);\n                       footer = that.footer = tmp;\n                   } else {\n                       if (options.scrollable) {\n                           footer = that.footer = options.pageable && options.pageable.position !== \"top\" ? html.insertBefore(that.wrapper.children(\"div.k-grid-pager\")) : html.appendTo(that.wrapper);\n                       } else {\n                           footer = that.footer = html.insertAfter(that.tbody);\n                       }\n                   }\n\n                   that.angular(\"compile\", function() {\n                       return {\n                           elements: footer.find(\"td:not(.k-group-cell, .k-hierarchy-cell)\").get(),\n                           data: map(that.columns, function(col) {\n                               return {\n                                   column: col,\n                                   aggregate: aggregates[col.field]\n                               };\n                           })\n                       };\n                   });\n\n               } else if (footer && !that.footer) {\n                   that.footer = footer;\n               }\n\n               if (footer.length) {\n                   if (options.scrollable) {\n                       footerWrap = footer.attr(TABINDEX, -1).children(\".k-grid-footer-wrap\");\n\n                       that.scrollables = $(\n                           that.scrollables\n                               .filter(function() { return !$(this).is(\".k-grid-footer-wrap\"); })\n                               .toArray()\n                       ).add(footerWrap);\n                   }\n\n                   if (that._footerWidth) {\n                       footer.find(\"table\").css('width', that._footerWidth);\n                   }\n\n                   if (footerWrap) {\n                       var offset = kendo.scrollLeft(that.content);\n\n                       if (options.scrollable !== true && that.virtualScroll && that.virtualScroll.rows) {\n                           offset = kendo.scrollLeft(that.wrapper.find('.k-virtual-scrollable-wrap'));\n                       }\n                       kendo.scrollLeft(footerWrap, offset);\n                   }\n               }\n\n               if (that.lockedContent) {\n                   that._appendLockedColumnFooter();\n                   that._applyLockedContainersWidth();\n                   that._syncLockedFooterHeight();\n               }\n           },\n\n           _wrapFooter: function(footerRow) {\n               var that = this,\n                   html = \"\",\n                   table,\n                   scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0;\n\n               if (that.options.scrollable) {\n                   html = $('<div class=\"k-grid-footer\"><div class=\"k-grid-footer-wrap\"><table class=\"k-table k-grid-footer-table\"><tfoot class=\"k-table-tfoot\">' + footerRow + '</tfoot></table></div></div>');\n                   table = html.find(\"table\");\n                   table.addClass(kendo.getValidCssClass(\"k-table-\", \"size\", that.options.size));\n                   that._appendCols(table);\n                   html.css((isRtl ? \"padding-left\" : \"padding-right\"), scrollbar); // Update inner fix.\n\n                   return html;\n               }\n\n               return '<tfoot class=\"k-grid-footer k-table-tfoot\">' + footerRow + '</tfoot>';\n           },\n\n           _columnMenu: function() {\n               var that = this,\n                   menu,\n                   columns = leafColumns(that.columns),\n                   column,\n                   options = that.options,\n                   columnMenu = options.columnMenu,\n                   menuOptions,\n                   sortable,\n                   filterable,\n                   cells,\n                   hasMultiColumnHeaders = grep(that.columns, function(item) {\n                       return item.columns !== undefined$1;\n                   }).length > 0,\n                   hasLockableColumns = grep(that.columns, function(item) {\n                       return item.lockable !== false;\n                   }).length > 0,\n                   hasStickableColumns = grep(that.columns, function(item) {\n                       return item.stickable === true;\n                   }).length > 0,\n                   isMobile = this._isMobile,\n                   initCallback = function(e) {\n                       that.trigger(COLUMNMENUINIT, { field: e.field, container: e.container });\n                   },\n                   openCallback = function(e) {\n                       that.trigger(COLUMNMENUOPEN, { field: e.field, container: e.container });\n                   },\n                   closeCallback = function() {\n                       focusTable(that.table, true);\n                   },\n                   stickCallback = function(e) {\n                       that.trigger(COLUMNSTICK, { column: e.column });\n                   },\n                   unstickCallback = function(e) {\n                       that.trigger(COLUMNUNSTICK, { column: e.column });\n                   },\n                   sortHandler = function(e) {\n                       if (that.trigger(\"sort\", { sort: e.sort })) {\n                           e.preventDefault();\n                       } else {\n                           that._clearEditableState();\n                           if (that.dataSource.options.endless) {\n                               that._resetEndless();\n                           }\n                       }\n                   },\n                   filterHandler = function(e) {\n                       if (that.trigger(\"filter\", { filter: e.filter, field: e.field })) {\n                           e.preventDefault();\n                       } else {\n                           that._clearEditableState();\n                           if (that.dataSource.options.endless) {\n                               that._resetEndless();\n                           }\n                       }\n                   },\n                   $angular = options.$angular;\n\n               if (columnMenu) {\n                   if (typeof columnMenu == \"boolean\") {\n                       columnMenu = {};\n                   }\n\n                   that._setColumnsMediaVisibility(columns);\n\n                   cells = leafDataCells(that.thead);\n\n                   for (var idx = 0, length = cells.length; idx < length; idx++) {\n                       column = columns[idx];\n                       var cell = cells.eq(idx);\n\n                       if (column.columnMenu !== false && !column.command && (column.field || cell.attr(\"data-\" + kendo.ns + \"field\"))) {\n                           menu = cell.data(\"kendoColumnMenu\");\n                           if (menu) {\n                               menu.destroy();\n                           }\n\n                           sortable = column.sortable !== false && columnMenu.sortable !== false && options.sortable !== false ? extend({}, options.sortable, {\n                               compare: (column.sortable || {}).compare\n                           }) : false;\n\n                           filterable = options.filterable && column.filterable !== false && columnMenu.filterable !== false ? extend({ pane: that.pane }, options.filterable, column.filterable) : false;\n\n                           if (column.filterable && column.filterable.dataSource) {\n                               filterable.forceUnique = false;\n                               filterable.checkSource = column.filterable.dataSource;\n                           }\n\n                           if (filterable) {\n                               filterable.format = column.format;\n                           }\n\n                           menuOptions = {\n                               dataSource: that.dataSource,\n                               values: column.values,\n                               columns: columnMenu.columns,\n                               sortable: sortable,\n                               filterable: filterable,\n                               messages: columnMenu.messages,\n                               owner: that,\n                               closeCallback: closeCallback,\n                               init: initCallback,\n                               open: openCallback,\n                               stick: stickCallback,\n                               unstick: unstickCallback,\n                               pane: that.pane,\n                               sort: sortHandler,\n                               filtering: filterHandler,\n                               filter: isMobile ? \":not(.k-column-active)\" : \"\",\n                               hasLockableColumns: lockedColumns(columns).length > 0 && hasLockableColumns && !hasMultiColumnHeaders,\n                               hasStickableColumns: hasStickableColumns && !hasMultiColumnHeaders,\n                               encodeTitles: that.options.encodeTitles,\n                               componentType: columnMenu.componentType,\n                               appendTo: DOT + classNames.headerCellInner,\n                               reorderable: options.reorderable === true || (options.reorderable && options.reorderable.columns),\n                               groupable: that.options.groupable && column.groupable !== false\n                           };\n\n                           if ($angular) {\n                               menuOptions.$angular = $angular;\n                           }\n\n                           cell.kendoColumnMenu(menuOptions);\n                       }\n                   }\n               }\n           },\n\n           _headerCells: function() {\n               return $(this.thead).find(\"th\").filter(function() {\n                   var th = $(this);\n                   return !th.hasClass(\"k-group-cell\") && !th.hasClass(\"k-hierarchy-cell\");\n               });\n           },\n\n           _hasFilterMenu: function() {\n               var filterable = this.options.filterable;\n               if (filterable && typeof filterable.mode == STRING && filterable.mode.indexOf(\"menu\") == -1) {\n                   return false;\n               }\n\n               return filterable;\n           },\n\n           _filterable: function() {\n               var that = this,\n                   columns = leafColumns(that.columns),\n                   filterMenu,\n                   cells,\n                   cell,\n                   filterInit = function(e) {\n                       that.trigger(FILTERMENUINIT, { field: e.field, container: e.container });\n                   },\n                   closeCallback = function() {\n                       focusTable(that.table, true);\n                   },\n                   filterHandler = function(e) {\n                       if (that.trigger(\"filter\", { filter: e.filter, field: e.field })) {\n                           e.preventDefault();\n                       } else {\n                           that._clearEditableState();\n                           if (that.dataSource.options.endless) {\n                               that._resetEndless();\n                           }\n                       }\n                   },\n                   filterOpen = function(e) {\n                       that.trigger(FILTERMENUOPEN, { field: e.field, container: e.container });\n                   },\n                   filterable = that._hasFilterMenu();\n\n               if (filterable && !that.options.columnMenu) {\n                   cells = leafDataCells(that.thead);//that._headerCells();\n\n                   for (var idx = 0, length = cells.length; idx < length; idx++) {\n                       cell = cells.eq(idx);\n\n                       if (columns[idx].filterable !== false && !columns[idx].command && (columns[idx].field || cell.attr(\"data-\" + kendo.ns + \"field\"))) {\n                           filterMenu = cell.data(\"kendoFilterMenu\");\n\n                           if (filterMenu) {\n                               filterMenu.destroy();\n                           }\n\n                           filterMenu = cell.data(\"kendoFilterMultiCheck\");\n                           if (filterMenu) {\n                              filterMenu.destroy();\n                           }\n\n                           var columnFilterable = columns[idx].filterable;\n\n                           var options = extend({},\n                               filterable,\n                               columnFilterable,\n                               {\n                                   dataSource: that.dataSource,\n                                   values: columns[idx].values,\n                                   format: columns[idx].format,\n                                   closeCallback: closeCallback,\n                                   title: columns[idx].title || columns[idx].field,\n                                   init: filterInit,\n                                   open: filterOpen,\n                                   pane: that.pane,\n                                   change: filterHandler,\n                                   appendTo: DOT + classNames.headerCellInner\n                               }\n                           );\n\n                           if (columnFilterable && columnFilterable.messages) {\n                               options.messages = extend(true, {}, filterable.messages, columnFilterable.messages);\n                           }\n                           if (columnFilterable && columnFilterable.dataSource) {\n                               options.forceUnique = false;\n                               options.checkSource = columnFilterable.dataSource;\n                           }\n\n                           if (columnFilterable && columnFilterable.multi) {\n                               cell.kendoFilterMultiCheck(options);\n                           } else {\n                               cell.kendoFilterMenu(options);\n                           }\n                       }\n                   }\n               }\n           },\n\n           _filterRow: function() {\n               var that = this;\n               if (!that._hasFilterRow()) {\n                  return;\n               }\n\n               var settings;\n               var $angular = that.options.$angular;\n               var columns = leafColumns(that.columns),\n                   filterable = that.options.filterable,\n                   rowheader = that.thead.find(\".k-filter-row\"),\n                   filterHandler = function(e) {\n                       if (that.trigger(\"filter\", { filter: e.filter, field: e.field })) {\n                           e.preventDefault();\n                       } else {\n                           that._clearEditableState();\n                           if (that.dataSource.options.endless) {\n                               that._resetEndless();\n                           }\n                       }\n                   };\n\n\n               this._updateHeader(that._groups());\n\n               for (var i = 0; i < columns.length; i++) {\n                   var suggestDataSource,\n                       col = columns[i],\n                       operators = that.options.filterable.operators,\n                       customDataSource = false,\n                       td = $(\"<td class='k-table-td' title='\" + that.options.messages.filterCellTitle + \"'/>\"),\n                       field = col.field;\n\n                   if (col.hidden) {\n                       td.hide();\n                   }\n                   rowheader.append(td);\n                   if (field && col.filterable !== false) {\n                       var cellOptions = col.filterable && col.filterable.cell || {};\n\n                       suggestDataSource = that.options.dataSource;\n                       if (suggestDataSource instanceof DataSource) {\n                           suggestDataSource = that.options.dataSource.options;\n                       }\n\n                       var messages = extend(true, {}, filterable.messages);\n                       if (col.filterable) {\n                           extend(true, messages, col.filterable.messages);\n                       }\n\n                       if (cellOptions.enabled === false) {\n                           td.html(\"&nbsp;\");\n                           continue;\n                       }\n                       if (cellOptions.dataSource) {\n                           suggestDataSource = cellOptions.dataSource;\n                           customDataSource = true;\n                       }\n                       if (col.filterable && col.filterable.operators) {\n                           operators = col.filterable.operators;\n                       }\n\n                       settings = {\n                           column: col,\n                           dataSource: that.dataSource,\n                           suggestDataSource: suggestDataSource,\n                           customDataSource: customDataSource,\n                           field: field,\n                           messages: messages,\n                           size: that.options.size,\n                           values: col.values,\n                           template: cellOptions.template,\n                           delay: cellOptions.delay,\n                           inputWidth: cellOptions.inputWidth,\n                           suggestionOperator: cellOptions.suggestionOperator,\n                           minLength: cellOptions.minLength,\n                           dataTextField: cellOptions.dataTextField,\n                           operator: cellOptions.operator,\n                           operators: operators,\n                           showOperators: cellOptions.showOperators,\n                           change: filterHandler\n                       };\n\n                       if ($angular) {\n                           settings.$angular = $angular;\n                       }\n\n                       $(\"<span/>\").attr(kendo.attr(\"field\"), field)\n                           .appendTo(td)\n                           .kendoFilterCell(settings);\n                   } else {\n                       td.html(\"&nbsp;\");\n                   }\n                   td.data(\"column\", col);\n               }\n\n               this._filterFocusable().attr(TABINDEX, -1);\n           },\n\n           _sortable: function() {\n               var that = this,\n                   columns = leafColumns(that.columns),\n                   column,\n                   sorterInstance,\n                   cell,\n                   sortable = that.options.sortable,\n                   sortHandler = function(e) {\n                       if (that.trigger(\"sort\", { sort: e.sort })) {\n                           e.preventDefault();\n                       } else {\n                           that._clearEditableState();\n                       }\n                   };\n\n\n               if (sortable) {\n                   var cells = leafDataCells(that.thead);\n\n                   for (var idx = 0, length = cells.length; idx < length; idx++) {\n                       column = columns[idx];\n\n                       if (column.sortable !== false && !column.command && column.field) {\n                           cell = cells.eq(idx);\n\n                           sorterInstance = cell.data(\"kendoColumnSorter\");\n\n                           if (sorterInstance) {\n                               sorterInstance.destroy();\n                           }\n\n                           cell.attr(\"data-\" + kendo.ns + \"field\", column.field)\n                               .kendoColumnSorter(\n                                   extend({}, sortable, column.sortable, {\n                                       dataSource: that.dataSource,\n                                       aria: true,\n                                       filter: \":not(.k-column-active)\",\n                                       change: sortHandler\n                                   })\n                               );\n                       }\n                   }\n                   cells = null;\n               }\n           },\n\n           _columns: function(columns) {\n               var that = this,\n                   table = that.table,\n                   encoded,\n                   cols = table.find(\"col\"),\n                   lockedCols,\n                   headerRows = that.element.find('thead tr'),\n                   dataSource = that.options.dataSource,\n                   draggableColumns;\n\n               // using HTML5 data attributes as a configuration option e.g. <th data-field=\"foo\">Foo</foo>\n               columns = columns.length ? columns : map(table.find(\"th:not(.k-group-cell):not(.k-hierarchy-cell)\"), function(th, idx) {\n                   th = $(th);\n                   var sortable = th.attr(kendo.attr(\"sortable\")),\n                       filterable = th.attr(kendo.attr(\"filterable\")),\n                       type = th.attr(kendo.attr(\"type\")),\n                       groupable = th.attr(kendo.attr(\"groupable\")),\n                       field = th.attr(kendo.attr(\"field\")),\n                       title = th.attr(kendo.attr(\"title\")),\n                       columnMenu = th.attr(kendo.attr(\"column-menu\")),\n                       menu = th.attr(kendo.attr(\"menu\"));\n\n                   if (!field) {\n                      field = th.text().replace(/\\s|[^A-z0-9]/g, \"\");\n                   }\n\n                   return {\n                       field: field,\n                       type: type,\n                       title: title,\n                       sortable: sortable !== \"false\",\n                       filterable: filterable !== \"false\",\n                       groupable: groupable !== \"false\",\n                       menu: menu !== \"false\",\n                       columnMenu: columnMenu !== \"false\",\n                       template: th.attr(kendo.attr(\"template\")),\n                       width: cols.eq(idx).css(WIDTH)\n                   };\n               });\n\n               encoded = !(that.table.find(\"tbody tr\").length > 0 && (!dataSource || !dataSource.transport));\n\n               if (that.options.scrollable) {\n                   var initialColumns = columns;\n                   lockedCols = lockedColumns(columns);\n                   columns = nonLockedColumns(columns);\n\n                   if (lockedCols.length > 0 && columns.length === 0) {\n                       throw new Error(\"There should be at least one non locked column\");\n                   }\n\n                   normalizeHeaderCells(that.element.find(\"tr:has(th)\").first(), initialColumns);\n                   columns = lockedCols.concat(columns);\n               }\n\n               if (headerRows.length && columns.length) {\n                   that._updateColumnIDs(columns, headerRows.first());\n               }\n\n               that.columns = normalizeColumns(columns, encoded);\n\n               if ($.grep(leafColumns(that.columns), function(col) { return col.selectable;}).length) {\n                   that._selectedIds = {};\n                   that._checkBoxSelection = true;\n                   that.wrapper.on(CLICK + NS, \"tbody > tr \" + CHECKBOXINPUT, that._checkboxClick.bind(that));\n                   that.wrapper.on(CLICK + NS, \"thead > tr \" + CHECKBOXINPUT, that._headerCheckboxClick.bind(that));\n               }\n\n               draggableColumns = $.grep(leafColumns(that.columns), function(col) { return col.draggable;});\n\n               if (draggableColumns.length) {\n                   that._hasDragHandleColumn = true;\n\n                   for (var i = 0; i < draggableColumns.length; i++) {\n                       draggableColumns[i].headerAttributes = $.extend({\n                           \"aria-label\": that.options.messages.dragHandleLabel\n                       }, draggableColumns[i].headerAttributes);\n                   }\n               }\n\n               that._foreignKeyBindings(that.columns);\n           },\n\n           _foreignKeyBindings: function(columns) {\n               var that = this;\n               var length = columns.length;\n               var column;\n\n               for (var i = 0; i < length; i++) {\n                   column = columns[i];\n\n                   if (column.dataSource) {\n                       that._fetchForeignKeyValues(column);\n                   }\n               }\n           },\n\n           _fetchForeignKeyValues: function(column) {\n               var that = this;\n               var promise = $.Deferred();\n\n               that._hasBoundForeignKey = true;\n               column.dataSource = DataSource.create(column.dataSource);\n\n               if (!that._foreignKeyPromises) {\n                   that._foreignKeyPromises = [];\n               }\n\n               that._foreignKeyPromises.push(promise);\n               column.dataSource.fetch().then(function() {\n                   var data = column.dataSource.data();\n                   column.values = data.map(function(item) {\n                       return {\n                           value: item[column.dataValueField],\n                           text: item[column.dataTextField]\n                       };\n                   });\n                   promise.resolve();\n               });\n\n           },\n\n           _updateColumnIDs: function(columns, tr) {\n\n               if (!columns.length) {\n                   return;\n               }\n\n               var ths = tr.find(\"th:not(.k-group-cell):not(.k-hierarchy-cell)\");\n               var id;\n               for (var i = 0; i < columns.length; i++) {\n                   id = ths.eq(i).attr(ID);\n                   if (id) {\n                       columns[i].headerAttributes = extend(columns[i].headerAttributes, { id: id });\n                   }\n               }\n\n               this._updateColumnIDs(childColumns(columns), tr.next());\n           },\n\n           _headerCheckboxClick: function(e) {\n               var that = this,\n                   checkBox = $(e.target),\n                   checked = checkBox.prop(\"checked\");\n\n               if (!that._belongsToGrid(checkBox)) {\n                   return;\n               }\n\n               if (checked) {\n                   that.select(that.items());\n               } else {\n                   that.clearSelection();\n               }\n\n               that.trigger(CHANGE);\n           },\n\n           _checkboxClick: function(e) {\n               var that = this,\n                   row = $(e.target).closest(TR),\n                   isSelecting = !row.hasClass(SELECTED);\n\n               if (!that._belongsToGrid(row)) {\n                   return;\n               }\n\n               if (isSelecting) {\n                   that.select(row);\n               } else {\n                   that._deselectCheckRows(row);\n               }\n               that.trigger(CHANGE);\n           },\n\n           _groups: function() {\n               var group = this.dataSource.group();\n\n               return group ? group.length : 0;\n           },\n\n           _tmpl: function(rowTemplate, columns, alt, skipGroupCells) {\n               var that = this,\n                   settings = extend({}, kendo.Template, that.options.templateSettings),\n                   paramName = settings.paramName,\n                   idx,\n                   length = columns.length,\n                   template,\n                   state = { storage: {}, count: 0 },\n                   column,\n                   type,\n                   hasDetails = that._hasDetails(),\n                   groups = that._groups();\n\n               var fieldAttr = kendo.attr(\"field\");\n               var field;\n               var classAttribute;\n               var rowTemplateFunc;\n\n               if (!rowTemplate) {\n                   rowTemplateFunc = function (data) {\n                       var uid = length ? (\" \" + (kendo.attr(\"uid\")) + \"=\\\"\" + (kendo.getter(\"uid\")(data)) + \"\\\"\") : '';\n                       var rowTemplateResult = \"<tr class=\\\"\" + (alt ? 'k-alt k-table-row k-table-alt-row ' : 'k-table-row ') + \"k-master-row\\\"\" + uid + \">\";\n\n                       if (groups > 0 && !skipGroupCells) {\n                           rowTemplateResult += groupCells(groups);\n                       }\n\n                       if (hasDetails) {\n                           rowTemplateResult += '<td class=\"k-hierarchy-cell k-table-td\" aria-expanded=\"false\">' + kendo.ui.icon($((\"<a href=\\\"#\\\" \" + ARIA_LABEL + \"=\\\"\" + EXPAND + \"\\\" tabindex=\\\"-1\\\"></a>\")), { icon: (\"caret-alt-\" + (isRtl ? \"left\" : \"right\")) }) + '</td>';\n                       }\n\n                       for (idx = 0; idx < length; idx++) {\n                           column = columns[idx];\n                           template = column.template;\n                           type = typeof template;\n                           field = column.field;\n\n                           if (that._editMode() === INCELL && field) {\n                               column.attributes = column.attributes || {};\n\n                               if (that.virtualScroll) {\n                                   column.attributes[fieldAttr] = field;\n                               }\n\n                               var dirtyCellTemplate = that._dirtyCellTemplate(field)(data);\n                               column.attributes[\"class\"] = (column.attributes[\"class\"] || \"\");\n\n                               if (column.attributes[\"class\"].indexOf(dirtyCellTemplate) < 0) {\n                                   column.attributes[\"class\"] += dirtyCellTemplate;\n                               }\n                           }\n\n                           if (column.colSpan && column.colSpan > 0 && hasHiddenStyle(column.attributes)) { //virtual cell should be visible at all times\n                               column.attributes = removeHiddenStyle(column.attributes);\n                           } else if (!column.colSpan && column.hidden) {\n                               column.attributes = addHiddenStyle(column.attributes);\n                           }\n\n                           if (column.command) {\n                               column.attributes = column.attributes || {};\n                               classAttribute = column.attributes[\"class\"];\n\n                               if (typeof classAttribute !== \"undefined\") {\n                                   if (classAttribute.indexOf(\"k-command-cell\") < 0) {\n                                       column.attributes[\"class\"] += \" k-command-cell\";\n                                   }\n                               } else {\n                                   column.attributes[\"class\"] = \"k-command-cell\";\n                               }\n                           }\n\n                           if (column.draggable) {\n                               column.attributes = column.attributes || {};\n                               if (typeof column.attributes[\"class\"] !== \"undefined\") {\n                                   column.attributes[\"class\"] += \" k-drag-cell k-touch-action-none\";\n                               } else {\n                                   column.attributes[\"class\"] = \"k-drag-cell k-touch-action-none\";\n                               }\n\n                               if (typeof column.attributes[ARIA_LABEL] === \"undefined\") {\n                                   column.attributes[ARIA_LABEL] = that.options.messages.dragHandleLabel;\n                               }\n\n                               if (typeof column.attributes.style !== \"undefined\") {\n                                   column.attributes.style += \" cursor: move;\";\n                               } else {\n                                   column.attributes.style = \"cursor: move;\";\n                               }\n                           }\n\n                           var attributes = column.attributes instanceof Function ? column.attributes(data) : column.attributes;\n                           var columnAttributes = stringifyAttributes(attributes);\n                           var colSpanAttributes = '';\n\n                           if (column.colSpan) {\n                               if (column.colSpan > 1) {\n                                   colSpanAttributes += \" \" + kendo.attr(\"virtual\");\n                               }\n                               colSpanAttributes += \" colSpan=\\\"\" + (column.colSpan) + \"\\\"\";\n                           }\n                           rowTemplateResult += decorateCellWithClass((\"<td\" + columnAttributes + colSpanAttributes + \">\"));\n                           rowTemplateResult += column.selectable ? kendo.template(SELECTCOLUMNTMPL)({ size: kendo.getValidCssClass(\"k-checkbox-\", \"size\", that.options.size) }) : that._cellTmpl(column, state)(data);\n                           rowTemplateResult += \"</td>\";\n                       }\n\n                       rowTemplateResult += \"</tr>\";\n                       return rowTemplateResult;\n                   };\n               }\n\n               rowTemplate = kendo.template(rowTemplate || rowTemplateFunc, settings);\n\n               if (state.count > 0) {\n                   return rowTemplate.bind(state.storage);\n               }\n\n               return rowTemplate;\n           },\n\n           _dirtyCellTemplate: function(field) {\n               return function (data) {\n                   if (field && data && data.dirty && data.dirtyFields) {\n                       var dirtyField = field.charAt(0) === \"[\" ? kendo.getter(field)(data.dirtyFields) : data.dirtyFields[field];\n                       return dirtyField ? ' k-dirty-cell' : '';\n                   }\n\n                   return \"\";\n               };\n           },\n\n           _headerCellText: function(column) {\n               var that = this,\n                   settings = extend({}, kendo.Template, that.options.templateSettings),\n                   template = column.headerTemplate,\n                   type = typeof(template),\n                   text = column.title && (that.options.encodeTitles ? htmlEncode(column.title) : column.title) || column.field || \"\";\n\n               if (type === FUNCTION) {\n                   text = kendo.template(template, settings)({});\n               } else if (type === STRING) {\n                   text = template;\n               }\n               return text;\n           },\n\n           _cellTmpl: function(column, state) {\n               var that = this,\n                   settings = extend({}, kendo.Template, that.options.templateSettings),\n                   template = column.template,\n                   field = column.field,\n                   // html = \"\",\n                   idx,\n                   length,\n                   format = column.format,\n                   type = typeof template,\n                   columnValues = column.values;\n\n               if (column.command) {\n                   if (isArray(column.command)) {\n                       return function (data) {\n                           var html = \"\";\n                           for (idx = 0, length = column.command.length; idx < length; idx++) {\n                               if (column.command[idx].visible) {\n                                   html += column.command[idx].visible(data) ? that._createButton(column.command[idx]) : '';\n                               } else {\n                                   html += that._createButton(column.command[idx]);\n                               }\n                           }\n                           return html;\n                       };\n                   }\n                   return function () { return that._createButton(column.command); };\n               }\n\n               if (column.selectable) {\n                   return SELECTCOLUMNTMPL;\n               }\n\n               if (column.draggable) {\n                   return DRAGHANDLECOLUMNTMPL;\n               }\n\n               return function (data) {\n                   var html = that._dirtyIndicatorTemplate(field)(data);\n\n                   if (type === FUNCTION) {\n                       state.storage[\"tmpl\" + state.count] = template;\n                       html += template(data);\n                       state.count++;\n                   } else if (type === STRING) {\n                       html += kendo.template(template, settings)(data);\n                   } else if (columnValues && columnValues.length && isPlainObject(columnValues[0]) && \"value\" in columnValues[0] && field) {\n                       var v = convertToObject(columnValues);\n                       var f = v[settings.useWithBlock ? kendo.getter(field)(data) : field];\n                       html += f != null ? f : '';\n                   } else {\n                       var fieldValue = '';\n                       if (field) {\n                           field = kendo.getter(field)(data);\n                           fieldValue = field == null ? '' : field;\n                       }\n\n                       if (format) {\n                           fieldValue = kendo.format(format.replace(formatRegExp, \"$1\"), fieldValue);\n                       }\n\n                       html += column.encoded ? encode(fieldValue) : fieldValue;\n                   }\n\n                   return html;\n               };\n           },\n\n           _dirtyIndicatorTemplate: function(field) {\n               return function (data) {\n                   if (field && data && data.dirty && data.dirtyFields) {\n                       var dirtyField = field.charAt(0) === \"[\" ? kendo.getter(field)(data.dirtyFields) : data.dirtyFields[field];\n                       return dirtyField ? '<span class=\\\"k-dirty\\\"></span>' : '';\n                   }\n\n                   return \"\";\n               };\n           },\n\n           _virtualCols: function(columns) {\n               var that = this;\n               var widths = $.map(columns, function(c) { return c.hidden ? 0 : parseInt(c.width, 10); });\n               var scrollLeft = that.virtualScrollable ? kendo.scrollLeft(that.content.find(\">.k-virtual-scrollable-wrap\")) : kendo.scrollLeft(that.content);\n               var tableWidth = outerWidth(that.content);\n               var sumOfWidths = sumWidths(columns);\n               var colsToRender = [];\n               var firstColspan = 0;\n               var lastColspan = 0;\n               var hiddenColumns = 0;\n               var idx = 0;\n               var widthOfHiddenColumns = 0;\n               var considerNext;\n\n               for (idx = 0; idx < columns.length; idx++) {\n                   considerNext = (idx < widths.length - 1) ? widths[idx + 1] : 0;\n                   if (widthOfHiddenColumns + widths[idx] + 2 * considerNext < scrollLeft) {\n                       if (widths[idx]) {\n                           hiddenColumns++;\n                       }\n                       widthOfHiddenColumns += widths[idx];\n                   } else {\n                       firstColspan = 1 + hiddenColumns;\n                       break;\n                   }\n               }\n\n               hiddenColumns = 0;\n               widthOfHiddenColumns = 0;\n\n               for (var i = columns.length - 1; i >= 0; i--) {\n                   if (widthOfHiddenColumns + 3 * widths[i] < sumOfWidths - tableWidth - scrollLeft) {\n                       if (widths[i]) {\n                           hiddenColumns++;\n                       }\n                       widthOfHiddenColumns += widths[i];\n                   } else {\n                       lastColspan = 1 + hiddenColumns;\n                       for (var j = idx; j <= i; j++) {\n                           if (columns[j].locked) {\n                               continue;\n                           }\n                           colsToRender.push(columns[j]);\n                           if (columns[j].colSpan) {\n                               delete columns[j].colSpan;\n                           }\n                       }\n                       colsToRender[0].colSpan = firstColspan;\n                       colsToRender[colsToRender.length - 1].colSpan = lastColspan;\n                       break;\n                   }\n               }\n\n               if (colsToRender[0].hidden) {\n                   colsToRender[0].colSpan--;\n               }\n\n               that.virtualCols = colsToRender;\n\n               return colsToRender;\n           },\n\n           _templates: function() {\n               var that = this,\n                   options = that.options,\n                   dataSource = that.dataSource,\n                   groups = dataSource.group(),\n                   footer = that.footer || that.wrapper.find(\".k-grid-footer\"),\n                   aggregates = dataSource.aggregate(),\n                   columnLeafs = leafColumns(that.columns),\n                   columnsLocked = leafColumns(lockedColumns(that.columns)),\n                   leafsCols = options.scrollable ? leafColumns(nonLockedColumns(that.columns)) : columnLeafs,\n                   columns = (that.virtualScroll || {}).columns ? that._virtualCols(leafsCols) : leafsCols,\n                   groupHeaderColumnTemplateLockedColumns = grep(visibleColumns(columnsLocked), function(column, index) { return column.groupHeaderColumnTemplate && index !== 0; }),\n                   groupHeaderColumnTemplateNonLockedColumns = grep(visibleColumns(columns), function(column) { return column.groupHeaderColumnTemplate; });\n\n               if (options.scrollable && columnsLocked.length) {\n                   if (options.rowTemplate || options.altRowTemplate) {\n                       throw new Error(\"Having both row template and locked columns is not supported\");\n                   }\n\n                   that.rowTemplate = that._tmpl(options.rowTemplate, columns, false, true);\n                   that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true, true);\n\n                   that.lockedRowTemplate = that._tmpl(options.rowTemplate, columnsLocked);\n                   that.lockedAltRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columnsLocked, true);\n               } else {\n                   that.rowTemplate = that._tmpl(options.rowTemplate, columns);\n                   that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true);\n               }\n\n               if (that._hasDetails()) {\n                   that.detailTemplate = that._detailTmpl(options.detailTemplate || (function () { return \"\"; }));\n               }\n\n               if ((that._group && !isEmptyObject(aggregates)) || (!isEmptyObject(aggregates) && !footer.length) ||\n                   grep(columnLeafs, function(column) { return column.footerTemplate; }).length) {\n\n                   that.footerTemplate = that._footerTmpl(columnLeafs, aggregates, \"footerTemplate\", \"k-footer-template k-table-row\");\n               }\n\n               if (groups && grep(columnLeafs, function(column) { return column.groupFooterTemplate; }).length) {\n                   aggregates = $.map(groups, function(g) { return g.aggregates; });\n\n                   that.groupFooterTemplate = that._footerTmpl(columns, aggregates, \"groupFooterTemplate\", \"k-group-footer k-table-row\", columnsLocked.length);\n\n                   if (options.scrollable && columnsLocked.length) {\n                       that.lockedGroupFooterTemplate = that._footerTmpl(columnsLocked, aggregates, \"groupFooterTemplate\", \"k-group-footer k-table-row\");\n                   }\n               }\n\n               if (groups && (groupHeaderColumnTemplateLockedColumns.length || groupHeaderColumnTemplateNonLockedColumns.length)) {\n                   aggregates = $.map(groups, function(g) { return g.aggregates; });\n\n                   that.groupHeaderColumnTemplate = that._groupHeaderTmpl(visibleColumns(columns), aggregates, \"groupHeaderColumnTemplate\", \"k-table-group-row k-grouping-row k-table-row\", columnsLocked.length, groupHeaderColumnTemplateNonLockedColumns);\n\n                   if (options.scrollable && columnsLocked.length) {\n                       that.lockedGroupHeaderColumnTemplate = that._groupHeaderTmpl(visibleColumns(columnsLocked), aggregates, \"groupHeaderColumnTemplate\", \"k-table-group-row k-grouping-row k-table-row\", 0, groupHeaderColumnTemplateLockedColumns);\n                   }\n               } else {\n                   that.groupHeaderColumnTemplate = null;\n                   that.lockedGroupHeaderColumnTemplate = null;\n               }\n\n               if (that.options.noRecords) {\n                   that.noRecordsTemplate = that._noRecordsTmpl();\n               }\n           },\n\n           _noRecordsTmpl: function() {\n               var wrapper = '<div class=\"{0}\">{1}</div>';\n               var defaultTemplate = '<div class=\"k-grid-norecords-template\"{1}>{0}</div>';\n               var scrollableNoGridHeightStyles = (this.options.scrollable && !this.wrapper[0].style.height) ? ' style=\"margin:0 auto;position:static;\"' : '';\n               var state = { storage: {}, count: 0 };\n               var settings = $.extend({}, kendo.Template, this.options.templateSettings);\n               var paramName = settings.paramName;\n               var template;\n               // var html = \"\";\n               var type;\n               var tmpl;\n               var resultTemplate;\n\n               if (this.options.noRecords.template) {\n                   template = this.options.noRecords.template;\n               } else {\n                   template = kendo.format(defaultTemplate, this.options.messages.noRecords, scrollableNoGridHeightStyles);\n               }\n\n               type = typeof template;\n               if (type === \"function\") {\n                   var currentCustomTemplate = state.storage[\"tmpl\" + state.count] = template;\n                   state.count++;\n                   resultTemplate = function (data) { return kendo.format(wrapper, NORECORDSCLASS, currentCustomTemplate(data)); };\n\n               } else if (type === \"string\") {\n                   resultTemplate = this.options.noRecords.template ?\n                       kendo.format(wrapper, NORECORDSCLASS, template)\n                       : function () { return kendo.format(wrapper, NORECORDSCLASS, template); };\n               }\n\n               tmpl = kendo.template(resultTemplate, settings);\n\n               if (state.count > 0) {\n                   tmpl = tmpl.bind(state.storage);\n               }\n\n               return tmpl;\n           },\n\n           _footerTmpl: function(columns, aggregates, templateName, rowClass, skipGroupCells) {\n               var that = this,\n                   settings = extend({}, kendo.Template, that.options.templateSettings),\n                   paramName = settings.paramName,\n                   // html = \"\",\n                   idx,\n                   length,\n                   template,\n                   type,\n                   storage = {},\n                   count = 0,\n                   scope = {},\n                   groups = that._groups(),\n                   fieldsMap = that.dataSource._emptyAggregates(aggregates),\n                   column;\n\n               var footerTemplateFunction = function (data) {\n                   var html = '<tr class=\"' + rowClass + '\">';\n\n                   if (groups > 0 && !skipGroupCells) {\n                       html += groupCells(groups);\n                   }\n\n                   if (that._hasDetails()) {\n                       html += '<td class=\"k-hierarchy-cell k-table-td\">&nbsp;</td>';\n                   }\n\n                   for (idx = 0, length = columns.length; idx < length; idx++) {\n                       column = columns[idx];\n                       template = column[templateName];\n                       type = typeof template;\n\n                       html += decorateCellWithClass(\"<td\" + stringifyAttributes(column.footerAttributes) + \">\");\n\n                       if (template) {\n                           if (type !== FUNCTION) {\n                               scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + \"['\" + column.field + \"']\" }) : {};\n                               template = kendo.template(template, scope);\n                           }\n\n                           storage[\"tmpl\" + count] = template;\n                           html += template(data);\n                           count++;\n                       } else {\n                           html += \"&nbsp;\";\n                       }\n\n                       html += \"</td>\";\n                   }\n\n                   html += '</tr>';\n                   return html;\n               };\n\n               var resultTemplate = kendo.template(footerTemplateFunction, settings);\n\n               if (count > 0) {\n                   return resultTemplate.bind(storage);\n               }\n\n               return resultTemplate;\n           },\n\n           _groupHeaderTmpl: function(columns, aggregates, templateName, rowClass, skipGroupCells, groupHeaderColumnTemplateColumns) {\n               var that = this,\n                   settings = extend({}, kendo.Template, that.options.templateSettings),\n                   paramName = settings.paramName,\n                   html = \"\",\n                   idx,\n                   length,\n                   template,\n                   type,\n                   storage = {},\n                   count = 0,\n                   scope = {},\n                   fieldsMap = that.dataSource._emptyAggregates(aggregates),\n                   column,\n                   headerTemplateIndex = groupHeaderColumnTemplateColumns.length ? inArray(groupHeaderColumnTemplateColumns[0], columns) : -1,\n                   groupHeaderColumnTemplateClass;\n\n               if (headerTemplateIndex < 0) {\n                   return;\n               }\n               var groupHeaderTemplFunc = function (data) {\n                   var resultHtml = '<tr class=\"' + rowClass + '\">';\n\n                   if (!skipGroupCells) {\n                       for (var i = 0; i < data.groupCells; i++) {\n                           resultHtml += '<td class=\"k-table-td k-group-cell\">&nbsp;</td>';\n                       }\n                   }\n\n                   if (that._hasDetails()) {\n                       resultHtml += '<td class=\"k-table-td k-hierarchy-cell\">&nbsp;</td>';\n                   }\n\n                   if (headerTemplateIndex < MINCOLSPANVALUE && groupHeaderColumnTemplateColumns.length <= 1 && !skipGroupCells) {\n                       resultHtml += !skipGroupCells ? groupCellBuilder(columns.length)(data) : '';\n                       return resultHtml;\n                       // return kendo.template(resultHtml, settings);\n                   }\n\n                   if (headerTemplateIndex < MINCOLSPANVALUE) {\n                       headerTemplateIndex = !skipGroupCells ? 1 : 0;\n                       resultHtml += !skipGroupCells ? groupCellBuilder(headerTemplateIndex)(data) : '';\n                   }\n                   else {\n                       resultHtml += !skipGroupCells ? groupCellBuilder(headerTemplateIndex)(data) : groupCellLockedContentBuilder(headerTemplateIndex);\n                   }\n\n                   for (idx = headerTemplateIndex, length = columns.length; idx < length; idx++) {\n                       column = columns[idx];\n                       template = column[templateName];\n                       type = typeof template;\n\n                       if (column.sticky) {\n                           groupHeaderColumnTemplateClass = (column.groupHeaderColumnTemplateClass || '');\n\n                           if (!groupHeaderColumnTemplateClass) {\n                               groupHeaderColumnTemplateClass = column.groupHeaderColumnTemplateClass = \"group-header-column-template-\" + kendo.guid();\n                           }\n\n                           resultHtml += \"<td class='k-table-td \" + STICKY_CELL_CLASS + \" \" + groupHeaderColumnTemplateClass + \"' style='\" + (column.stickyStyle || '') + \"'>\";\n                       } else {\n                           resultHtml += \"<td class='k-table-td'>\";\n                       }\n\n                       if (template) {\n                           if (type !== FUNCTION) {\n                               scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + \"['\" + column.field + \"']\" }) : {};\n                               template = kendo.template(template, scope);\n                           }\n\n                           storage[\"tmpl\" + count] = template;\n                           resultHtml += storage[\"tmpl\" + count](data);\n                           count++;\n                       } else {\n                           resultHtml += \"&nbsp;\";\n                       }\n\n                       resultHtml += \"</td>\";\n                   }\n\n                   resultHtml += '</tr>';\n\n                   return resultHtml;\n               };\n\n               html = kendo.template(groupHeaderTemplFunc, settings);\n\n               if (count > 0) {\n                   return html.bind(storage);\n               }\n\n               return html;\n           },\n\n           _detailTmpl: function(template) {\n               var that = this,\n                   settings = extend({}, kendo.Template, that.options.templateSettings),\n                   paramName = settings.paramName,\n                   templateFunctionStorage = {},\n                   templateFunctionCount = 0,\n                   groups = that._groups(),\n                   colspan = visibleColumns(leafColumns(that.columns)).length,\n                   type = typeof template;\n\n               var detailTemplateFunction = function (data) {\n                   var html = '<tr role=\"row\" class=\"k-detail-row k-table-row\">';\n                   if (groups > 0) {\n                       html += groupCells(groups);\n                   }\n\n                   html += \"<td role=\\\"gridcell\\\" class=\\\"k-hierarchy-cell k-table-td\\\"></td><td role=\\\"gridcell\\\" class=\\\"k-table-td k-detail-cell\\\"\" + (colspan ? (\" colspan=\\\"\" + colspan + \"\\\"\") : '') + \">\";\n                   if (type === FUNCTION) {\n                       templateFunctionStorage[\"tmpl\" + templateFunctionCount] = template;\n                       html += template(data);\n                       templateFunctionCount++;\n                   } else {\n                       html += kendo.template(template, settings)(data);\n                   }\n\n                   html += \"</td></tr>\";\n                   return html;\n               };\n\n               var resultTemplate = kendo.template(detailTemplateFunction, settings);\n\n               if (templateFunctionCount > 0) {\n                   return resultTemplate.bind(templateFunctionStorage);\n               }\n\n               return resultTemplate;\n           },\n\n           _hasDetails: function() {\n               var that = this;\n\n               return that.options.detailTemplate !== null || (that._events[DETAILINIT] || []).length;\n           },\n           _hasFilterRow: function() {\n               var filterable = this.options.filterable;\n               var hasFiltering = filterable &&\n                       typeof filterable.mode == STRING &&\n                       filterable.mode.indexOf(ROW) != -1;\n               var columns = this.columns;\n               var columnsWithoutFiltering = $.grep(columns, function(col) {\n                   return col.filterable === false;\n               });\n\n               if (columns.length && columnsWithoutFiltering.length == columns.length) {\n                   hasFiltering = false;\n               }\n\n               return hasFiltering;\n           },\n\n           _details: function() {\n               var that = this;\n\n               if (that.options.scrollable && that._hasDetails() && lockedColumns(that.columns).length) {\n                   throw new Error(\"Having both detail template and locked columns is not supported\");\n               }\n\n               that.table.on(CLICK + NS, \".k-hierarchy-cell \" + CARET_ALT_RIGHT + \", .k-hierarchy-cell \" + CARET_ALT_DOWN, function(e) {\n                   var button = $(this);\n\n                   that._toggleDetails(button);\n                   e.preventDefault();\n                   return false;\n               });\n           },\n\n           _toggleDetails: function(button, omitAnimation) {\n               var that = this,\n               cell = button.closest(\"td.k-hierarchy-cell\"),\n               expanding = button.is(CARET_ALT_RIGHT),\n               masterRow = button.closest(\"tr.k-master-row\"),\n               masterRowIndex = masterRow.attr(ARIA_ROWINDEX),\n               detailRow,\n               detailTemplate = that.detailTemplate,\n               data,\n               hasDetails = that._hasDetails(),\n               ariaLabelText = expanding ? COLLAPSE : EXPAND,\n               ariaExpandText = expanding ? true : false;\n\n               if (!expanding) {\n                   kendo.ui.icon(button, { icon: (\"caret-alt-\" + (isRtl ? 'left' : 'right')) });\n               } else {\n                   kendo.ui.icon(button, { icon: \"caret-alt-down\" });\n               }\n\n               button.attr(ARIA_LABEL, ariaLabelText);\n\n               cell.attr(ARIA_EXPANDED, ariaExpandText);\n\n               detailRow = masterRow.next();\n\n               if (hasDetails && !detailRow.hasClass(\"k-detail-row\")) {\n                   data = that.dataItem(masterRow);\n\n                   detailRow = $(detailTemplate(data))\n                       .addClass(masterRow.hasClass(\"k-alt\") ? \"k-alt\" : \"\")\n                       .insertAfter(masterRow);\n\n                   if (masterRowIndex || masterRowIndex === 0) {\n                       detailRow.attr(ARIA_ROWINDEX, Number(masterRowIndex) + 1);\n                   }\n\n                   that.angular(\"compile\", function() {\n                       return {\n                           elements: detailRow.get(),\n                           data: [ { dataItem: data } ]\n                       };\n                   });\n\n                   that.trigger(DETAILINIT, { masterRow: masterRow, detailRow: detailRow, data: data, detailCell: detailRow.find(\".k-detail-cell\") });\n               }\n\n               that.trigger(expanding ? DETAILEXPAND : DETAILCOLLAPSE, { masterRow: masterRow, detailRow: detailRow });\n\n               if (omitAnimation) {\n                   toggleRow(detailRow, expanding);\n               } else {\n                   detailRow.toggle(expanding);\n               }\n           },\n\n           dataItem: function(tr) {\n               tr = $(tr)[0];\n               if (!tr) {\n                   return null;\n               }\n\n               var rows = this.tbody.children(),\n                   classesRegEx = /k-grouping-row|k-detail-row|k-group-footer/,\n                   idx = tr.sectionRowIndex,\n                   j, correctIdx;\n\n               correctIdx = idx;\n\n               for (j = 0; j < idx; j++) {\n                   if (classesRegEx.test(rows[j].className)) {\n                       correctIdx--;\n                   }\n               }\n\n               return this._data[correctIdx];\n           },\n\n           expandRow: function(tr, omitAnimation) {\n               var button = $(tr).find('> td ' + CARET_ALT_RIGHT);\n\n               if (button.length) {\n                   this._toggleDetails(button, omitAnimation);\n               }\n           },\n\n           collapseRow: function(tr, omitAnimation) {\n               var button = $(tr).find('> td ' + CARET_ALT_DOWN);\n\n               if (button.length) {\n                   this._toggleDetails(button, omitAnimation);\n               }\n           },\n\n           _createHeaderCells: function(columns, rowSpan) {\n               var that = this,\n                   idx,\n                   th,\n                   text,\n                   html = \"\",\n                   length,\n                   title,\n                   columnMenu = that.options.columnMenu,\n                   sortable = that.options.sortable,\n                   filterable = that._hasFilterMenu(),\n                   messages = that.options.messages,\n                   leafs = leafColumns(that.columns),\n                   groups = that.dataSource.group(),\n                   field;\n\n               for (idx = 0, length = columns.length; idx < length; idx++) {\n                   th = columns[idx].column || columns[idx];\n                   text = that._headerCellText(th);\n                   title = th.title;\n                   field = \"\";\n\n                   var index = inArray(th, leafs);\n                   var currentTh = \"\";\n\n                   if (th.selectable) {\n                       currentTh += \"<th scope='col'\" + stringifyAttributes(th.headerAttributes);\n\n                       if (rowSpan && !columns[idx].colSpan) {\n                           currentTh += \" rowspan='\" + rowSpan + \"'\";\n                       }\n\n                       if (index > -1) {\n                           currentTh += kendo.attr(\"index\") + \"='\" + index + \"'\";\n                       }\n                       text = th.headerTemplate ? text : kendo.template(SELECTCOLUMNHEADERTMPL)({ size: kendo.getValidCssClass(\"k-checkbox-\", \"size\", that.options.size) });\n                       currentTh += \">\" + text + \"</th>\";\n                   } else if (th.draggable) {\n                       currentTh += \"<th class='k-header k-drag-cell' scope='col'\" + stringifyAttributes(th.headerAttributes);\n\n                       if (rowSpan && !columns[idx].colSpan) {\n                           currentTh += \" rowspan='\" + rowSpan + \"'\";\n                       }\n\n                       if (index > -1) {\n                           currentTh += kendo.attr(\"index\") + \"='\" + index + \"'\";\n                       }\n                       text = th.headerTemplate ? text : \"\";\n                       currentTh += \">\" + text + \"</th>\";\n                   } else if (th.command) {\n                       currentTh += \"<th scope='col'\" + stringifyAttributes(th.headerAttributes);\n\n                       if (rowSpan && !columns[idx].colSpan) {\n                           currentTh += \" rowspan='\" + rowSpan + \"'\";\n                       }\n\n                       if (index > -1) {\n                           currentTh += kendo.attr(\"index\") + \"='\" + index + \"'\";\n                       }\n\n                       currentTh += \">\" + text + \"</th>\";\n                   } else {\n                       if (th.field) {\n                           field = kendo.attr(\"field\") + \"='\" + th.field + \"' \";\n                       }\n\n                       currentTh += \"<th scope='col' \" + field;\n                       if ((columnMenu && th.field && th.menu !== false)) {\n                           currentTh += \" aria-haspopup='menu'\";\n                       } else if (filterable && th.filterable !== false && !th.command) {\n                           currentTh += \" aria-haspopup='dialog'\";\n                       }\n\n                       if (rowSpan && !columns[idx].colSpan) {\n                           currentTh += \" rowspan='\" + rowSpan + \"'\";\n                       }\n\n                       if (columns[idx].colSpan > 1) {\n                           currentTh += 'colspan=\"' + (columns[idx].colSpan - hiddenLeafColumnsCount(th.columns)) + '\" ';\n                           currentTh += kendo.attr(\"colspan\") + \"='\" + columns[idx].colSpan + \"'\";\n                       } else if (columns[idx].colSpan === 1) {\n                           currentTh += kendo.attr(\"colspan\") + \"='\" + columns[idx].colSpan + \"'\";\n                       }\n\n                       if (title) {\n                           title = title && (that.options.encodeTitles ? htmlEncode(title, true) : title);\n                           currentTh += kendo.attr(\"title\") + '=\"' + title + '\" ';\n                       }\n\n                       if (th.groupable !== undefined$1) {\n                           currentTh += kendo.attr(\"groupable\") + \"='\" + th.groupable + \"' \";\n                       }\n\n                       if (isColumnGroupable(that, th) && (!th.headerAttributes || !th.headerAttributes.title)) {\n                           currentTh += \"title='\";\n                           currentTh += isGroupedBy(groups, th.field) ? messages.ungroupHeader : messages.groupHeader;\n                           currentTh += \"' \";\n                       }\n\n                       if (th.aggregates && th.aggregates.length) {\n                           currentTh += kendo.attr(\"aggregates\") + \"='\" + th.aggregates + \"'\";\n                       }\n\n                       if (index > -1) {\n                           currentTh += kendo.attr(\"index\") + \"='\" + index + \"'\";\n                       }\n\n                       currentTh += stringifyAttributes(th.headerAttributes);\n\n                       if (sortable) {\n                           text = kendo.template(SORTHEADERTMPL)({ text: text });\n                       }\n\n                       currentTh += \">\" + text + \"</th>\";\n                   }\n                   html += $(currentTh).addClass(\"k-table-th\")[0].outerHTML;\n               }\n               return html;\n           },\n\n           _appendLockedColumnContent: function() {\n               var columns = this.columns,\n                   idx,\n                   colgroup = this.table.find(\"colgroup\"),\n                   cols = colgroup.find(COLGROUP),\n                   length,\n                   lockedCols = $(),\n                   skipHiddenCount = 0,\n                   container,\n                   colSpan,\n                   spanIdx,\n                   colOffset = 0;\n\n               for (idx = 0, length = columns.length; idx < length; idx++) {\n                   if (columns[idx].locked) {\n\n                       if (isVisible(columns[idx])) {\n                           colSpan = 1;\n\n                           if (columns[idx].columns) {\n                               colSpan = leafColumns(columns[idx].columns).length - hiddenLeafColumnsCount(columns[idx].columns);\n                           }\n\n                           colSpan = colSpan || 1;\n                           for (spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                               lockedCols = lockedCols.add(cols.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                           }\n                           colOffset += colSpan - 1;\n                       } else {\n                           skipHiddenCount ++;\n                       }\n                   }\n               }\n\n               container = $('<div class=\"k-grid-content-locked\"><table class=\"k-grid-table k-table\"><colgroup></colgroup><tbody class=\"k-table-tbody\"></tbody></table></div>');\n               // detach is required for IE8, otherwise it switches to compatibility mode\n               colgroup.detach();\n               container.find(\"colgroup\").append(lockedCols);\n               colgroup.insertBefore(this.table.find(\"tbody\"));\n\n               this.lockedContent = container.insertBefore(this.content);\n               this.lockedTable = container.children(\"table\");\n               this.lockedTable.addClass(kendo.getValidCssClass(\"k-table-\", \"size\", this.options.size));\n           },\n\n           _appendLockedColumnFooter: function() {\n               var that = this;\n               var footer = that.footer;\n               var cells = footer.find(\".k-footer-template>td\");\n               var cols = footer.find(\".k-grid-footer-wrap>table>colgroup>col\");\n               var html = $('<div class=\"k-grid-footer-locked\"><table class=\"k-grid-footer-table k-table\"><colgroup></colgroup><tfoot class=\"k-table-tfoot\"><tr class=\"k-footer-template k-table-row\"></tr></tfoot></table></div>');\n               var idx, length;\n               var groups = that._groups();\n               var lockedCells = $(), lockedCols = $();\n\n               html.find(\"table\").addClass(kendo.getValidCssClass(\"k-table-\", \"size\", this.options.size));\n\n               lockedCells = lockedCells.add(cells.filter(\".k-group-cell\"));\n               for (idx = 0, length = leafColumns(lockedColumns(that.columns)).length; idx < length; idx++) {\n                   lockedCells = lockedCells.add(cells.eq(idx + groups));\n               }\n\n               lockedCols = lockedCols.add(cols.filter(\".k-group-col\"));\n               for (idx = 0, length = visibleColumns(leafColumns(visibleLockedColumns(that.columns))).length; idx < length; idx++) {\n                   lockedCols = lockedCols.add(cols.eq(idx + groups));\n               }\n\n               lockedCells.appendTo(html.find(TR));\n               lockedCols.appendTo(html.find(\"colgroup\"));\n               that.lockedFooter = html.prependTo(footer);\n           },\n\n           _appendLockedColumnHeader: function(container) {\n               var that = this,\n                   columns = this.columns,\n                   idx,\n                   html,\n                   length,\n                   colgroup,\n                   tr,\n                   trFilter,\n                   table,\n                   header,\n                   filtercellCells,\n                   rows = [],\n                   skipHiddenCount = 0,\n                   cols = $(),\n                   hasFilterRow = that._hasFilterRow(),\n                   filterCellOffset = 0,\n                   filterCells = $(),\n                   cell,\n                   leafColumnsCount = 0,\n                   cells = $();\n\n               colgroup = that.thead.prev().find(COLGROUP);\n               header = that.thead.find(TR).first().find(\".k-header:not(.k-group-cell,.k-hierarchy-cell)\");\n               filtercellCells = that.thead.find(\".k-filter-row\").find(\"td:not(.k-group-cell,.k-hierarchy-cell)\");\n\n               var colOffset = 0;\n               for (idx = 0, length = columns.length; idx < length; idx++) {\n                   if (columns[idx].locked) {\n                       cell = header.eq(idx);\n                       leafColumnsCount = leafColumns(columns[idx].columns || []).length;\n\n                       if (isVisible(columns[idx])) {\n                           var colSpan = null;\n\n                           if (columns[idx].columns) {\n                               colSpan = leafColumnsCount - hiddenLeafColumnsCount(columns[idx].columns);\n                           }\n\n                           colSpan = colSpan || 1;\n                           for (var spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                               cols = cols.add(colgroup.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                           }\n                           colOffset += colSpan - 1;\n                       }\n\n                       mapColumnToCellRows([columns[idx]], childColumnsCells(cell), rows, 0, 0);\n\n                       leafColumnsCount = leafColumnsCount || 1;\n                       for (var j = 0; j < leafColumnsCount; j++) {\n                           filterCells = filterCells.add(filtercellCells.eq(filterCellOffset + j));\n                       }\n                       filterCellOffset += leafColumnsCount;\n                   }\n\n                   if (columns[idx].columns) {\n                       skipHiddenCount += hiddenLeafColumnsCount(columns[idx].columns);\n                   }\n\n                   if (!isVisible(columns[idx])) {\n                       skipHiddenCount++;\n                   }\n               }\n\n               if (rows.length) {\n                   html = '<div class=\"k-grid-header-locked\"><table class=\"k-grid-header-table k-table\"><colgroup></colgroup><thead class=\"k-table-thead\">';\n                   html += new Array(rows.length + 1).join(\"<tr class='k-table-row'></tr>\");\n                   html += (hasFilterRow ? '<tr class=\"k-filter-row k-table-row\"></tr>' : '') + '</thead></table></div>';\n\n                   table = $(html);\n\n                   table.find('.k-grid-header-locked').css('width', '1px');\n\n                   table.find(\"table\").addClass(kendo.getValidCssClass(\"k-table-\", \"size\", that.options.size));\n                   colgroup = table.find(\"colgroup\");\n                   colgroup.append(that.thead.prev().find(\"col.k-group-col\").add(cols));\n\n                   tr = table.find(\"thead tr:not(.k-filter-row)\");\n                   for (idx = 0, length = rows.length; idx < length; idx++) {\n                       cells = toJQuery(rows[idx]);\n                       tr.eq(idx).append(that.thead.find(TR).eq(idx).find(\".k-group-cell\").add(cells));\n                   }\n\n                   var count = removeEmptyRows(this.thead);\n                   if (rows.length < count) {\n                       removeRowSpanValue(table, count - rows.length);\n                   }\n\n                   trFilter = table.find(\".k-filter-row\");\n                   trFilter.append(that.thead.find(\".k-filter-row .k-group-cell\").add(filterCells));\n\n                   this.lockedHeader = table.prependTo(container);\n                   this.thead.find(\".k-group-cell\").remove();\n\n                   return true;\n               }\n               return false;\n           },\n\n           _removeLockedContainers: function() {\n               var elements = this.lockedHeader\n                   .add(this.lockedContent)\n                   .add(this.lockedFooter);\n\n               kendo.destroy(elements);\n               elements.off(NS).remove();\n\n               this.lockedHeader = this.lockedContent = this.lockedFooter = null;\n               this.selectable = null;\n           },\n\n           _thead: function() {\n               var that = this,\n                   columns = that.columns,\n                   hasDetails = that._hasDetails() && columns.length,\n                   hasFilterRow = that._hasFilterRow(),\n                   idx,\n                   html = \"\",\n                   thead = that.table.find(\">thead\"),\n                   hasTHead = that.element.find(\"thead\").first().length > 0,\n                   headerContent = that.options.messages.expandCollapseColumnHeader,\n                   tr;\n\n               if (!thead.length) {\n                   thead = $(\"<thead class='k-table-thead' role='rowgroup'/>\").insertBefore(that.tbody);\n               }\n\n               if (that.lockedHeader && that.thead) {\n                   tr = that.thead.find(\"tr:has(th):not(.k-filter-row)\").html(\"\");\n                   tr.remove();\n                   tr = $();\n\n                   that._removeLockedContainers();\n               } else if (hasTHead) {\n                   tr = that.element.find(\"thead\").first().find(\"tr:has(th):not(.k-filter-row)\");\n               } else {\n                   tr = that.element.find(\"tr:has(th)\").first();\n               }\n\n               if (!tr.length) {\n                   tr = thead.children().first();\n                   if (!tr.length) {\n                      var rows = [{ rowSpan: 1, cells: [], index: 0 }];\n                      that._prepareColumns(rows, columns);\n\n                      for (idx = 0; idx < rows.length; idx++) {\n                          html += \"<tr class='k-table-row'>\";\n                          if (hasDetails) {\n                              html += '<th class=\"k-hierarchy-cell k-table-th\" scope=\"col\">' + headerContent + '</th>';\n                          }\n                          html += that._createHeaderCells(rows[idx].cells, rows[idx].rowSpan);\n                          html += \"</tr>\";\n                      }\n\n                      tr = $(html);\n                   }\n               } else {\n                   for (idx = 0; idx < columns.length; idx++) {\n   \t\t\t\t\tvar columnIndex = inArray(columns[idx], leafColumns(columns));\n   \t\t\t\t\tvar cell = leafDataCells(tr.parent()).filter(\"th:not(.k-group-cell):not(.k-hierarchy-cell)\").eq(columnIndex);\n   \t\t\t\t\tif (columns[idx].hidden && columnIndex >= 0) {\n   \t\t\t\t\t\tcell[0].style.display = NONE;\n   \t\t\t\t\t}\n                  }\n\n                  that._updateHeadersAttr(childColumns(columns));\n   \t\t\t}\n\n               if (hasFilterRow) {\n                   var filterRow = $(\"<tr/>\");\n                   filterRow.addClass(\"k-filter-row k-table-row\");\n                   if (hasDetails || tr.find(\".k-hierarchy-cell\").length) { // handles server side detail template\n                       filterRow.prepend('<td class=\"k-table-td k-hierarchy-cell\">&nbsp;</td>');\n                   }\n\n                   var existingFilterRow = (that.thead || thead).find(\".k-filter-row\");\n                   if (existingFilterRow.length) {\n                       kendo.destroy(existingFilterRow);\n                       existingFilterRow.remove();\n                   }\n\n                   thead.append(filterRow);\n               }\n\n               if (!tr.children().length) {\n                   html = \"\";\n                   if (hasDetails) {\n                       html += '<th class=\"k-hierarchy-cell k-table-th\" scope=\"col\">&nbsp;</th>';\n                   }\n\n                   html += that._createHeaderCells(columns);\n\n                   tr.html(html);\n               } else if (hasDetails && !tr.find(\".k-hierarchy-cell\")[0]) {\n                   tr.prepend('<th class=\"k-hierarchy-cell k-table-th\" scope=\"col\">' + (headerContent ? headerContent : '&nbsp;') + '</th>');\n               }\n\n               tr.find(\"th\").addClass(\"k-header\");\n\n               if (!that.options.scrollable) {\n                   thead.addClass(\"k-grid-header\");\n               }\n\n               tr.find(\"script\").remove().end().prependTo(thead);\n\n               if (that.thead) {\n                   that._destroyColumnAttachments();\n               }\n\n               this.angular(\"cleanup\", function() {\n                   return {\n                       elements: thead.find(\"th\" + NAVCELL).get()\n                   };\n               });\n\n               this.angular(\"compile\", function() {\n                   return {\n                       elements: thead.find(HEADERCELLS).get(),\n                       data: map(columns, function(col) { return { column: col }; })\n                   };\n               });\n\n               that.thead = thead;\n\n               that._sortable();\n\n               that._filterable();\n\n               that._filterRow();\n\n               that._scrollable();\n\n               that._columnMenu();\n\n               var syncHeight;\n               var hasLockedColumns = this.options.scrollable && lockedColumns(this.columns).length;\n\n               if (hasLockedColumns) {\n\n                   syncHeight = that._appendLockedColumnHeader(that.thead.closest(\".k-grid-header\"));\n\n                   that._appendLockedColumnContent();\n\n                   that.lockedContent.on(\"DOMMouseScroll\" + NS + \" mousewheel\" + NS, that._wheelScroll.bind(that));\n\n                   if (kendo.support.touch) {\n                       that._lockedContentUserEvents = new kendo.UserEvents(that.lockedContent, {\n                           move: function(e) {\n                               that.content.scrollTop(that.content.scrollTop() + (-e.y.delta));\n                               e.preventDefault();\n                           }\n                       });\n                   }\n\n                   that._updateLockedCols();\n               }\n\n               that._updateCols();\n\n               that._updateColumnCellIndex();\n\n               that._updateFirstColumnClass();\n\n               that._resizable();\n\n               that._draggable();\n\n               that._reorderable();\n\n               that._updateHeader(that._groups());\n\n               that._updateStickyColumns();\n\n               if (hasLockedColumns) {\n                   if (syncHeight) {\n                       that._syncLockedHeaderHeight();\n                   }\n\n                   that._applyLockedContainersWidth();\n               }\n\n               if (that.groupable) {\n                   that._attachGroupable();\n               }\n           },\n\n           _retrieveFirstColumn: function(columns, rows) {\n               var result = $();\n\n               if (rows.length && columns[0]) {\n                   var column = columns[0];\n\n                   while (column.columns && column.columns.length) {\n                       column = column.columns[0];\n                       rows = rows.filter(\":not(:first)\");\n                   }\n\n                   result = result.add(rows);\n               }\n\n               return result;\n           },\n\n           _updateFirstColumnClass: function() {\n               var that = this,\n                   columns = that.columns || [],\n                   hasDetails = that._hasDetails() && columns.length;\n\n               if (!hasDetails && !that._groups()) {\n                   var tr = that.thead.find(\">tr:not(.k-filter-row):not(:first)\");\n                   columns = nonLockedColumns(columns);\n\n                   var rows = that._retrieveFirstColumn(columns, tr);\n\n                   if (that._isLocked()) {\n                       tr = that.lockedHeader.find(\"thead>tr:not(.k-filter-row):not(:first)\");\n                       columns = lockedColumns(that.columns);\n\n                       rows = rows.add(that._retrieveFirstColumn(columns, tr));\n                   }\n\n                   rows.each(function() {\n                       var ths = $(this).find(\"th\");\n                       ths.removeClass(\"k-first\");\n                       ths.eq(0).addClass(\"k-first\");\n                   });\n               }\n           },\n\n           _prepareColumns: function(rows, columns, parentCell, parentRow) {\n               var row = parentRow || rows[rows.length - 1];\n\n               var childRow = rows[row.index + 1];\n               var totalColSpan = 0;\n\n               for (var idx = 0; idx < columns.length; idx++) {\n                   var cell = { column: columns[idx], colSpan: 0 };\n                   row.cells.push(cell);\n\n                   if (columns[idx].columns && columns[idx].columns.length) {\n                       if (!childRow) {\n                           childRow = { rowSpan: 0, cells: [], index: rows.length };\n                           rows.push(childRow);\n                       }\n                       cell.colSpan = columns[idx].columns.length;\n                       this._prepareColumns(rows, columns[idx].columns, cell, childRow);\n                       totalColSpan += cell.colSpan - 1;\n                       row.rowSpan = rows.length - row.index;\n                   }\n               }\n               if (parentCell) {\n                   parentCell.colSpan += totalColSpan;\n               }\n           },\n\n           _wheelScroll: function(e) {\n               if (e.ctrlKey) {\n                   return;\n               }\n\n               var content = this.content;\n\n               if (this.virtualScroll && this.virtualScroll.rows) {\n                   content = this.virtualScrollable.verticalScrollbar;\n               }\n\n               var scrollTop = content.scrollTop(),\n                   delta = kendo.wheelDeltaY(e);\n\n               if (delta) {\n                   if (content[0].scrollHeight > content[0].clientHeight &&\n                       (content[0].scrollTop < content[0].scrollHeight - content[0].clientHeight && delta < 0 ||\n                       content[0].scrollTop > 0 && delta > 0)) {\n                       e.preventDefault();\n                   }\n\n                   content.scrollTop(scrollTop + (-delta));\n               }\n           },\n\n           _isLocked: function() {\n               return this.lockedHeader != null;\n           },\n\n           _updateHeaderCols: function() {\n               var table = this.thead.parent().add(this.table);\n\n               if (this._isLocked()) {\n                   normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n               } else {\n                   normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), 0);\n               }\n           },\n\n           _updateColumnSorters: function() {\n               var that = this;\n               var cells = leafDataCells(that.thead);\n               var columns = leafColumns(that.columns);\n               var column;\n               var cell;\n               var sorterInstance;\n\n               if (!that.options.sortable) {\n                   return;\n               }\n\n               for (var idx = 0, length = cells.length; idx < length; idx++) {\n                   column = columns[idx];\n\n                   if (column.sortable !== false && !column.command && column.field) {\n                       cell = cells.eq(idx);\n\n                       sorterInstance = cell.data(\"kendoColumnSorter\");\n\n                       if (sorterInstance) {\n                           sorterInstance.refresh();\n                       }\n                   }\n               }\n           },\n\n           _updateHeadersAttr: function(columns) {\n               if (!columns.length) {\n                   return;\n               }\n\n               var that = this;\n\n               for (var i = 0; i < columns.length; i++) {\n                   if (columns[i].headerAttributes) {\n                       var th = that.element.find(\"[id='\" + columns[i].headerAttributes.id + \"']\");\n                       th.attr(\"headers\", columns[i].headerAttributes.headers);\n                   }\n               }\n\n               that._updateHeadersAttr(childColumns(columns));\n           },\n\n           _updateCols: function(table) {\n               table = table || this.thead.parent().add(this.table);\n\n               this._appendCols(table, this._isLocked());\n           },\n\n           _updateLockedCols: function(table) {\n               if (this._isLocked()) {\n                   table = table || this.lockedHeader.find(\"table\").add(this.lockedTable);\n\n                   normalizeCols(table, visibleLeafColumns(visibleLockedColumns(this.columns)), this._hasDetails(), this._groups());\n               }\n           },\n\n           _appendCols: function(table, locked) {\n               if (locked) {\n                   normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n               } else {\n                   normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), this._groups());\n               }\n           },\n\n           _autoColumns: function(schema) {\n               if (schema && schema.toJSON) {\n                   var that = this,\n                       field,\n                       encoded;\n\n                   schema = schema.toJSON();\n\n                   encoded = !(that.table.find(\"tbody tr\").length > 0 && (!that.dataSource || !that.dataSource.transport));\n\n                   for (field in schema) {\n                       that.columns.push({ field: field, encoded: encoded, headerAttributes: { id: kendo.guid() } });\n                   }\n\n                   that._thead();\n\n                   that._templates();\n               }\n           },\n\n           _setRowCachedHeight: function(row, uid) {\n               var cachedHeights = this._cachedRowsHeight,\n                   cachedHeight = cachedHeights[uid],\n                   $row;\n\n               if (cachedHeight) {\n                   $row = $(row);\n                   $row[0].style.height = cachedHeight + \"px\";\n                   row = $row.prop(\"outerHTML\");\n               }\n\n               return row;\n           },\n\n           _rowsHtml: function(data, templates) {\n               var that = this,\n                   html = \"\",\n                   idx,\n                   rowTemplate = templates.rowTemplate,\n                   altRowTemplate = templates.altRowTemplate,\n                   cachedHeights = that._cachedRowsHeight,\n                   length, row;\n\n               for (idx = 0, length = data.length; idx < length; idx++) {\n                   if (that._skipRerenderItemsCount > 0) {\n                       that._skipRerenderItemsCount--;\n                   } else {\n                       if (idx % 2) {\n                           row = altRowTemplate(data[idx]);\n                       } else {\n                           row = rowTemplate(data[idx]);\n                       }\n\n                       if (cachedHeights) {\n                           row = that._setRowCachedHeight(row, data[idx].uid);\n                       }\n\n                       html += row;\n                   }\n                   that._data.push(data[idx]);\n               }\n\n               return html;\n           },\n\n           _groupData: function(group, skipFooter, firstColumn) {\n               var that = this,\n                   footerDefaults = that._groupAggregatesDefaultObject || {},\n                   groupItems = group.items,\n                   aggregates = extend({}, footerDefaults, group.aggregates),\n                   headerData = extend({}, {\n                       field: group.field,\n                       value: group.value,\n                       items: groupItems,\n                       aggregates: aggregates\n                   }, group.aggregates[firstColumn ? firstColumn.field : group.field]),\n                   footerData = {};\n\n               if (!skipFooter) {\n                   for (var aggregate in aggregates) {\n                       footerData[aggregate] = extend({}, aggregates[aggregate],\n                           { group: { field: group.field, value: group.value, items: groupItems } }\n                       );\n                   }\n               }\n               return extend({}, footerData, headerData);\n           },\n\n           _removeGroupIfEmpty: function(row) {\n               var that = this,\n                   itemsCount,\n                   subgroupsCount,\n                   length = that.dataSource._group.length;\n\n               for (var i = 0; i < length; i++) {\n                   row = row.prev();\n                   itemsCount = +row.attr('data-group-item-count');\n                   subgroupsCount = +row.attr('data-sub-group-count');\n\n                   if (itemsCount == 1 || subgroupsCount == 1) {\n                       row.hide();\n                   }\n\n               }\n           },\n\n           _groupRowHtml: function(group, colspan, level, groupHeaderBuilder, templates, skipColspan, skipLastGroup, isLockedTable) {\n               var that = this,\n                   html = \"\",\n                   idx,\n                   length,\n                   isLocked = that.lockedContent != null,\n                   field = group.field,\n                   column = grep(leafColumns(that.columns), function(column) { return column.field == field; })[0] || { },\n                   firstColumn = visibleColumns(that.columns)[0],\n                   firstVisibleColumnGroupHeaderTemplate = firstColumn ? firstColumn.groupHeaderColumnTemplate : null,\n                   template = column.groupHeaderTemplate ? column.groupHeaderTemplate : firstVisibleColumnGroupHeaderTemplate,\n                   text = (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || field) + ': ' + formatGroupValue(group.value, column.format, column.values, column.encoded),\n                   groupItems = group.currentItems || group.items,\n                   groups = that._groups(),\n                   groupFooterTemplate = templates.groupFooterTemplate,\n                   groupHeaderColumnTemplate = templates.groupHeaderColumnTemplate,\n                   groupData,\n                   isGroupPaged = that.dataSource._isGroupPaged(),\n                   expanded = isGroupPaged ? that.dataSource._groupsState[group.uid] : true;\n\n               if (that.options.editable && group.items && group.items[0] && group.items[0].isNew && group.items[0].isNew()) {\n                   expanded = true;\n               }\n\n               if (templates.groupFooterTemplate || templates.groupHeaderColumnTemplate || column.groupHeaderTemplate) {\n                   groupData = that._groupData(group, false, !column.groupHeaderTemplate && visibleColumns(that.columns)[0].groupHeaderColumnTemplate ? visibleColumns(that.columns)[0] : false);\n               }\n               if (template && !skipColspan) {\n                   text = typeof template === FUNCTION ? template(groupData) : kendo.template(template)(groupData);\n               }\n\n               if (!that._skipRerenderItemsCount) {\n                   if (!group.excludeHeader) {\n                       html += groupHtmlBuilder(groupHeaderColumnTemplate, groupHeaderBuilder, colspan, groups - level, groupData, level, text, expanded, group, isGroupPaged);\n                   } else if (isLocked) {\n                       group.excludeHeader = isLockedTable ? false : true;\n                   } else {\n                       group.excludeHeader = false;\n                   }\n               } else {\n                   groupHeaderBuilder(colspan, level, text, expanded, group.uid, isGroupPaged);\n               }\n\n               if (expanded) {\n                   if (group.hasSubgroups) {\n                       for (idx = 0, length = groupItems.length; idx < length; idx++) {\n                           html += that._groupRowHtml(groupItems[idx], skipColspan ? colspan : colspan - 1, level + 1, groupHeaderBuilder, templates, skipColspan, skipLastGroup && idx === groupItems.length - 1, isLockedTable);\n                       }\n                   } else {\n                       html += that._rowsHtml(groupItems, templates);\n                   }\n               }\n\n               if (groupFooterTemplate) {\n\n                   if (skipLastGroup) {\n                       if (!inArray(group.value, that._skippedGroups)) {\n                           that._skippedGroups.push(group.value);\n                       }\n                   } else {\n                       if (that._skippedGroups.length && that._skippedGroups[0] === group.value) {\n                           that._skippedGroups.shift();\n                       }\n                       if (!that._skipRerenderItemsCount) {\n                           html += groupFooterTemplate(groupData);\n                       }\n                   }\n               }\n               return html;\n           },\n\n           collapseGroup: function(group) {\n               var level,\n                   that = this,\n                   groupToCollapse = group,\n                   groupable = this.options.groupable,\n                   showFooter = groupable.showFooter,\n                   footerCount = showFooter ? 0 : 1,\n                   offset,\n                   relatedGroup = $(),\n                   idx,\n                   length,\n                   tr;\n\n               group = $(group);\n               level = group.find(\".k-group-cell\").length;\n\n               if (this.dataSource._isGroupPaged()) {\n                   var groupUid = group.attr(\"data-group-uid\");\n                   var groupObject = that.dataSource._getGroupByUid(groupUid);\n                   var currentGroupCount = that.dataSource._calculateGroupsTotal([groupObject], true);\n                   var groupCountAfterCollapse;\n\n                   that.dataSource._groupsState[groupUid] = false;\n                   groupCountAfterCollapse = that.dataSource._calculateGroupsTotal([groupObject], true);\n                   that.dataSource._serverGroupsTotal -= currentGroupCount - groupCountAfterCollapse;\n                   that._progress(true);\n                   that.dataSource.range(that.dataSource._currentRangeStart, that.dataSource.take(), function() {\n                       that._progress(false);\n                   }, \"collapseGroup\");\n                   return;\n               }\n\n               if (this._isLocked()) {\n                   if (!group.closest(DIV).hasClass(\"k-grid-content-locked\")) {\n                       relatedGroup = group.nextAll(TR);\n                       group = this.lockedTable.find(\">tbody>tr\").eq(group.index());\n                   } else {\n                       relatedGroup = this.tbody.children(TR).eq(group.index()).nextAll(TR);\n                   }\n               }\n\n               if (group.find(CARET_ALT_DOWN).length) {\n                   kendo.ui.icon(group.find(CARET_ALT_DOWN), { icon: (\"caret-alt-\" + (isRtl ? 'left' : 'right')) });\n               }\n\n               group.find(\"td[aria-expanded='true']\").first().attr(ARIA_EXPANDED, false)\n                   .find(\"a\").attr(ARIA_LABEL, EXPAND);\n\n               group = group.nextAll(TR);\n\n               var toHide = [];\n\n               for (idx = 0, length = group.length; idx < length; idx ++ ) {\n                   tr = group.eq(idx);\n                   offset = tr.find(\".k-group-cell\").length;\n\n                   if (tr.hasClass(GROUPING_ROW)) {\n                       footerCount++;\n                   } else if (tr.hasClass(\"k-group-footer\")) {\n                       footerCount--;\n                   }\n\n                   if (offset <= level || (tr.hasClass(\"k-group-footer\") && footerCount < 0)) {\n                       break;\n                   }\n\n                   if (relatedGroup.length) {\n                       toHide.push(relatedGroup[idx]);\n                   }\n                   toHide.push(tr[0]);\n               }\n\n               $(toHide).hide();\n\n               if (this.options.scrollable.endless && this.content) {\n                   clearTimeout(that._collapseGroupsTimeOut);\n                   that._collapseGroupsTimeOut = setTimeout(function() {\n                       that.content.scroll();\n                       that._groupToCollapse = groupToCollapse;\n                   });\n               }\n           },\n\n           expandGroup: function(group) {\n                   group = $(group);\n\n               var that = this,\n                   showFooter = that.options.groupable.showFooter,\n                   level,\n                   tr,\n                   offset,\n                   relatedGroup = $(),\n                   idx,\n                   length,\n                   footersVisibility = [],\n                   groupsCount = 1;\n\n                   level = group.find(\".k-group-cell\").length;\n\n               if (this.dataSource._isGroupPaged()) {\n                   var groupUid = group.attr(\"data-group-uid\");\n                   var groupObject = that.dataSource._getGroupByUid(groupUid);\n                   var groupCount = that.dataSource._calculateGroupsTotal([groupObject], true);\n                   var groupCountAfterExpand;\n\n                   that.dataSource._groupsState[groupUid] = true;\n                   if (groupObject.items && groupObject.items.length) {\n                       groupCountAfterExpand = that.dataSource._calculateGroupsTotal([groupObject], true);\n                       that.dataSource._serverGroupsTotal += groupCountAfterExpand - groupCount;\n                   }\n\n                   that._progress(true);\n                   that.dataSource.range(that.dataSource._currentRangeStart, that.dataSource.take(), function() {\n                       that._progress(false);\n                   }, \"expandGroup\");\n                   return;\n               }\n\n               if (this._isLocked()) {\n                   if (!group.closest(DIV).hasClass(\"k-grid-content-locked\")) {\n                       relatedGroup = group.nextAll(TR);\n                       group = this.lockedTable.find(\">tbody>tr\").eq(group.index());\n                   } else {\n                       relatedGroup = this.tbody.children(TR).eq(group.index()).nextAll(TR);\n                   }\n               }\n\n               if (group.find(CARET_ALT_RIGHT).length) {\n                   kendo.ui.icon(group.find(CARET_ALT_RIGHT), { icon: \"caret-alt-down\" });\n               }\n\n               group.find(\"td[aria-expanded='false']\").first().attr(ARIA_EXPANDED, true)\n                   .find(\"a\").attr(ARIA_LABEL, COLLAPSE);\n               group = group.nextAll(TR);\n\n               for (idx = 0, length = group.length; idx < length; idx ++ ) {\n                   tr = group.eq(idx);\n                   offset = tr.find(\".k-group-cell\").length;\n                   if (offset <= level) {\n                       break;\n                   }\n\n                   if (offset == level + 1 && !tr.hasClass(\"k-detail-row\")) {\n                       tr.show();\n                       relatedGroup.eq(idx).show();\n\n                       if (tr.hasClass(GROUPING_ROW) && tr.find(\".k-icon,.k-svg-icon\").is(CARET_ALT_DOWN)) {\n                           that.expandGroup(tr);\n                       }\n\n                       if (tr.hasClass(\"k-master-row\") && tr.find(\".k-icon,.k-svg-icon\").is(CARET_ALT_DOWN)) {\n                           tr.next().show();\n                           relatedGroup.eq(idx + 1).show();\n                       }\n                   }\n\n                   if (tr.hasClass(GROUPING_ROW)) {\n                       if (showFooter) {\n                           footersVisibility.push(tr.is(\":visible\"));\n                       }\n                       groupsCount ++;\n                   }\n\n                   if (tr.hasClass(\"k-group-footer\")) {\n                       if (showFooter) {\n                           var toggleVisibility = footersVisibility.pop();\n                           tr.toggle(toggleVisibility);\n                           relatedGroup.eq(idx).toggle(toggleVisibility);\n                       }\n                       if (groupsCount == 1) {\n                           tr.show();\n                           relatedGroup.eq(idx).show();\n                       } else {\n                           groupsCount --;\n                       }\n                   }\n               }\n\n               if ((level === 0 && that.options.scrollable.endless && this._isLocked()) ||\n               (!that.options.scrollable.endless && this._isLocked())) {\n                   that._syncLockedContentHeight();\n               }\n           },\n\n           _updateHeader: function(groups) {\n               var that = this,\n                   container = that._isLocked() ? that.lockedHeader.find(\"thead\") : that.thead,\n                   filterCells = container.find(\"tr.k-filter-row\").find(\"td.k-group-cell\").length,\n                   length = container.find(TR).first().find(\"th.k-group-cell\").length,\n                   rows = container.children(\"tr:not(:first)\").filter(function() {\n                       return !$(this).children(\":visible\").length;\n                   });\n\n               if (groups > length) {\n                   $(new Array(groups - length + 1).join('<th class=\"k-group-cell k-header k-table-th\" scope=\"col\">' + encode(that.options.messages.expandCollapseColumnHeader) + '</th>')).prependTo(container.children(\"tr:not(.k-filter-row)\"));\n                   if (that.element.is(\":visible\")) {\n                       rows.find(\"th.k-group-cell\").hide();\n                   }\n               } else if (groups < length) {\n                   container.find(TR).each(function() {\n                       $(this).find(\".k-group-cell\").eq(groups).remove();\n                       $(this).find(\".k-group-cell\").slice(groups).remove();\n                   });\n               }\n               if (groups > filterCells) {\n                   $(new Array(groups - filterCells + 1).join('<td class=\"k-group-cell k-table-td\">&nbsp;</td>')).prependTo(container.find(\".k-filter-row\"));\n               }\n           },\n\n           _firstDataItem: function(data, grouped) {\n               if (data && grouped) {\n                   if (data.hasSubgroups) {\n                       data = this._firstDataItem(data.items[0], grouped);\n                   } else {\n                       data = data.items[0];\n                   }\n               }\n               return data;\n           },\n\n           _updateTablesWidth: function() {\n               var that = this,\n                   tables;\n\n               if (!that._isLocked()) {\n                   return;\n               }\n\n               tables =\n                   $(\">.k-grid-footer>.k-grid-footer-wrap>table\", that.wrapper)\n                   .add(that.thead.parent())\n                   .add(that.table);\n\n               that._footerWidth = tableWidth(tables.eq(0));\n               tables.width(that._footerWidth);\n\n               tables =\n                   $(\">.k-grid-footer>.k-grid-footer-locked>table\", that.wrapper)\n                   .add(that.lockedHeader.find(\">table\"))\n                   .add(that.lockedTable);\n\n               tables.width(tableWidth(tables.eq(0)));\n           },\n\n           hideColumn: function(column) {\n               var that = this,\n                   cell,\n                   tables,\n                   idx,\n                   cols,\n                   colWidth,\n                   position,\n                   width = 0,\n                   headerCellIndex,\n                   length,\n                   footer = that.footer || that.wrapper.find(\".k-grid-footer\"),\n                   virtualScroll = that.virtualScroll || {},\n                   columns = that.columns,\n                   visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find(\">table>thead\")).filter(isCellVisible).length : 0,\n                   columnIndex,\n                   groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function(column) { return column.groupHeaderColumnTemplate; });\n\n               if (typeof column == \"number\") {\n                   column = columns[column];\n               } else if (isPlainObject(column)) {\n                   column = grep(flatColumns(columns), function(item) {\n                       return item === column;\n                   })[0];\n               } else {\n                   column = grep(flatColumns(columns), function(item) {\n                       return item.field === column;\n                   })[0];\n               }\n\n               if (!column || !isVisible(column)) {\n                   return;\n               }\n\n               var setColumnVisibility = that._columnVisibilitySetter(column);\n\n               if (column.columns && column.columns.length) {\n                   position = columnVisiblePosition(column, columns);\n\n                   setColumnVisibility(column, false);\n\n                   setCellVisibility(elements($(\">table>thead\", that.lockedHeader), that.thead, \">tr:eq(\" + position.row + \")>th\"), position.cell, false);\n\n                   for (idx = 0; idx < column.columns.length; idx++) {\n                      this.hideColumn(column.columns[idx]);\n                   }\n\n                   that._ariaAddHiddenColIndex();\n                   that.trigger(COLUMNHIDE, { column: column });\n\n                   return;\n               }\n\n               columnIndex = inArray(column, visibleColumns(leafColumns(columns)));\n\n               setColumnVisibility(column, false);\n\n               that._setParentsVisibility(column, false);\n\n               that._templates();\n\n               that._updateCols();\n               that._updateLockedCols();\n\n               var container = that.thead;\n\n               headerCellIndex = columnIndex;\n               if (that.lockedHeader && visibleLocked > columnIndex) {\n                   container = that.lockedHeader.find(\">table>thead\");\n               } else {\n                   headerCellIndex -= visibleLocked;\n               }\n\n               cell = leafDataCells(container).filter(isCellVisible).eq(headerCellIndex);\n               cell[0].style.display = NONE;\n\n               setCellVisibility(elements($(\">table>thead\", that.lockedHeader), that.thead, \">tr.k-filter-row>td\"), columnIndex, false);\n               if (footer[0]) {\n                   that._updateCols(footer.find(\">.k-grid-footer-wrap>table\"));\n                   that._updateLockedCols(footer.find(\">.k-grid-footer-locked>table\"));\n                   setCellVisibility(footer.find(\".k-footer-template>td\"), columnIndex, false);\n               }\n\n               if (virtualScroll.columns && !column.locked) {\n                   that._updateContentWidth();\n                   that.trigger(COLUMNHIDE, { column: column });\n                   return;\n               }\n\n               if (that.lockedTable && visibleLocked > columnIndex) {\n                   hideColumnCells(that.lockedTable.find(\">tbody>tr\"), columnIndex);\n               } else {\n                   hideColumnCells(that.tbody.children(), columnIndex - visibleLocked);\n               }\n\n               if (that.lockedTable) {\n                   that._updateTablesWidth();\n                   that._applyLockedContainersWidth();\n                   that._syncLockedContentHeight();\n                   that._syncLockedHeaderHeight();\n                   that._syncLockedFooterHeight();\n               } else {\n                   cols = that.thead.prev().find(\"col\");\n                   for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                       colWidth = cols[idx].style.width;\n\n                       if (cols[idx].className.indexOf(\"k-hierarchy-col\") > -1) {\n                           width += outerWidth(cols[idx]);\n                           continue;\n                       }\n\n                       if (cols[idx].className.indexOf(\"k-group-col\") > -1) {\n                           width += outerWidth(cols[idx]);\n                           continue;\n                       }\n\n                       if (colWidth && colWidth.indexOf(\"%\") == -1) {\n                           width += parseInt(colWidth, 10);\n                       } else {\n                           width = 0;\n                           break;\n                       }\n                   }\n\n                   tables = that.wrapper.find(\">.k-grid-header table\").first().add(that.wrapper.find(\">.k-grid-footer table\").first()).add(that.table);\n                   that._footerWidth = null;\n\n                   if (width) {\n                       tables.each(function() {\n                           this.style.width = width + PX;\n                       });\n\n                       that._footerWidth = width;\n                       that._setContentWidth();\n                   }\n               }\n\n               that._updateFirstColumnClass();\n               that._updateStickyColumns();\n               if (groupHeaderColumnTemplateColumns.length > 0) {\n                   that._renderGroupRows();\n               }\n               that._ariaAddHiddenColIndex();\n               that.trigger(COLUMNHIDE, { column: column });\n           },\n\n           _setParentsVisibility: function(column, visible) {\n               var that = this;\n               var columns = that.columns;\n               var idx;\n               var parents = [];\n               var parent;\n               var position;\n               var cell;\n               var colSpan;\n               var setColumnVisibility = that._columnVisibilitySetter(column);\n\n               var predicate = visible ?\n                   function(p) { return visibleColumns(p.columns).length && p.hidden; } :\n                   function(p) { return !visibleColumns(p.columns).length && !p.hidden; };\n\n\n               if (columnParents(column, columns, parents) && parents.length) {\n                   for (idx = parents.length - 1; idx >= 0; idx--) {\n                       parent = parents[idx];\n                       position = columnPosition(parent, columns);\n                       cell = elements($(\">table>thead\", this.lockedHeader), this.thead, \">tr:eq(\" + position.row + \")>th:not(.k-group-cell):not(.k-hierarchy-cell)\").eq(position.cell);\n\n                       if (predicate(parent)) {\n                           setColumnVisibility(parent, visible);\n                           cell[0].style.display = visible ? \"\" : NONE;\n                       }\n\n                       if (cell.filter(\"[\" + kendo.attr(\"colspan\") + \"]\").length) {\n                           colSpan = parseInt(cell.attr(kendo.attr(\"colspan\")), 10);\n                           cell[0].colSpan = (colSpan - hiddenLeafColumnsCount(parent.columns)) || 1;\n                       }\n                   }\n               }\n           },\n\n           _updateContentWidth: function() {\n               var that = this;\n               var tables = that.table.add(that.thead.parent());\n\n               tables.css({\n                   width: sumWidths(visibleLeafColumns(visibleNonLockedColumns(that.columns)))\n               });\n               that.refresh();\n           },\n\n           showColumn: function(column) {\n               var that = this,\n                   idx,\n                   length,\n                   cell,\n                   tables,\n                   width,\n                   headerCellIndex,\n                   position,\n                   colWidth,\n                   cols,\n                   columns = that.columns,\n                   virtualScroll = that.virtualScroll || {},\n                   footer = that.footer || that.wrapper.find(\".k-grid-footer\"),\n                   lockedColumnsCount = that.lockedHeader ? leafDataCells(that.lockedHeader.find(\">table>thead\")).length : 0,\n                   columnIndex,\n                   originalColumn,\n                   columnLeafIndex,\n                   groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function(column) { return column.groupHeaderColumnTemplate; });\n\n               if (typeof column == \"number\") {\n                   columnIndex = column;\n                   column = columns[column];\n               } else if (isPlainObject(column)) {\n                   $.each(flatColumns(columns), function(index, item) {\n                       if (item === column) {\n                           column = item;\n                           columnIndex = index;\n                           return false;\n                       }\n                   });\n               } else {\n                   $.each(flatColumns(columns), function(index, item) {\n                       if (item.field === column) {\n                           column = item;\n                           columnIndex = index;\n                           return false;\n                       }\n                   });\n               }\n\n               if (!column || isVisible(column)) {\n                   return;\n               }\n\n               var setColumnVisibility = that._columnVisibilitySetter(column);\n\n               if (column.columns && column.columns.length) {\n                   position = columnPosition(column, columns);\n                   originalColumn = flatColumns(that.options.columns)[columnIndex];\n\n                   setColumnVisibility(column, true);\n\n                   setCellVisibility(elements($(\">table>thead\", that.lockedHeader), that.thead, \">tr:eq(\" + position.row + \")>th\"), position.cell, true);\n\n                   for (idx = 0; idx < column.columns.length; idx++) {\n                       if (!originalColumn.columns[idx].hidden) {\n                           this.showColumn(column.columns[idx]);\n                       }\n                   }\n\n                   that._ariaRemoveHiddenColIndex();\n                   that.trigger(COLUMNSHOW, { column: column });\n\n                   return;\n               }\n\n               columnLeafIndex = inArray(column, leafColumns(columns));\n\n               setColumnVisibility(column, true);\n\n               that._setParentsVisibility(column, true);\n\n               that._templates();\n               that._updateCols();\n               that._updateLockedCols();\n\n               var container = that.thead;\n\n               headerCellIndex = columnLeafIndex;\n               if (that.lockedHeader && lockedColumnsCount > columnLeafIndex) {\n                   container = that.lockedHeader.find(\">table>thead\");\n               } else {\n                   headerCellIndex -= lockedColumnsCount;\n               }\n\n               cell = leafDataCells(container).eq(headerCellIndex);\n               cell[0].style.display = \"\";\n\n               setCellVisibility(elements($(\">table>thead\", that.lockedHeader), that.thead, \">tr.k-filter-row>td\"), columnLeafIndex, true);\n               if (footer[0]) {\n                   that._updateCols(footer.find(\">.k-grid-footer-wrap>table\"));\n                   that._updateLockedCols(footer.find(\">.k-grid-footer-locked>table\"));\n                   setCellVisibility(footer.find(\".k-footer-template>td\"), columnLeafIndex, true);\n               }\n\n               if (virtualScroll.columns && !column.locked) {\n                   that._updateContentWidth();\n                   that.trigger(COLUMNSHOW, { column: column });\n                   return;\n               }\n\n               if (that.lockedTable && lockedColumnsCount > columnLeafIndex) {\n                   showColumnCells(that.lockedTable.find(\">tbody>tr\"), columnLeafIndex);\n               } else {\n                   showColumnCells(that.tbody.children(), columnLeafIndex - lockedColumnsCount);\n               }\n\n               if (that.lockedTable) {\n                   that._updateTablesWidth();\n                   that._applyLockedContainersWidth();\n                   that._syncLockedContentHeight();\n                   that._syncLockedHeaderHeight();\n               } else {\n                   tables = that.wrapper.find(\">.k-grid-header table\").first().add(that.wrapper.find(\">.k-grid-footer table\").first()).add(that.table);\n                   if (!column.width) {\n                       tables.width(\"\");\n                   } else {\n                       width = 0;\n                       cols = that.thead.prev().find(\"col\");\n                       for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                           colWidth = cols[idx].style.width;\n\n                           if (cols[idx].className.indexOf(\"k-hierarchy-col\") > -1) {\n                               width += outerWidth(cols[idx]);\n                               continue;\n                           }\n\n                           if (cols[idx].className.indexOf(\"k-group-col\") > -1) {\n                               width += outerWidth(cols[idx]);\n                               continue;\n                           }\n\n                           if (colWidth.indexOf(\"%\") > -1) {\n                               width = 0;\n                               break;\n                           }\n                           width += parseInt(colWidth, 10);\n                       }\n\n                       that._footerWidth = null;\n                       if (width) {\n                           tables.each(function() {\n                               this.style.width = width + PX;\n                           });\n                           that._footerWidth = width;\n                           that._setContentWidth();\n                       }\n                   }\n               }\n\n               that._updateFirstColumnClass();\n               that._updateStickyColumns();\n               if (groupHeaderColumnTemplateColumns.length > 0) {\n                   that._renderGroupRows();\n               }\n               that._ariaRemoveHiddenColIndex();\n               that.trigger(COLUMNSHOW, { column: column });\n           },\n\n           _columnVisibilitySetter: function(column) {\n               var col = column || {};\n\n               if (isUndefined(col.media)) {\n                   return setColumnVisibility;\n               } else {\n                   return setColumnMediaVisibility;\n               }\n           },\n\n\n           _buildSkeleton: function() {\n               var visibleColumns = this.virtualCols ? this.virtualCols : visibleLeafColumns(this.columns);\n               var pageSize = this.dataSource.pageSize() || this.dataSource.total();\n               var loaderHTML = \"\";\n               var colspan;\n               var groups = this._groups();\n               var columnsCount = visibleColumns.length + groups;\n\n               if (this._hasDetails()) {\n                   columnsCount++;\n               }\n\n               if (this._hasVirtualColumns()) {\n                   colspan = parseInt(this.content.find(TR).first().find(\"td\").first().attr(\"colspan\"), 10);\n               }\n\n               for (var i = 0; i < pageSize; i++) {\n                   loaderHTML += \"<tr class='k-table-row'>\";\n                   for (var j = 0; j < columnsCount; j++) {\n                       if (colspan && !j) {\n                           loaderHTML += \"<td colspan='\" + colspan + \"'><span class='k-skeleton k-skeleton-text k-skeleton-pulse k-table-td'></span></td>\";\n                       } else {\n                           loaderHTML += \"<td><span class='k-skeleton k-skeleton-text k-skeleton-pulse k-table-td'></span></td>\";\n                       }\n                   }\n                   loaderHTML += \"</tr>\";\n               }\n               return loaderHTML;\n           },\n\n           _progress: function(toggle) {\n               var element = this.element;\n               var endless = this.options.scrollable && this.options.scrollable.endless;\n               var loaderType = this.options.loaderType;\n               var isVirtualization = this.options.scrollable && this.options.scrollable.virtual;\n               var skeleton;\n\n               if (isVirtualization) {\n                   element = this.content;\n               } else if (this._editContainer && this._editMode() === \"popup\") {\n                   element = this._editContainer;\n               } else if (this.lockedContent || endless) {\n                   element = this.wrapper;\n               } else if (this.element.is(\"table\")) {\n                   element = this.element.parent();\n               } else if (this.content && this.content.length) {\n                   element = this.content;\n               }\n\n               if (loaderType == \"skeleton\") {\n                   if (toggle) {\n                       skeleton = this._buildSkeleton();\n                           element.find(\"tbody\")\n                            .empty()\n                            .append(skeleton);\n                   } else {\n                       element.find(\".k-skeleton\").closest(\"tbody\").empty();\n                   }\n               } else {\n                   if (endless && toggle) {\n                       kendo.ui.progress(element, toggle, { height: this.content.height(), top: this.content.parent()[0].offsetTop, opacity: true });\n                   } else {\n                       kendo.ui.progress(element, toggle);\n                   }\n               }\n           },\n\n           _resize: function(size, force) {\n\n               this._syncLockedContentHeight();\n               this._syncLockedHeaderHeight();\n\n               if (this.content) {\n                   this._setContentWidth();\n                   this._setContentHeight();\n               }\n\n               if (this.lockedTable) {\n                   this._syncLockedScroll();\n               }\n\n               if (this.virtualScrollable && (force || this._rowHeight)) {\n                   if (force) {\n                       this._rowHeight = null;\n                   }\n                   this.virtualScrollable.repaintScrollbar();\n               }\n\n               if (this.pager && this.pager.element) {\n                   this.pager.resize(force);\n               }\n\n               if (this._anyStickyColumns()) {\n                   this._updateStickyColumns(false);\n               }\n           },\n\n           _isActiveInTable: function() {\n               var active = activeElement();\n\n               if (!active) { return false; }\n\n               return this.table[0] === active ||\n                   $.contains(this.table[0], active) ||\n                   (this._isLocked() &&\n                       (this.lockedTable[0] === active || $.contains(this.lockedTable[0], active))\n                   );\n           },\n\n           refresh: function(e) {\n               var that = this,\n                   data = that.dataSource.view(),\n                   navigatable = that.options.navigatable,\n                   virtualScroll = that.virtualScroll || {},\n                   currentIndex,\n                   current = $(that.current()),\n                   isCurrentInHeader = false,\n                   groups = that._groups(),\n                   colspan = groups + visibleLeafColumns(visibleColumns(that.columns)).length,\n                   contentScrollLeft,\n                   cachedItemsToSkip;\n\n               if (e && e.action === \"itemchange\" && (that.editable || that.options.scrollable.endless)) { // skip rebinding if editing is in progress\n                   if (this._editMode() != \"popup\" || this._editMode() === \"popup\" && !that._editableIsClosing) { // popup editing animation has not finished yet and the editable is not destoyed\n                       return;\n                   }\n               }\n\n               if (that._shouldMapHights) {\n                   that._mapCachedRowsHeight(\"get\", \"uid\");\n                   that._shouldMapHights = false;\n               }\n\n               if (virtualScroll.columns) {\n                   that._templates();\n               }\n\n               //someone remove the edited item\n               if (e && e.action === \"remove\" && that.editable &&\n                   that.editable.options.model && inArray(that.editable.options.model, e.items) > -1) {\n                   that.editable.options.model.unbind(CHANGE, that._modelChangeHandler);\n               }\n\n               e = e || {};\n\n               if (that.trigger(\"dataBinding\", { action: e.action || \"rebind\", index: e.index, items: e.items })) {\n                   return;\n               }\n\n               if (e.action === SYNC && that._isVirtualEditable()) {\n                   that._destroyEditable();\n                   that._clearEditableState();\n               }\n\n               that._angularItems(\"cleanup\");\n\n               if (!that._endlessFetchInProgress) {\n                   if (navigatable && (that._isActiveInTable() || (that._editContainer && that._editContainer.data(\"kendoWindow\")))) {\n                       isCurrentInHeader = current.is(\"th\");\n                       currentIndex = isCurrentInHeader ? current.parent().children(\":not(.k-group-cell)\").index(current[0]) : Math.max(that.cellIndex(current), 0);\n                   }\n                   that._destroyEditable();\n               }\n\n               if (that.options.scrollable && that.options.scrollable.endless && !that._pdfInitialized) {\n                   clearTimeout(that._progressTimeOut);\n                   that._progressTimeOut = setTimeout(function() {\n                       if (!that._endlessFetchInProgress) {\n                           that._progress(false);\n                       }\n                   }, 250);\n               } else {\n                    that._progress(false);\n               }\n\n               that._hideResizeHandle();\n\n               that._data = [];\n\n               if (!that.columns.length) {\n                   that._autoColumns(that._firstDataItem(data[0], groups));\n                   colspan = groups + that.columns.length;\n               }\n\n               that._group = groups > 0 || that._group;\n\n               if (that._group) {\n                   that._templates();\n                   that._updateCols();\n                   that._updateLockedCols();\n                   if (!that._virtualColScroll) {\n                       that._updateHeader(groups);\n                   }\n                   that._group = groups > 0;\n                   that._groupRows = groupRows(data);\n               }\n\n               if (that.content) {\n                   contentScrollLeft = kendo.scrollLeft(that.content);\n               }\n               cachedItemsToSkip = that._skipRerenderItemsCount;\n               that._renderContent(data, colspan, groups);\n               if (that.options.scrollable && that.options.scrollable.endless && this.lockedContent) {\n                   that._skipRerenderItemsCount = cachedItemsToSkip;\n               }\n               that._renderLockedContent(data, colspan, groups);\n\n               if (!that._virtualColScroll) {\n                   that._footer();\n\n                   that._renderNoRecordsContent();\n\n                   that._togglePagerVisibility();\n\n                   that._setContentHeight();\n\n                   that._setContentWidth(that.content && contentScrollLeft);\n               }\n\n               if (that.lockedTable) {\n                   //requires manual trigger of scroll to sync both tables\n                   if (virtualScroll.rows) {\n                       that.content.find(\">.k-virtual-scrollable-wrap\").trigger(\"scroll\");\n                   } else if (that.touchScroller) {\n                       that.touchScroller.movable.trigger(\"change\");\n                   } else {\n                       that.wrapper.one(\"scroll\", function(e) { e.stopPropagation(); });\n                       that.content.trigger(\"scroll\");\n                   }\n               }\n\n               if (!that._endlessFetchInProgress && !that._rowDropping) {\n                   that._restoreCurrent(currentIndex, isCurrentInHeader);\n               }\n\n               if (that.touchScroller) {\n                   that.touchScroller.contentResized();\n               }\n\n               if (that.selectable) {\n                   that.selectable.resetTouchEvents();\n               }\n\n               that._muteAngularRebind(function() {\n                   that._angularItems(\"compile\");\n               });\n\n               if (that._checkBoxSelection) {\n                   that._toggleHeaderCheckState(false);\n               }\n\n               if (that.options.persistSelection &&\n                   ((that.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell) || that._checkBoxSelection) &&\n                   (that.items().length || that.dataSource._isGroupPaged())) {\n                   that._restoreSelection();\n               }\n\n               if (!that.options.persistSelection) {\n                   that._selectedIds = {};\n               }\n\n               if (that._hasReorderableRows()) {\n                   that._draggableRows();\n                   that._reorderableRows();\n               }\n\n               that._aria();\n\n               that.trigger(DATABOUND);\n          },\n\n           _restoreCurrent: function(currentIndex, isCurrentInHeader) {\n               if (currentIndex === undefined$1 || currentIndex < 0) {\n                   return;\n               }\n\n               this._removeCurrent();\n\n               if (isCurrentInHeader) {\n                   this._setCurrent(this.thead.find(\"th:not(.k-group-cell)\").eq(currentIndex));\n               } else {\n                   var rowIndex = 0;\n                   var virtualScroll = this.virtualScroll || {};\n\n                   if (this._rowVirtualIndex) {\n                       if (virtualScroll.rows) {\n                           rowIndex = this.virtualScrollable.position(this._rowVirtualIndex);\n                       } else {\n                           rowIndex = this._rowVirtualIndex;\n                       }\n                   } else {\n                       currentIndex = 0;\n                   }\n\n                   var row = $();\n                   var colspan;\n\n                   if (this.lockedTable) {\n                       row = this.lockedTable.find(\">tbody>tr\").eq(rowIndex);\n                   }\n                   row = row.add(this.tbody.children().eq(rowIndex));\n\n                   if (this._hasVirtualColumns()) {\n                       colspan = parseInt(row.find(\"td\").first().attr(\"colspan\"), 10);\n                       currentIndex = this._virtualCellIndex - (colspan > 1 ? colspan - 1 : 0);\n                   }\n\n\n                   var td = row.find(\">td:not(.k-group-cell):not(.k-hierarchy-cell)\")\n                       .eq(currentIndex);\n\n                   if (!td.length || currentIndex < 0) {\n                       return;\n                   }\n\n                   if (this._hasVirtualColumns()) {\n                       this._setCurrent(td, true, true);\n\n                   } else {\n                       this._setCurrent(td);\n                   }\n\n               }\n\n               if (this._current) {\n                   focusTable(this.table, true);\n               }\n           },\n\n           _restoreSelection: function() {\n               var that = this,\n                   allRows = that.items(),\n                   selectedRows,\n                   id = isFunction(that.dataSource.options.schema.model) ? that.dataSource.options.schema.model.fn.idField : that.dataSource.options.schema.model.id;\n\n               selectedRows = grep(allRows, function(row) {\n                    var dataItemKey = that.dataItem(row)[id];\n                    if (that._selectedIds[dataItemKey]) {\n                       return row;\n                    }\n               });\n\n               that.select(selectedRows);\n           },\n\n          _angularItems: function(cmd) {\n\n              kendo.ui.DataBoundWidget.fn._angularItems.call(this, cmd);\n\n              if (cmd === \"cleanup\" && (!this.dataSource || !this.dataSource.options.endless)) {\n                  this._cleanupDetailItems();\n              }\n\n              this._angularGroupItems(cmd);\n\n              this._angularGroupFooterItems(cmd);\n          },\n\n          _cleanupDetailItems: function() {\n              var that = this;\n\n              if (that._hasDetails()) {\n                 that.angular(\"cleanup\", function() {\n                      return { elements: that.tbody.children(\".k-detail-row\") };\n                  });\n\n                  that.tbody.find(\".k-detail-cell\").empty();\n              }\n          },\n\n          _angularGroupItems: function(cmd) {\n              var that = this,\n                  container = that.tbody;\n\n              if (that.lockedContent) {\n                  container = that.lockedTable.find(\"tbody\");\n              }\n\n              if (that._group) {\n                 that.angular(cmd, function() {\n                      return {\n                          elements: container.children(DOT + GROUPING_ROW),\n                          data: $.map(groupRows(that.dataSource.view()), function(dataItem) {\n                              return { dataItem: dataItem };\n                          })\n                      };\n                  });\n              }\n          },\n\n          _angularGroupFooterItems: function(cmd) {\n              var that = this,\n                  container = that.tbody;\n\n              if (that.lockedContent) {\n                   container = that.element;\n              }\n\n              if (that._group && that.groupFooterTemplate) {\n\n                  that.angular(cmd, function() {\n                      return {\n                          elements: container.find(\".k-group-footer\"),\n                          data: $.map(groupFooters(that.dataSource.view()), function(dataItem) {\n                              return { dataItem: dataItem };\n                          })\n                      };\n                  });\n              }\n          },\n\n          _renderContent: function(data, colspan, groups) {\n               var that = this,\n                   idx,\n                   length,\n                   html = \"\",\n                   isLocked = that.lockedContent != null,\n                   endlessAppend = null,\n                   skipLastGroup,\n                   flatViewLength,\n                   scrollable = that.options.scrollable,\n                   templates = {\n                           rowTemplate: that.rowTemplate,\n                           altRowTemplate: that.altRowTemplate,\n                           groupFooterTemplate: that.groupFooterTemplate,\n                           groupHeaderColumnTemplate: that.groupHeaderColumnTemplate\n                       };\n               if (scrollable && scrollable.endless && !that.dataSource.options.endless) {\n                   that._skipRerenderItemsCount = 0;\n                   if (that.content) {\n                       that.content[0].scrollTop = 0;\n                   }\n               }\n               endlessAppend = that._skipRerenderItemsCount > 0;\n               colspan = isLocked ? colspan - visibleLeafColumns(visibleLockedColumns(that.columns)).length : colspan;\n               if (groups > 0) {\n\n                   colspan = isLocked ? colspan - groups : colspan;\n\n                   if (that.detailTemplate) {\n                       colspan++;\n                   }\n\n                   if (that.groupFooterTemplate) {\n                       that._groupAggregatesDefaultObject = that.dataSource.aggregates();\n                   }\n                   if (that.options.scrollable.endless) {\n                       flatViewLength = that.dataSource.flatView().length;\n                   }\n                   for (idx = 0, length = data.length; idx < length; idx++) {\n                       if (!that._skippedGroups) {\n                           that._skippedGroups = [];\n                       }\n                       skipLastGroup = flatViewLength && idx === data.length - 1 && flatViewLength !== that.dataSource.total();\n                       html += that._groupRowHtml(data[idx], colspan, 0, isLocked ? groupRowLockedContentBuilder : groupRowBuilder, templates, isLocked, skipLastGroup, false);\n                   }\n               } else {\n                   html += that._rowsHtml(data, templates);\n               }\n\n               if (endlessAppend) {\n                   that.tbody.append(html);\n                   clearTimeout(that._endlessFetchTimeOut);\n                   that._endlessFetchTimeOut = setTimeout(function() {\n                       if (that._groupToCollapse) {\n                           that.collapseGroup(that._groupToCollapse);\n                           that._groupToCollapse = null;\n                       }\n                   });\n                   that._endlessFetchInProgress = null;\n               } else {\n                   that.tbody = appendContent(that.tbody, that.table, html, this.options.$angular, this.options.size);\n               }\n          },\n\n          _renderGroupRows: function() {\n           var that = this,\n           data = that._groupRows,\n           groupRows = that.wrapper.find(DOT + GROUPING_ROW),\n           groups = that._groups(),\n           groupRowBuilderFunc,\n           isLocked = that.lockedContent != null,\n           columns,\n           colspan,\n           group,\n           field,\n           column,\n           template,\n           text,\n           groupHeaderData,\n           tableContainer,\n           isInLockedContainer,\n           prevElement,\n           newGroupRowElement,\n           currentRow,\n           level,\n           groupHeaderColumnTemplate,\n           firstColumnGroupData;\n\n           groupRows.each(function(index, row) {\n               currentRow = $(row);\n               tableContainer = currentRow.closest(\"table\").parent();\n               isInLockedContainer = tableContainer.is(\".\" + CONTENTRLOCKEDCONTAINER);\n               columns = isInLockedContainer ? visibleLeafColumns(visibleColumns(lockedColumns(that.columns))) : visibleLeafColumns(visibleColumns(nonLockedColumns(that.columns)));\n               level = currentRow.find(\".\" + GROUPCELLCLASS).length;\n               if (isLocked) {\n                   groupRowBuilderFunc = isInLockedContainer ? groupRowBuilder : groupRowLockedContentBuilder;\n                   colspan = isInLockedContainer ? columns.length + groups - level : columns.length;\n               }\n               else {\n                   groupRowBuilderFunc = groupRowBuilder;\n                   colspan = columns.length + groups - level;\n               }\n\n               group = index >= data.length ? data[index - data.length] : data[index];\n               field = group.field;\n               column = grep(leafColumns(that.columns), function(column) { return column.field == field; })[0] || { };\n               firstColumnGroupData = !column.groupHeaderTemplate && visibleColumns(that.columns)[0].groupHeaderColumnTemplate ? visibleColumns(that.columns)[0] : false;\n               template = column.groupHeaderTemplate ? column.groupHeaderTemplate : visibleColumns(that.columns)[0].groupHeaderColumnTemplate;\n               text = (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || field) + ': ' + formatGroupValue(group.value, column.format, column.values, column.encoded);\n               groups = groups;\n               groupHeaderData = that._groupData(group, false, firstColumnGroupData);\n               groupHeaderColumnTemplate = isInLockedContainer ? that.lockedGroupHeaderColumnTemplate : that.groupHeaderColumnTemplate;\n\n               if (template) {\n                   text = typeof template === FUNCTION ? template(groupHeaderData) : kendo.template(template)(groupHeaderData);\n               }\n\n               prevElement = currentRow.prev().length ? currentRow.prev() : currentRow.parent();\n\n               newGroupRowElement = $(groupHeaderColumnTemplate ?\n                   groupHeaderColumnTemplate(extend({}, groupHeaderData, { groupCells: level, colspan: groups - level, text: text })) :\n                   groupRowBuilderFunc(colspan, level, text, null, null, null, isRtl)\n               );\n\n               if (prevElement.is(\"tbody\")) {\n                   prevElement.prepend(newGroupRowElement);\n               }\n               else {\n                   prevElement.after(newGroupRowElement);\n               }\n                   currentRow.remove();\n              });\n          },\n\n          _renderLockedContent: function(data, colspan, groups) {\n              var html = \"\",\n                  idx,\n                  length,\n                  skipLastGroup,\n                  endlessAppend = null,\n                  flatViewLength,\n                  templates = {\n                      rowTemplate: this.lockedRowTemplate,\n                      altRowTemplate: this.lockedAltRowTemplate,\n                      groupFooterTemplate: this.lockedGroupFooterTemplate,\n                      groupHeaderColumnTemplate: this.lockedGroupHeaderColumnTemplate\n                  };\n\n              if (this.lockedContent) {\n\n                  var table = this.lockedTable;\n                  endlessAppend = this._skipRerenderItemsCount > 0;\n\n                  if (groups > 0) {\n                      colspan = colspan - visibleColumns(leafColumns(nonLockedColumns(this.columns))).length;\n                      if (this.options.scrollable.endless) {\n                        flatViewLength = this.dataSource.flatView().length;\n                      }\n                      for (idx = 0, length = data.length; idx < length; idx++) {\n                       skipLastGroup = flatViewLength && idx === data.length - 1 && flatViewLength !== this.dataSource.total();\n                       html += this._groupRowHtml(data[idx], colspan, 0, groupRowBuilder, templates, false, skipLastGroup, true);\n                      }\n                  } else {\n                      html = this._rowsHtml(data, templates);\n                  }\n\n                  if (endlessAppend) {\n                      table.children(\"tbody\").append(html);\n                  } else {\n                      appendContent(table.children(\"tbody\"), table, html, this.options.$angular, this.options.size);\n                  }\n\n                  this._syncLockedContentHeight();\n              }\n          },\n\n          _togglePagerVisibility: function() {\n              if (this.options.pageable.alwaysVisible === false) {\n                   this.wrapper.find(\".k-grid-pager\").toggle(this.dataSource.total() >= this.dataSource.pageSize());\n               }\n          },\n\n          _adjustRowsHeight: function(table1, table2) {\n              var rows = table1[0].rows,\n                  length = rows.length,\n                  idx,\n                  rows2 = table2[0].rows,\n                  containers = table1.add(table2),\n                  containersLength = containers.length,\n                  heights = [];\n\n              for (idx = 0; idx < length; idx++) {\n                  if (!rows2[idx]) {\n                      break;\n                  }\n\n                  if (rows[idx].style.height) {\n                      rows[idx].style.height = rows2[idx].style.height = \"\";\n                  }\n              }\n\n              for (idx = 0; idx < length; idx++) {\n                  if (!rows2[idx]) {\n                      break;\n                  }\n\n                  var offsetHeight1 = rows[idx].offsetHeight;\n                  var offsetHeight2 = rows2[idx].offsetHeight;\n                  var height = 0;\n\n                  if (offsetHeight1 > offsetHeight2) {\n                      height = offsetHeight1;\n                  } else if (offsetHeight1 < offsetHeight2) {\n                      height = offsetHeight2;\n                  }\n\n                  heights.push(height);\n              }\n\n              for (idx = 0; idx < containersLength; idx++) {\n                  containers[idx].style.display = NONE;\n              }\n\n              for (idx = 0; idx < length; idx++) {\n                  if (heights[idx]) {\n                      //add one to resolve row misalignment in IE\n                      rows[idx].style.height = rows2[idx].style.height = (heights[idx] + 1) + PX;\n                  }\n              }\n\n              for (idx = 0; idx < containersLength; idx++) {\n                  containers[idx].style.display = \"\";\n              }\n          }\n      });\n\n      if (kendo.ExcelMixin) {\n          kendo.ExcelMixin.extend(Grid.prototype);\n      }\n\n      if (kendo.PDFMixin) {\n          kendo.PDFMixin.extend(Grid.prototype);\n\n          Grid.prototype._drawPDF_autoPageBreak = function(progress) {\n              var grid = this;\n              var result = new $.Deferred();\n              var dataSource = grid.dataSource;\n              var allPages = grid.options.pdf.allPages;\n              var origBody = grid.wrapper.find('> table > tbody, .k-grid-content > table > tbody').first();\n              var cont = $(\"<div>\")\n                  .css({ position: \"absolute\", left: -10000, top: -10000 });\n              var clone;\n\n              grid.toggleUnexportableColumns(grid.columns);\n              clone = grid.wrapper.clone().css({\n                  height: AUTO, width: AUTO\n              }).appendTo(cont);\n              clone.find(\".k-grid-content\").css({ height: AUTO, width: AUTO, overflow: \"visible\" });\n              clone.find('> table, .k-grid-content > table, .k-grid-footer table').css({ height: AUTO, width: \"100%\", overflow: \"visible\" });\n              clone.find(\".k-grid-pager, .k-grid-toolbar, .k-grouping-header\").remove();\n              clone.find(\".k-grid-header, .k-grid-footer, .k-auto-scrollable\").css({ paddingRight: 0 });\n\n              this._initPDFProgress(progress);\n\n              var body = clone.find('> table > tbody, .k-grid-content > table > tbody').first().empty();\n              var startingPage = dataSource.page();\n\n              function resolve() {\n                  if (allPages && startingPage !== undefined$1) {\n                      dataSource.one(\"change\", draw);\n                      dataSource.page(startingPage);\n                  } else {\n                      grid.refresh();\n                      draw();\n                  }\n              }\n\n              function draw() {\n                  cont.appendTo(document.body);\n                  var options = $.extend({}, grid.options.pdf, {\n                      _destructive: true,\n                      progress: function(p) {\n                          progress.notify({\n                              page: p.page,\n                              pageNumber: p.pageNum,\n                              progress: 0.5 + p.pageNum / p.totalPages / 2,\n                              totalPages: p.totalPages\n                          });\n                      }\n                  });\n                  kendo.drawing.drawDOM(clone, options)\n                      .always(function() {\n                          cont.remove();\n                      })\n                      .then(function(group) {\n                          result.resolve(group);\n                          grid.toggleUnexportableColumns(grid.columns, true);\n                      })\n                      .fail(function(err) {\n                          result.reject(err);\n                      });\n              }\n\n              function renderPage() {\n                  var pageNum = dataSource.page();\n                  var totalPages = allPages ? dataSource.totalPages() : 1;\n                  body.append(origBody.children(\"tr:not(.k-detail-row)\"));\n                  if (pageNum < totalPages) {\n                      dataSource.page(pageNum + 1);\n                  } else {\n                      dataSource.unbind(\"change\", renderPage);\n                      resolve();\n                  }\n              }\n\n              if (allPages) {\n                  dataSource.bind(\"change\", renderPage);\n                  dataSource.page(1);\n              } else {\n                  renderPage();\n              }\n\n              return result.promise();\n          };\n\n          Grid.prototype.toggleUnexportableColumns = function(columns, restore) {\n              var length = columns.length;\n              var column;\n              var exportable;\n              var visibleInExport;\n              var visibleInExportOnly;\n\n              for (var i = 0; i < length; i++) {\n                  column = columns[i];\n                  exportable = column.exportable;\n                  if (!restore) {\n                      if (typeof column.exportable === \"object\") {\n                          exportable = column.exportable.pdf;\n                      }\n\n                      visibleInExport = !column.hidden && exportable !== false;\n                      visibleInExportOnly = column.hidden && exportable === true;\n                      exportable = visibleInExport || visibleInExportOnly;\n\n                      if (!exportable && !column.hidden) {\n                          column._toggledDuringExport = true;\n                          this.hideColumn(column);\n                      } else if (exportable && column.hidden) {\n                          column._toggledDuringExport = true;\n                          this.showColumn(column);\n                      } else if (exportable && column.columns) {\n                          this.toggleUnexportableColumns(column.columns);\n                      }\n                  } else {\n                      if (column._toggledDuringExport) {\n                          column._toggledDuringExport = false;\n\n                          if (column.hidden) {\n                              this.showColumn(column);\n                          } else {\n                              this.hideColumn(column);\n                          }\n                      } else if (column.columns) {\n                          this.toggleUnexportableColumns(column.columns, restore);\n                      }\n                  }\n              }\n          };\n\n          Grid.prototype._drawPDF = function(progress) {\n              var grid = this;\n\n              if (grid.options.pdf.paperSize && grid.options.pdf.paperSize != AUTO) {\n                  return grid._drawPDF_autoPageBreak(progress);\n              }\n\n              var result = new $.Deferred();\n              var dataSource = grid.dataSource;\n              var allPages = grid.options.pdf.allPages;\n\n              this._initPDFProgress(progress);\n\n              // This group will be our document containing all pages\n              var doc = new kendo.drawing.Group();\n              var startingPage = dataSource.page();\n\n              function resolve() {\n                  if (allPages && startingPage !== undefined$1) {\n                      dataSource.unbind(\"change\", exportPage);\n                      dataSource.one(\"change\", function() {\n                          result.resolve(doc);\n                      });\n\n                      dataSource.page(startingPage);\n                  } else {\n                      result.resolve(doc);\n                  }\n              }\n\n              function exportPage() {\n                   grid.toggleUnexportableColumns(grid.columns);\n                   grid._drawPDFShadow({\n                       width: grid.wrapper.width()\n                   }, {\n                       avoidLinks: grid.options.pdf.avoidLinks\n                   })\n                   .done(function(group) {\n                       var pageNum = dataSource.page();\n                       var totalPages = allPages ? dataSource.totalPages() : 1;\n\n                       var args = {\n                           page: group,\n                           pageNumber: pageNum,\n                           progress: pageNum / totalPages,\n                           totalPages: totalPages\n                       };\n\n                       grid.toggleUnexportableColumns(grid.columns, true);\n                       progress.notify(args);\n                       doc.append(args.page);\n\n                       if (pageNum < totalPages) {\n                           dataSource.page(pageNum + 1);\n                       } else {\n                           resolve();\n                       }\n                   })\n                   .fail(function(err) {\n                       result.reject(err);\n                   });\n               }\n\n               if (allPages) {\n                   dataSource.bind(\"change\", exportPage);\n                   dataSource.page(1);\n               } else {\n                   exportPage();\n               }\n\n               return result.promise();\n           };\n\n           Grid.prototype._initPDFProgress = function(deferred) {\n              var loading = $(\"<div class='k-loading-pdf-mask'><div class='k-loading-color'></div></div>\");\n              loading.prepend(this.wrapper.clone().css({\n                  position: \"absolute\", top: 0, left: 0\n              }));\n\n              this._pdfInitialized = true;\n              this.wrapper.append(loading);\n\n              var pb = $(\"<div class='k-loading-pdf-progress'>\")\n              .appendTo(loading)\n              .kendoProgressBar({\n                  type: \"chunk\",\n                  chunkCount: 10,\n                  min: 0,\n                  max: 1,\n                  value: 0\n              }).data(\"kendoProgressBar\");\n\n              deferred.progress(function(e) {\n                  pb.value(e.progress);\n              })\n              .always(function() {\n                  kendo.destroy(loading);\n                  loading.remove();\n              });\n           };\n      }\n\n      function syncTableHeight(table1, table2) {\n          table1 = table1[0];\n          table2 = table2[0];\n\n          if (table1.rows.length !== table2.rows.length) {\n              var lockedHeigth = table1.offsetHeight;\n              var tableHeigth = table2.offsetHeight;\n\n              var row;\n              var diff;\n              if (lockedHeigth > tableHeigth) {\n                  row = table2.rows[table2.rows.length - 1];\n\n                  if (filterRowRegExp.test(row.className)) {\n                      row = table2.rows[table2.rows.length - 2];\n                  }\n\n                  diff = lockedHeigth - tableHeigth;\n              } else {\n                  row = table1.rows[table1.rows.length - 1];\n\n                  if (filterRowRegExp.test(row.className)) {\n                      row = table1.rows[table1.rows.length - 2];\n                  }\n\n                  diff = tableHeigth - lockedHeigth;\n              }\n              row.style.height = row.offsetHeight + diff + PX;\n          }\n      }\n\n      function adjustRowHeight(row1, row2) {\n          var height;\n          var offsetHeight1 = row1.offsetHeight;\n          var offsetHeight2 = row2.offsetHeight;\n\n          if (offsetHeight1 > offsetHeight2) {\n              height = offsetHeight1 + PX;\n          } else if (offsetHeight1 < offsetHeight2) {\n              height = offsetHeight2 + PX;\n          }\n\n          if (height) {\n              row1.style.height = row2.style.height = height;\n          }\n      }\n\n      function getCommand(commands, name) {\n          var idx, length, command;\n\n          if (typeof commands === STRING && commands === name) {\n             return commands;\n          }\n\n          if (isPlainObject(commands) && commands.name === name) {\n              return commands;\n          }\n\n          if (isArray(commands)) {\n              for (idx = 0, length = commands.length; idx < length; idx++) {\n                  command = commands[idx];\n\n                  if ((typeof command === STRING && command === name) || (command.name === name)) {\n                      return command;\n                  }\n              }\n          }\n          return null;\n      }\n\n      function compareElements(element, toCompare) {\n          if (element.length !== toCompare.length) {\n              return false;\n          }\n\n          for (var i = 0; i < element.length; i++) {\n              if (element[i] !== toCompare[i]) {\n                  return false;\n              }\n          }\n\n          return true;\n      }\n\n      function focusTable(table, direct) {\n          if (!table || table.length === 0) {\n              return;\n          }\n\n          if (direct === true) {\n              table = $(table);\n              var scrollLeft = kendo.scrollLeft(table.parent());\n\n               kendo.focusElement(table);\n               kendo.scrollLeft(table.parent(), scrollLeft);\n           } else {\n               $(table).one(\"focusin\", function(e) { e.preventDefault(); }).trigger(\"focus\");\n           }\n       }\n\n      function isColumnGroupable(grid, column) {\n          return grid.options.groupable && (column.groupable || column.groupable === undefined$1);\n      }\n\n      function isGroupedBy(groups, field) {\n          return !!$.grep(groups, function(item) {\n              return item.field === field;\n          }).length;\n      }\n\n      function isColumnEditable(column, model) {\n          if (!column.field || column.selectable) {\n              return false;\n          }\n          if (model.editable && !model.editable(column.field)) {\n              return false;\n          }\n          if (column.editable && !column.editable(model)) {\n              return false;\n          }\n          return true;\n      }\n\n      function isInputElement(element) {\n          return $(element).is(\":button,a,:input,a>.k-icon,a>.k-svg-icon,textarea,span.k-select,span.k-icon,span.k-svg-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdownlist,.k-switch-thumb,.k-switch-track,.k-switch-label-off,.k-switch-label-on\");\n      }\n\n       function tableClick(e) {\n           var that = this,\n               currentTarget = $(e.currentTarget),\n               isHeader = currentTarget.is(\"th\"),\n               table = this.table.add(this.lockedTable),\n               headerTable = this.thead.parent().add($(\">table\", this.lockedHeader)),\n               isInput = isInputElement(e.target),\n               preventScroll = $(e.target).is('.k-checkbox'),\n               target = $(e.target),\n               currentTable = currentTarget.closest(\"table\")[0];\n\n           if (isInput && currentTarget.find(kendo.roleSelector(\"filtercell\")).length) {\n               this._setCurrent(currentTarget);\n               return;\n           }\n\n           if (currentTable !== table[0] && currentTable !== table[1] && currentTable !== headerTable[0] && currentTable !== headerTable[1]) {\n               return;\n           }\n\n           if (target.is(CARET_ALT_RIGHT + \",\" + CARET_ALT_DOWN)) {\n               return;\n           }\n\n           if (this.options.navigatable) {\n               this._setCurrent(currentTarget, false, preventScroll);\n           }\n\n           if (isHeader || !isInput) {\n               setTimeout(function() {\n                   var activeEl = $(kendo._activeElement());\n                   if ((activeEl.hasClass(\"k-widget\") || activeEl.hasClass(\"k-dropdownlist\")) && !activeEl.hasClass(\"k-grid-pager\")) {\n                       return;\n                   }\n\n                   //Only if input element is not selected yet and it is not descendant of the grid's table\n                   if (that.table && (activeEl.is(CHECKBOXINPUT) || !isInputElement(kendo._activeElement()) || !$.contains(currentTable, kendo._activeElement()))) {\n                       //DOMElement.focus() only for header, because IE doesn't really focus the table\n                       focusTable(that.table[0], true);\n                   }\n               });\n           }\n\n           if (isHeader && !kendo.support.touch) {\n               e.preventDefault(); //if any problem occurs, call preventDefault only for the clicked header links\n           }\n       }\n\n      function leftMostPosition(element, rtl) {\n          if (!rtl) {\n              return 0;\n          }\n\n          var result = 0;\n\n          if (kendo.support.browser.webkit) {\n              result = element.width();\n          }\n\n          return result;\n      }\n\n      function parseVirtualSettings(options) {\n           var asLowerString;\n\n           if (typeof options === \"string\") {\n               asLowerString = options.toLowerCase();\n               if (asLowerString === \"true\") {\n                   return {\n                       rows: true\n                   };\n               } else {\n                   return {\n                       rows: asLowerString.indexOf(\"rows\") > -1,\n                       columns: asLowerString.indexOf(\"columns\") > -1\n                   };\n               }\n\n           } else if (options === true) {\n               return {\n                   rows: true\n               };\n           }\n      }\n\n      function isElementVisibleInWrapper(wrapper, element) {\n          var offsetTop;\n          var halfHeight;\n\n          if (!wrapper) {\n            return false;\n          }\n\n          element = $(element);\n\n          if (element[0] && contains(wrapper[0], element[0])) {\n              offsetTop = element.offset().top - wrapper.offset().top;\n              halfHeight = element.outerHeight() / 2;\n\n              if ((offsetTop >= 0 || math.abs(offsetTop) <= halfHeight) && (math.floor(offsetTop + halfHeight) <= wrapper.height())) {\n                  return true;\n              }\n          }\n\n          return false;\n      }\n\n      function isInEdit(cell) {\n          return cell &&\n              (cell.hasClass(\"k-edit-cell\") ||\n               cell.parent().hasClass(\"k-grid-edit-row\"));\n      }\n\n       function groupHtmlBuilder(groupHeaderColumnTemplate, groupHeaderBuilder, colspan, templateColspan, groupData, level, text, expanded, group, isGroupPaged) {\n           var html;\n\n           if (groupHeaderColumnTemplate) {\n               html = groupHeaderColumnTemplate(extend({}, groupData, {\n                   groupCells: level,\n                   colspan: templateColspan,\n                   text: text\n               }));\n           } else {\n               html = groupHeaderBuilder(colspan, level, text, expanded, group.uid, isGroupPaged);\n           }\n\n           return html;\n       }\n\n      function groupCellBuilder(headerTemplateIndex) {\n       return function (ref) {\n          var colspan = ref.colspan;\n          var text = ref.text;\n\n          return \"<td class=\\\"k-table-td\\\" colspan=\\\"\" + (colspan + headerTemplateIndex) + \"\\\">\" +\n       '<p class=\"k-reset\">' +\n           kendo.ui.icon($((\"<a href=\\\"\\\\#\\\" tabindex=\\\"-1\\\" \" + ARIA_LABEL + \"=\\\"\" + COLLAPSE + \"\\\"></a>\")), { icon: \"caret-alt-down\" }) + text +\n       '</p></td>';\n       };\n      }\n\n      function groupCellLockedContentBuilder(headerTemplateIndex) {\n       return '<td class=\"k-table-td\" colspan=\"' + headerTemplateIndex + '\">' +\n       '<p class=\"k-reset\">&nbsp;</p></td>';\n      }\n\n      function groupRowBuilder(colspan, level, text, expanded, uid, includeAdditionalData, isRtl) {\n       return '<tr ' + (includeAdditionalData ? 'data-group-uid=\"' + uid + '\"' : '') + 'class=\"k-table-group-row k-grouping-row k-table-row\">' + groupCells(level) +\n           '<td class=\"k-table-td\" colspan=\"' + colspan + '\" aria-expanded=\"' + !!expanded + '\">' +\n           '<p class=\"k-reset\">' +\n           kendo.ui.icon($('<a href=\"#\" tabindex=\"-1\" ' + ARIA_LABEL + '=\"' + (expanded ? COLLAPSE : EXPAND) + '\"></a>'), { icon: (expanded ? 'caret-alt-down' : (\"caret-alt-\" + (isRtl ? 'left' : 'right'))) }) + text +\n       '</p></td></tr>';\n      }\n\n      function groupRowLockedContentBuilder(colspan) {\n       return '<tr class=\"k-table-group-row k-grouping-row k-table-row\">' +\n           '<td class=\"k-table-td\" colspan=\"' + colspan + '\" aria-expanded=\"true\">' +\n           '<p class=\"k-reset\">&nbsp;</p></td></tr>';\n      }\n\n      function toggleRow(row, visible) {\n          row = $(row)[0];\n          if (visible) {\n              row.style.display = \"\";\n          } else {\n              row.style.display = NONE;\n          }\n      }\n\n      function htmlEncode(value, backslashEscapeQuotes) {\n          var ampRegExp = /&/g,\n              ltRegExp = /</g,\n              quoteRegExp = /\"/g,\n              aposRegExp = /'/g,\n              gtRegExp = />/g;\n\n          return (\"\" + value)\n              .replace(ampRegExp, \"&amp;\")\n              .replace(ltRegExp, \"&lt;\")\n              .replace(gtRegExp, \"&gt;\")\n              .replace(quoteRegExp, function(match) {\n                  if (backslashEscapeQuotes) {\n                      return \"\\\\\" + match;\n                  }\n                  return \"&quot;\";\n              })\n              .replace(aposRegExp, \"&#39;\");\n      }\n\n      function getTitle(field, columns) {\n           return columns.filter(function(col) {\n               return col.field === field;\n           })[0].title || field;\n       }\n\n       function exportDataSort(a, b) {\n           return this.dataSource.indexOf(this.dataSource.getByUid(a.uid)) - this.dataSource.indexOf(this.dataSource.getByUid(b.uid));\n       }\n\n       function isExcelExportableColumn(column) {\n           return !(column.exportable === false || (column.exportable && column.exportable.excel === false));\n       }\n\n      ui.plugin(Grid);\n      ui.plugin(VirtualScrollable);\n\n   })(window.kendo.jQuery);\n   var kendo$1 = kendo;\n\n   return kendo$1;\n\n}));\n"]}