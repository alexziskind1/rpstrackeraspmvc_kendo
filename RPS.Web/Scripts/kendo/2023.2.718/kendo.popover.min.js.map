{"version":3,"file":"kendo.popover.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendopopover","js","this","$","undefined$1","kendo","window","Popup","ui","TooltipBase","extend","DOCUMENT","document","NS","TEXTBUTTONTEMPLATE","ref","index","text","html","renderButton","fillMode","themeColor","ICONTEXTBUTTONTEMPLATE","icon","iconClass","ICONBUTTON","TEMPLATE","callout","dir","SHOW","HIDE","REVERSE","top","bottom","left","right","center","POSITIONS","origin","position","collision","DIRCLASSES","EVENTSCOUNTERPART","mouseenter","focus","focusin","DIMENSIONS","horizontal","offset","size","vertical","Popover","init","element","options","axis","that","fn","call","match","dimensions","_saveTitle","noop","_documentKeyDownHandler","_documentKeyDown","bind","_actionsHandler","_actionsClick","toggleOnClick","_isShownOnClick","on","support","touch","mousedown","showOn","filter","_showAction","_dismissAction","name","actions","actionsLayout","width","height","animation","open","effects","duration","close","hide","events","_addAria","id","wrapper","find","length","attr","_isDialog","header","guid","body","_appendContent","target","positioning","template","emptyResult","children","remove","append","_buildActions","e","button","currentTarget","action","parseInt","click","sender","_attachActions","_dettachActions","off","keyCode","keys","ESC","_shown","TAB","allFocusables","firstFocusable","first","lastFocusable","last","shiftKey","activeElement","trigger","preventDefault","_initPopup","popup","activate","_offset","_positionCallout","_addDescribedBy","_hovered","copyAnchorStyles","css","_isShownOnMouseEnter","arrow","clearTimeout","timeout","setTimeout","hideAfter","_show","current","kendoStop","anchor","one","_removeDescribedBy","removeAttr","_openPopup","cssClass","flipped","removeClass","addClass","destroy","plugin","jQuery"],"sources":["kendo.popover.js"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('kendo.tooltip.js'), require('kendo.html.button.js')) :\n    typeof define === 'function' && define.amd ? define(['kendo.tooltip', 'kendo.html.button'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.kendopopover = global.kendopopover || {}, global.kendopopover.js = factory()));\n})(this, (function () {\n    var __meta__ = {\n        id: \"popover\",\n        name: \"Popover\",\n        category: \"web\",\n        description: \"The Popover widget displays a popup with additional information for an element.\",\n        depends: [ \"tooltip\", \"html.button\" ],\n        features: [ {\n            id: \"popover-fx\",\n            name: \"Animation\",\n            description: \"Support for animation\",\n            depends: [ \"fx\" ]\n        } ]\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            Popup = kendo.ui.Popup,\n            TooltipBase = kendo.ui.TooltipBase,\n            extend = $.extend,\n            DOCUMENT = $(document),\n            NS = \".kendoPopover\",\n            ARROWWIDTH = 28,\n            TEXTBUTTONTEMPLATE = function (ref) {\n                var index = ref.index;\n                var text = ref.text;\n\n                return kendo.html.renderButton((\"<button \" + index + \">\" + text + \"</button>\"), {\n                fillMode: \"flat\",\n                themeColor: 'primary'\n            });\n        },\n            ICONTEXTBUTTONTEMPLATE = function (ref) {\n                var index = ref.index;\n                var text = ref.text;\n                var icon = ref.icon;\n                var iconClass = ref.iconClass;\n\n                return kendo.html.renderButton((\"<button \" + index + \">\" + text + \"</button>\"), {\n                icon: icon,\n                iconClass: 'k-button-icon' + (iconClass ? (\" \" + iconClass) : '')\n            });\n        },\n            ICONBUTTON = function (ref) {\n                var index = ref.index;\n                var icon = ref.icon;\n                var iconClass = ref.iconClass;\n\n                return kendo.html.renderButton((\"<button \" + index + \"></button>\"), {\n                icon: icon,\n                iconClass: 'k-button-icon' + (iconClass ? (\" \" + iconClass) : '')\n            });\n        },\n            CARDTEMPLATE = function (ref) {\n                var header = ref.header;\n                var actions = ref.actions;\n                var body = ref.body;\n                var positioning = ref.positioning;\n\n                return \"\" + (header ? '<div class=\"k-popover-header\">' + header + '</div>' : '') +\n            \"<div class=\\\"k-popover-body\\\">\" + body + \"</div>\" +\n            \"\" + (actions ? '<div class=\"k-popover-actions k-actions k-hstack k-justify-content-' + positioning + '\">' + actions + '</div>' : '');\n        },\n            TEMPLATE = function (ref) {\n                var callout = ref.callout;\n                var dir = ref.dir;\n\n                return '<div role=\"tooltip\" class=\"k-popover k-widget\">' +\n            \"\" + (callout ? '<div class=\"k-popover-callout k-callout-' + dir + '\"></div><div class=\"k-popover-inner\"></div>' : '') +\n            '</div>';\n        },\n            SHOW = \"show\",\n            HIDE = \"hide\",\n            REVERSE = {\n                \"top\": \"bottom\",\n                \"bottom\": \"top\",\n                \"left\": \"right\",\n                \"right\": \"left\",\n                \"center\": \"center\"\n            },\n            POSITIONS = {\n                bottom: {\n                    origin: \"bottom center\",\n                    position: \"top center\"\n                },\n                top: {\n                    origin: \"top center\",\n                    position: \"bottom center\"\n                },\n                left: {\n                    origin: \"center left\",\n                    position: \"center right\",\n                    collision: \"fit flip\"\n                },\n                right: {\n                    origin: \"center right\",\n                    position: \"center left\",\n                    collision: \"fit flip\"\n                },\n                center: {\n                    position: \"center center\",\n                    origin: \"center center\"\n                }\n            },\n            DIRCLASSES = {\n                bottom: \"n\",\n                top: \"s\",\n                left: \"e\",\n                right: \"w\",\n                center: \"n\"\n            },\n            EVENTSCOUNTERPART = {\n                \"mouseenter\": \"mouseleave\",\n                \"focus\": \"blur\",\n                \"focusin\": \"focusout\"\n            },\n            DIMENSIONS = {\n                \"horizontal\": { offset: \"top\", size: \"outerHeight\" },\n                \"vertical\": { offset: \"left\", size: \"outerWidth\" }\n            };\n\n        var Popover = TooltipBase.extend({\n            init: function(element, options) {\n                var that = this,\n                    axis;\n\n                TooltipBase.fn.init.call(that, element, options);\n\n                axis = that.options.position.match(/left|right/) ? \"horizontal\" : \"vertical\";\n\n                that.dimensions = DIMENSIONS[axis];\n                that._saveTitle = $.noop;\n\n                that._documentKeyDownHandler = that._documentKeyDown.bind(that);\n                that._actionsHandler = that._actionsClick.bind(that);\n\n                if (that.options.toggleOnClick && that._isShownOnClick()) {\n                    that.element.on((kendo.support.touch ? kendo.support.mousedown : that.options.showOn) + NS, that.options.filter, that._showAction.bind(that));\n                }\n\n                if (!that._isShownOnClick()) {\n                    that.element.on(EVENTSCOUNTERPART[that.options.showOn], that.options.filter, that._dismissAction.bind(that));\n                }\n            },\n\n            options: {\n                name: \"Popover\",\n                filter: \"\",\n                actions: [],\n                actionsLayout: \"center\",\n                position: \"bottom\",\n                showOn: \"mouseenter\",\n                toggleOnClick: false,\n                width: null,\n                height: null,\n                animation: {\n                    open: {\n                        effects: \"fade:in\",\n                        duration: 0\n                    },\n                    close: {\n                        duration: 40,\n                        hide: true\n                    }\n                }\n            },\n\n            events: [ SHOW, HIDE ],\n\n            _addAria: function() {\n                var that = this;\n                var options = that.options;\n                var id;\n\n                if (that._isShownOnClick() && that.wrapper.find(\"a,input,select,textarea,button\").length) {\n                    that.wrapper.attr(\"role\", \"dialog\");\n                    that._isDialog = true;\n\n                    if (options.header) {\n                        id = kendo.guid();\n                        that.wrapper\n                            .attr(\"aria-labelledby\", id)\n                            .find(\".k-popover-header\").attr(\"id\", id);\n                    }\n\n                    if (options.body) {\n                        id = kendo.guid();\n                        that.wrapper\n                            .attr(\"aria-describedby\", id)\n                            .find(\".k-popover-body\").attr(\"id\", id);\n                    }\n                } else {\n                    that.wrapper.attr(\"role\", \"tooltip\");\n                }\n            },\n\n            _appendContent: function(target) {\n                var that = this,\n                    options = that.options,\n                    element = that.wrapper.find(\".k-popover-inner\"),\n                    template = that.options.template,\n                    emptyResult = function () { return \"\"; };\n\n                if (element.length) {\n                    element.children().remove();\n                } else {\n                    that.wrapper.children(\":not(.k-popover-callout)\").remove();\n                }\n\n                element = element.length ? element : that.wrapper;\n\n                if (template) {\n                    element.append(kendo.template(template)({ target: target }));\n                } else {\n                    element.append(CARDTEMPLATE({\n                        header: kendo.template(options.header || emptyResult)({ target: target }),\n                        body: kendo.template(options.body || emptyResult)({ target: target }),\n                        actions: that._buildActions(options.actions),\n                        positioning: options.actionsLayout\n                    }));\n                }\n            },\n\n            _actionsClick: function(e) {\n                var that = this;\n                var actions = that.options.actions;\n                var button = $(e.currentTarget);\n\n                var action = actions[parseInt(button.attr(kendo.attr(\"index\")), 10)];\n\n                if (action.click) {\n                    action.click.call(that, {\n                        sender: that,\n                        target: button\n                    });\n                }\n            },\n\n            _attachActions: function() {\n                var that = this;\n\n                that.wrapper.on(\"click\" + NS, \".k-popover-actions .k-button\", that._actionsHandler);\n            },\n\n            _dettachActions: function() {\n                var that = this;\n\n                if (that.wrapper) {\n                    that.wrapper.off(\"click\" + NS, that._actionsHandler);\n                }\n            },\n\n            _buildActions: function(actions) {\n                if (!actions.length) {\n                    return;\n                }\n\n                var html = \"\";\n                var action;\n                for (var index = 0; index < actions.length; index++) {\n                    action = actions[index];\n\n                    if (action.text && (action.icon || action.iconClass)) {\n                        html += kendo.template(ICONTEXTBUTTONTEMPLATE)( { text: action.text, index: kendo.attr(\"index\") + \"=\" + index, icon: action.icon, iconClass: action.iconClass });\n                    } else if ((action.icon || action.iconClass) && !action.text) {\n                        html += kendo.template(ICONBUTTON)( { index: kendo.attr(\"index\") + \"=\" + index, icon: action.icon, iconClass: action.iconClass });\n                    } else {\n                        html += kendo.template(TEXTBUTTONTEMPLATE)( { text: action.text, index: kendo.attr(\"index\") + \"=\" + index });\n                    }\n                }\n\n                return html;\n            },\n\n            _documentKeyDown: function(e) {\n                if (e.keyCode === kendo.keys.ESC) {\n                    this._shown = false;\n                    this._dismissAction();\n                }\n\n                if (e.keyCode === kendo.keys.TAB) {\n                    var allFocusables = this.wrapper.find(\":kendoFocusable\");\n                    var firstFocusable = allFocusables.first();\n                    var lastFocusable = allFocusables.last();\n                    if (e.shiftKey) {\n                        if (document.activeElement === firstFocusable[0]) {\n                            lastFocusable.trigger(\"focus\");\n                            e.preventDefault();\n                        }\n                    } else {\n                        if (document.activeElement === lastFocusable[0]) {\n                            firstFocusable.trigger(\"focus\");\n                            e.preventDefault();\n                        }\n                    }\n                }\n            },\n\n            _initPopup: function() {\n                var that = this,\n                    options = that.options,\n                    wrapper = $(kendo.template(TEMPLATE)({\n                        callout: options.callout && options.position !== \"center\",\n                        dir: DIRCLASSES[options.position]\n                    }));\n\n                that.wrapper = wrapper;\n                that.popup = new Popup(wrapper, extend({\n                    activate: function() {\n                        that._offset(that.options.position, that.options.offset, ARROWWIDTH);\n                        that._positionCallout();\n\n                        that._attachActions();\n\n                        DOCUMENT.on(\"keydown\" + NS, that._documentKeyDownHandler);\n                        if (that._isDialog) {\n                            that.wrapper.find(\":kendoFocusable\").first().trigger(\"focus\");\n                        } else {\n                            that._addDescribedBy();\n                        }\n                        that.trigger(SHOW);\n                        that.popup._hovered = undefined$1;\n                    },\n                    close: function(e) {\n                        if (that.options.toggleOnClick && that._shown) {\n                            e.preventDefault();\n                            return;\n                        }\n                        that.trigger(HIDE);\n                    },\n                    copyAnchorStyles: false,\n                    animation: options.animation\n                }, POSITIONS[options.position]));\n\n                wrapper.css({\n                    width: options.width,\n                    height: options.height\n                });\n\n                if (that._isShownOnMouseEnter()) {\n                    wrapper.on(\"mouseleave\" + NS, that._dismissAction.bind(that));\n                }\n\n                that.arrow = wrapper.find(\".k-popover-callout\");\n            },\n\n            _dismissAction: function() {\n                var that = this;\n\n                clearTimeout(that.timeout);\n\n                that.timeout = setTimeout(function() {\n                    if (that.popup && !that.popup._hovered) {\n                        that.popup.close();\n                    }\n                }, that.options.hideAfter);\n            },\n\n            _showAction: function() {\n                var that = this;\n                that._shown = !that._shown;\n\n                if (!that._shown) {\n                    that.popup.close();\n                }\n            },\n\n            _show: function(target) {\n                var that = this,\n                    current = that.target();\n\n                if (!that.popup) {\n                    that._initPopup();\n                }\n\n                if (current && current[0] != target[0]) {\n                    that.popup.close();\n                    that.popup.element.kendoStop(true, true);\n                }\n\n                if (!current || current[0] != target[0]) {\n                    that._appendContent(target);\n                    that._addAria();\n                    that.popup.options.anchor = target;\n                }\n\n                that.popup.one(\"deactivate\", function() {\n                    DOCUMENT.off(\"keydown\" + NS, that._documentKeyDownHandler);\n\n                    if (!that._isDialog) {\n                        that._removeDescribedBy(that.target());\n                        this.element.removeAttr(\"id\");\n                    }\n                    that._dettachActions();\n                });\n\n                that._openPopup();\n            },\n\n            _positionCallout: function() {\n                var that = this,\n                    position = that.options.position,\n                    popup = that.popup,\n                    cssClass = DIRCLASSES[popup.flipped ? REVERSE[position] : position];\n\n                that.arrow.removeClass(\"k-callout-s k-callout-w k-callout-e k-callout-n\")\n                   .addClass(\"k-callout-\" + cssClass);\n            },\n\n            destroy: function() {\n                this.element.off(NS);\n\n                this._dettachActions();\n                clearTimeout(this.timeout);\n                DOCUMENT.off(\"keydown\" + NS, this._documentKeyDownHandler);\n                TooltipBase.fn.destroy.call(this);\n            }\n        });\n\n        kendo.ui.plugin(Popover);\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    return kendo$1;\n\n}));\n"]}