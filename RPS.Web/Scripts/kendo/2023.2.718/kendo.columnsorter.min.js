/**
 * Kendo UI v2023.2.718 (http://www.telerik.com/kendo-ui)
 * Copyright 2023 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("kendo.core.js"),require("kendo.icons.js")):"function"==typeof define&&define.amd?define(["kendo.core.min","kendo.icons.min"],t):((e="undefined"!=typeof globalThis?globalThis:e||self).kendocolumnsorter=e.kendocolumnsorter||{},e.kendocolumnsorter.js=t())}(this,(function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.Widget,i="dir",s="asc",a="single",l="mixed",d="field",c="desc",f=".kendoColumnSorter",u=".k-link",k="aria-sort",p=o.extend({init:function(e,t){var n,r=this;o.fn.init.call(r,e,t),r._refreshHandler=r.refresh.bind(r),r.dataSource=r.options.dataSource.bind("change",r._refreshHandler),r.directions=r.options.initialDirection===s?[s,c]:[c,s],(n=r.element.find(u))[0]||(n=r.element.wrapInner('<a class="k-link" href="#"/>').find(u)),r.link=n,r.element.on("click"+f,r._click.bind(r))},options:{name:"ColumnSorter",mode:a,allowUnsort:!0,compare:null,filter:"",initialDirection:s,showIndexes:!1},events:["change"],destroy:function(){var e=this;o.fn.destroy.call(e),e.element.off(f),e.dataSource.unbind("change",e._refreshHandler),e._refreshHandler=e.element=e.link=e.dataSource=null},refresh:function(r){if(!r||"itemchange"!==r.action&&"sync"!==r.action){var o,a,l,f,u,p,m,h,g=this,v=g.dataSource.sort()||[],b=g.element,x=b.attr(n.attr(d)),S=(g.dataSource._sortFields||{})[x];b.removeAttr(n.attr(i)),b.removeAttr(k),S&&(o=S.dir,b.attr(n.attr(i),o),f=S.index),b.is("th")&&S&&(a=function(e){var t=null;e.is("th")&&((t=e.closest("table")).parent().hasClass("k-grid-header-wrap")?t=t.closest(".k-grid").find(".k-grid-content > table"):t.parent().hasClass("k-grid-header-locked")&&(t=t.closest(".k-grid").find(".k-grid-content-locked > table")));return t}(b),a&&(b.attr(n.attr("index"))?(u=b.closest("table"),p=u.find("tr:not(.k-filter-row)"),m=n.attr("index"),(h=p.find("th["+m+"]:visible")).sort((function(n,r){n=e(n),r=e(r);var o=n.attr(m),i=r.attr(m);return o===t&&(o=e(n).index()),i===t&&(i=e(r).index()),(o=parseInt(o,10))>(i=parseInt(i,10))?1:o<i?-1:0})),l=h.index(b)):l=b.parent().children(":visible").index(b),a.find("col:not(.k-group-col):not(.k-hierarchy-col)").eq(l).toggleClass("k-sorted",o!==t))),b.toggleClass("k-sorted",o!==t),b.find(".k-i-sort-asc-small,.k-i-sort-desc-small,.k-svg-i-sort-asc-small,.k-svg-i-sort-desc-small,.k-sort-order,.k-sort-icon").remove(),o===s?(e('<span class="k-sort-icon">'+n.ui.icon("sort-asc-small")+"</span>").appendTo(g.link),b.attr(k,"ascending")):o===c&&(e('<span class="k-sort-icon">'+n.ui.icon("sort-desc-small")+"</span>").appendTo(g.link),b.attr(k,"descending")),g.options.showIndexes&&v.length>1&&f&&e('<span class="k-sort-order" />').html(f).appendTo(g.link)}},_toggleSortDirection:function(e){var n=this.directions;return e===n[n.length-1]&&this.options.allowUnsort?t:n[0]===e?n[1]:n[0]},_click:function(e){var r,o,s=this,c=s.element,f=c.attr(n.attr(d)),u=c.attr(n.attr(i)),k=s.options,p=null===s.options.compare?t:s.options.compare,m=s.dataSource.sort()||[],h=e.ctrlKey||e.metaKey;if(e.preventDefault(),(!k.filter||c.is(k.filter))&&(u=this._toggleSortDirection(u),!this.trigger("change",{sort:{field:f,dir:u,compare:p}}))){if(k.mode===a||k.mode===l&&!h)m=[{field:f,dir:u,compare:p}];else if("multiple"===k.mode||k.mode===l&&h){for(r=0,o=m.length;r<o;r++)if(m[r].field===f){m.splice(r,1);break}m.push({field:f,dir:u,compare:p})}this.dataSource.options.endless&&c.closest(".k-grid").getKendoGrid()._resetEndless(),this.dataSource.sort(m)}}});r.plugin(p)}(window.kendo.jQuery),kendo}));
//# sourceMappingURL=kendo.columnsorter.min.js.map
